import{an as s}from"./theme.752db845.js";let a=null;async function o(){return a||(a=await s("history",1,{upgrade(e){e.createObjectStore("history",{keyPath:"date"}).createIndex("date","date")}})),a}let i=null,t=null;async function y(e){let r=await o();t&&(clearTimeout(t),t=null);const n=new Date()[Symbol.toPrimitive]("number");i={...e,date:n},t=setTimeout(async()=>{await r.add("history",i),clearTimeout(t),t=null,i=null},2e3)}async function c(){await(await o()).clear("history")}async function u(){return await(await o()).getAllFromIndex("history","date")}export{y as a,c,u as g};
