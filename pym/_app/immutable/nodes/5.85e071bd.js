import{aj as P,c as q,t as x,a9 as z,x as G,ak as U}from"../chunks/theme.752db845.js";import{s as X,f as p,a as j,g,h as $,d as m,c as C,j as d,k as M,i as B,v as b,G as H,F as O,l as J,m as K,n as Q,X as N,A as W,w as Y}from"../chunks/scheduler.1839fe44.js";import{S as Z,i as ee,b as A,d as w,m as E,a as h,c as te,t as k,e as D,g as oe}from"../chunks/index.9a9a87ad.js";import{e as I}from"../chunks/each.821dfe5c.js";import{S as ne,g as F,a as L}from"../chunks/ShareIcon.96c40192.js";import{I as ae}from"../chunks/IconCard.ad05521e.js";import{t as y,S as re,s as se,a as V,b as ce,c as le}from"../chunks/annotation-share.39f5c26b.js";import{B as ie}from"../chunks/BookmarkIcon.c50da47a.js";import{N as _e}from"../chunks/Navbar.3f779d19.js";import{f as ue}from"../chunks/dateUtils.b75773c7.js";import{p as fe}from"../chunks/stores.f3b75e2e.js";import{e as me}from"../chunks/singletons.a4b0b5e6.js";async function de({depends:_}){const o=(await P()).filter(e=>q.bookCollections.some(u=>u.id===e.collection));return _("bookmarks"),{bookmarks:o}}const Ve=Object.freeze(Object.defineProperty({__proto__:null,load:de},Symbol.toStringTag,{value:"Module"}));function R(_,t,o){const e=_.slice();e[9]=t[o];const u={docSet:e[9].docSet,collection:e[9].collection,book:e[9].book,chapter:e[9].chapter,verse:e[9].verse,reference:e[9].reference,text:e[9].text,date:ue(new Date(e[9].date)),actions:[e[1].Annotation_Menu_View,e[1].Annotation_Menu_Share,e[1].Annotation_Menu_Delete]};return e[10]=u,e}function he(_){let t,o,e=_[1].Annotation_Bookmarks+"",u;return{c(){t=p("label"),o=p("div"),u=J(e),this.h()},l(s){t=g(s,"LABEL",{for:!0,slot:!0});var a=$(t);o=g(a,"DIV",{class:!0});var f=$(o);u=K(f,e),f.forEach(m),a.forEach(m),this.h()},h(){d(o,"class","btn btn-ghost normal-case text-xl"),d(t,"for","sidebar"),d(t,"slot","center")},m(s,a){B(s,t,a),b(t,o),b(o,u)},p(s,a){a&2&&e!==(e=s[1].Annotation_Bookmarks+"")&&Q(u,e)},d(s){s&&m(t)}}}function pe(_){let t,o,e,u,s,a,f,r;e=new ne({props:{color:"white"}});const v=[_[5]];let c={};for(let n=0;n<v.length;n+=1)c=N(c,v[n]);return s=new re({props:c}),s.$on("menuaction",_[7]),{c(){t=p("div"),o=p("button"),A(e.$$.fragment),u=j(),A(s.$$.fragment),this.h()},l(n){t=g(n,"DIV",{slot:!0});var l=$(t);o=g(l,"BUTTON",{class:!0});var i=$(o);w(e.$$.fragment,i),i.forEach(m),u=C(l),w(s.$$.fragment,l),l.forEach(m),this.h()},h(){d(o,"class","dy-btn dy-btn-ghost dy-btn-circle"),d(t,"slot","right-buttons")},m(n,l){B(n,t,l),b(t,o),E(e,o,null),b(t,u),E(s,t,null),a=!0,f||(r=W(o,"click",_[6]),f=!0)},p(n,l){const i=l&32?F(v,[L(n[5])]):{};s.$set(i)},i(n){a||(h(e.$$.fragment,n),h(s.$$.fragment,n),a=!0)},o(n){k(e.$$.fragment,n),k(s.$$.fragment,n),a=!1},d(n){n&&m(t),D(e),D(s),f=!1,r()}}}function ge(_){let t,o;return t=new ie({props:{slot:"icon",color:"#b10000"}}),{c(){A(t.$$.fragment)},l(e){w(t.$$.fragment,e)},m(e,u){E(t,e,u),o=!0},p:Y,i(e){o||(h(t.$$.fragment,e),o=!0)},o(e){k(t.$$.fragment,e),o=!1},d(e){D(t,e)}}}function T(_){let t,o;const e=[_[10]];function u(...a){return _[8](_[9],...a)}let s={$$slots:{icon:[ge]},$$scope:{ctx:_}};for(let a=0;a<e.length;a+=1)s=N(s,e[a]);return t=new ae({props:s}),t.$on("menuaction",u),{c(){A(t.$$.fragment)},l(a){w(t.$$.fragment,a)},m(a,f){E(t,a,f),o=!0},p(a,f){_=a;const r=f&7?F(e,[L(_[10])]):{};f&8192&&(r.$$scope={dirty:f,ctx:_}),t.$set(r)},i(a){o||(h(t.$$.fragment,a),o=!0)},o(a){k(t.$$.fragment,a),o=!1},d(a){D(t,a)}}}function $e(_){let t,o,e,u,s,a;e=new _e({props:{$$slots:{"right-buttons":[pe],center:[he]},$$scope:{ctx:_}}});let f=I(y(_[2].data.bookmarks,_[0])),r=[];for(let c=0;c<f.length;c+=1)r[c]=T(R(_,f,c));const v=c=>k(r[c],1,1,()=>{r[c]=null});return{c(){t=p("div"),o=p("div"),A(e.$$.fragment),u=j(),s=p("div");for(let c=0;c<r.length;c+=1)r[c].c();this.h()},l(c){t=g(c,"DIV",{class:!0,style:!0});var n=$(t);o=g(n,"DIV",{class:!0});var l=$(o);w(e.$$.fragment,l),l.forEach(m),u=C(n),s=g(n,"DIV",{id:!0,class:!0});var i=$(s);for(let S=0;S<r.length;S+=1)r[S].l(i);i.forEach(m),n.forEach(m),this.h()},h(){d(o,"class","navbar"),d(s,"id","bookmarks"),d(s,"class","overflow-y-auto p-2.5"),d(t,"class","grid grid-rows-[auto,1fr]"),M(t,"height","100vh"),M(t,"height","100dvh")},m(c,n){B(c,t,n),b(t,o),E(e,o,null),b(t,u),b(t,s);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(s,null);a=!0},p(c,[n]){const l={};if(n&8199&&(l.$$scope={dirty:n,ctx:c}),e.$set(l),n&15){f=I(y(c[2].data.bookmarks,c[0]));let i;for(i=0;i<f.length;i+=1){const S=R(c,f,i);r[i]?(r[i].p(S,n),h(r[i],1)):(r[i]=T(S),r[i].c(),h(r[i],1),r[i].m(s,null))}for(oe(),i=f.length;i<r.length;i+=1)v(i);te()}},i(c){if(!a){h(e.$$.fragment,c);for(let n=0;n<f.length;n+=1)h(r[n]);a=!0}},o(c){k(e.$$.fragment,c),r=r.filter(Boolean);for(let n=0;n<r.length;n+=1)k(r[n]);a=!1},d(c){c&&m(t),D(e),H(r,c)}}}function be(_,t,o){let e,u;O(_,x,l=>o(1,e=l)),O(_,fe,l=>o(2,u=l));async function s(l,i){switch(l.detail.text){case e.Annotation_Menu_View:G.set(i),U(`${me}/`);break;case e.Annotation_Menu_Share:await se(i);break;case e.Annotation_Menu_Delete:await z(i.date);break}}function a(l){switch(l.detail.text){case e.Annotation_Sort_Order_Reference:o(0,r=ce);break;case e.Annotation_Sort_Order_Date:o(0,r=V);break}}const f={actions:[e.Annotation_Sort_Order_Reference,e.Annotation_Sort_Order_Date]};let r=V;return[r,e,u,s,a,f,async()=>await le(y(u.data.bookmarks,r)),l=>a(l),(l,i)=>s(i,l)]}class Re extends Z{constructor(t){super(),ee(this,t,be,$e,X,{})}}export{Re as component,Ve as universal};
