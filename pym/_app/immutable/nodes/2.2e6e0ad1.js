var vC=Object.defineProperty;var yC=(t,e,u)=>e in t?vC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):t[e]=u;var ao=(t,e,u)=>(yC(t,typeof e!="symbol"?e+"":e,u),u);import{C as gC,s as rr,D as Qr,t as ja,E as Ru,F as tr,G as zF,c as Qe,P as Wc,H as bC,I as Fl,J as BC,K as _C,x as Ut,O as wC,Q as SC,g as Sn,q as Du,R as Mt,S as uu,T as Jr,U as $n,V as $C,W as kC,X as Kt,Y as oo,Z as ml,_ as qC,$ as Hr,a0 as Lu,a1 as GF,a2 as TC,a3 as PC,a4 as IC,a5 as OC,y as lu,a6 as An,n as RC,a7 as xC,a8 as jC,a9 as NC,aa as MC,ab as LC,m as ma,B as UC,ac as so,ad as El,k as VC,j as WC,i as Cl,ae as zC,af as GC,ag as HC,ah as JC,d as ZC,a as KC,ai as QC,N as YC,e as XC,M as Al}from"../chunks/theme.752db845.js";import{s as ot,r as Ze,u as Ke,h as Y,d as O,j as B,i as de,v as ue,w as Ie,F as Ve,f as he,l as Pt,a as We,g as Fe,m as It,c as ze,A as Ye,n as nu,E as gr,L as zt,k as _e,Q as vl,q as Ou,e as gt,G as br,N as HF,z as jt,p as Cr,R as ba,S as eA,T as tA,U as uA,V as rA,W as JF,X as Yr,Y as yl,x as ZF,B as KF,C as QF,D as YF,o as XF,Z as gl,b as nA,_ as aA}from"../chunks/scheduler.1839fe44.js";import{S as st,i as it,b as xe,d as Ge,m as je,a as se,t as le,e as Ne,g as bt,c as Bt}from"../chunks/index.9a9a87ad.js";import{g as Xr,a as kn,S as oA}from"../chunks/ShareIcon.96c40192.js";import{M as sA,D as em,a as tm,b as um,I as iA,H as cA,T as lA,B as DA}from"../chunks/TabsMenu.dd42f154.js";import{e as Ba,j as fA,w as rm}from"../chunks/singletons.a4b0b5e6.js";import{e as eu,u as dA,o as pA}from"../chunks/each.821dfe5c.js";import{a as vn}from"../chunks/history.d5572e27.js";import{S as hA}from"../chunks/SearchIcon.df4b85ad.js";import{N as FA}from"../chunks/Navbar.3f779d19.js";import{B as mA}from"../chunks/BookmarkIcon.c50da47a.js";import{N as EA}from"../chunks/NoteIcon.3da15fe0.js";import{s as CA}from"../chunks/share.9bc64642.js";import{p as AA}from"../chunks/stores.f3b75e2e.js";function vA(t){let e,u;return{c(){e=Ze("svg"),u=Ze("path"),this.h()},l(r){e=Ke(r,"svg",{fill:!0,xmlns:!0,height:!0,width:!0});var n=Y(e);u=Ke(n,"path",{d:!0}),Y(u).forEach(O),n.forEach(O),this.h()},h(){B(u,"d","M5 21V5q0-.825.588-1.413Q6.175 3 7 3h10q.825 0 1.413.587Q19 4.175 19 5v16l-7-3Zm2-3.05 5-2.15 5 2.15V5H7ZM7 5h10-5Z"),B(e,"fill",t[0]),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"height","24"),B(e,"width","24")},m(r,n){de(r,e,n),ue(e,u)},p(r,[n]){n&1&&B(e,"fill",r[0])},i:Ie,o:Ie,d(r){r&&O(e)}}}function yA(t,e,u){let{color:r="black"}=e;return t.$$set=n=>{"color"in n&&u(0,r=n.color)},[r]}class gA extends st{constructor(e){super(),it(this,e,yA,vA,ot,{color:0})}}function bA(t){let e,u,r,n;return{c(){e=Ze("svg"),u=Ze("g"),r=Ze("path"),this.h()},l(a){e=Ke(a,"svg",{fill:!0,xmlns:!0,width:!0,height:!0,viewBox:!0});var o=Y(e);u=Ke(o,"g",{transform:!0});var s=Y(u);r=Ke(s,"path",{d:!0}),Y(r).forEach(O),s.forEach(O),o.forEach(O),this.h()},h(){B(r,"d","M10 6L8.59 7.41L13.17 12l-4.58 4.59L10 18l6-6z"),B(u,"transform",n="rotate("+t[2]+" 12 12)"),B(e,"fill",t[0]),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"width",t[1]),B(e,"height",t[1]),B(e,"viewBox","0 0 24 24")},m(a,o){de(a,e,o),ue(e,u),ue(u,r)},p(a,[o]){o&4&&n!==(n="rotate("+a[2]+" 12 12)")&&B(u,"transform",n),o&1&&B(e,"fill",a[0]),o&2&&B(e,"width",a[1]),o&2&&B(e,"height",a[1])},i:Ie,o:Ie,d(a){a&&O(e)}}}function BA(t,e,u){let{color:r="black"}=e,{size:n=24}=e,{deg:a=0}=e;return t.$$set=o=>{"color"in o&&u(0,r=o.color),"size"in o&&u(1,n=o.size),"deg"in o&&u(2,a=o.deg)},[r,n,a]}class bl extends st{constructor(e){super(),it(this,e,BA,bA,ot,{color:0,size:1,deg:2})}}function _A(t){let e,u;return{c(){e=Ze("svg"),u=Ze("path"),this.h()},l(r){e=Ke(r,"svg",{fill:!0,xmlns:!0,height:!0,width:!0});var n=Y(e);u=Ke(n,"path",{d:!0}),Y(u).forEach(O),n.forEach(O),this.h()},h(){B(u,"d","M 5,2 Q 4.175,2 3.587,2.587 3,3.175 3,4 V 18 H 5 V 4 H 16 V 2 Z M 9,6 Q 8.175,6 7.588,6.587 7,7.175 7,8 V 20 Q 7,20.825 7.588,21.413 8.175,22 9,22 h 9 q 0.825,0 1.413,-0.587 Q 20,20.825 20,20 V 8 Q 20,7.175 19.413,6.587 18.825,6 18,6 Z m 0,2 h 9 V 20 H 9 Z m 0,0 v 12 z"),B(e,"fill",t[0]),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"height","24"),B(e,"width","24")},m(r,n){de(r,e,n),ue(e,u)},p(r,[n]){n&1&&B(e,"fill",r[0])},i:Ie,o:Ie,d(r){r&&O(e)}}}function wA(t,e,u){let{color:r="black"}=e;return t.$$set=n=>{"color"in n&&u(0,r=n.color)},[r]}class SA extends st{constructor(e){super(),it(this,e,wA,_A,ot,{color:0})}}function $A(t){let e,u,r,n;return{c(){e=Ze("svg"),u=Ze("path"),this.h()},l(a){e=Ke(a,"svg",{fill:!0,xmlns:!0,height:!0,viewBox:!0,width:!0});var o=Y(e);u=Ke(o,"path",{d:!0}),Y(u).forEach(O),o.forEach(O),this.h()},h(){B(u,"d","M560-280 360-480l200-200v400Z"),B(e,"fill",t[1]),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"height",r=24*t[0]),B(e,"viewBox","0 -960 960 960"),B(e,"width",n=24*t[0])},m(a,o){de(a,e,o),ue(e,u)},p(a,[o]){o&2&&B(e,"fill",a[1]),o&1&&r!==(r=24*a[0])&&B(e,"height",r),o&1&&n!==(n=24*a[0])&&B(e,"width",n)},i:Ie,o:Ie,d(a){a&&O(e)}}}function kA(t,e,u){let{scale:r=1}=e,{color:n="black"}=e;return t.$$set=a=>{"scale"in a&&u(0,r=a.scale),"color"in a&&u(1,n=a.color)},[r,n]}class qA extends st{constructor(e){super(),it(this,e,kA,$A,ot,{scale:0,color:1})}}function TA(t){let e,u,r,n;return{c(){e=Ze("svg"),u=Ze("path"),this.h()},l(a){e=Ke(a,"svg",{fill:!0,xmlns:!0,height:!0,viewBox:!0,width:!0});var o=Y(e);u=Ke(o,"path",{d:!0}),Y(u).forEach(O),o.forEach(O),this.h()},h(){B(u,"d","M400-280v-400l200 200-200 200Z"),B(e,"fill",t[1]),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"height",r=24*t[0]),B(e,"viewBox","0 -960 960 960"),B(e,"width",n=24*t[0])},m(a,o){de(a,e,o),ue(e,u)},p(a,[o]){o&2&&B(e,"fill",a[1]),o&1&&r!==(r=24*a[0])&&B(e,"height",r),o&1&&n!==(n=24*a[0])&&B(e,"width",n)},i:Ie,o:Ie,d(a){a&&O(e)}}}function PA(t,e,u){let{scale:r=1}=e,{color:n="black"}=e;return t.$$set=a=>{"scale"in a&&u(0,r=a.scale),"color"in a&&u(1,n=a.color)},[r,n]}class IA extends st{constructor(e){super(),it(this,e,PA,TA,ot,{scale:0,color:1})}}function OA(t){let e,u;return{c(){e=Ze("svg"),u=Ze("path"),this.h()},l(r){e=Ke(r,"svg",{fill:!0,xmlns:!0,height:!0,width:!0});var n=Y(e);u=Ke(n,"path",{d:!0}),Y(u).forEach(O),n.forEach(O),this.h()},h(){B(u,"d","M2.5 18V6l9 6Zm10 0V6l9 6Z"),B(e,"fill",t[0]),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"height","24"),B(e,"width","24")},m(r,n){de(r,e,n),ue(e,u)},p(r,[n]){n&1&&B(e,"fill",r[0])},i:Ie,o:Ie,d(r){r&&O(e)}}}function RA(t,e,u){let{color:r="black"}=e;return t.$$set=n=>{"color"in n&&u(0,r=n.color)},[r]}class xA extends st{constructor(e){super(),it(this,e,RA,OA,ot,{color:0})}}function jA(t){let e,u;return{c(){e=Ze("svg"),u=Ze("path"),this.h()},l(r){e=Ke(r,"svg",{fill:!0,xmlns:!0,height:!0,width:!0});var n=Y(e);u=Ke(n,"path",{d:!0}),Y(u).forEach(O),n.forEach(O),this.h()},h(){B(u,"d","M7 15V9h4l5-5v16l-5-5Z"),B(e,"fill",t[0]),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"height","24"),B(e,"width","24")},m(r,n){de(r,e,n),ue(e,u)},p(r,[n]){n&1&&B(e,"fill",r[0])},i:Ie,o:Ie,d(r){r&&O(e)}}}function NA(t,e,u){let{color:r="black"}=e;return t.$$set=n=>{"color"in n&&u(0,r=n.color)},[r]}class MA extends st{constructor(e){super(),it(this,e,NA,jA,ot,{color:0})}}function LA(t){let e,u;return{c(){e=Ze("svg"),u=Ze("path"),this.h()},l(r){e=Ke(r,"svg",{fill:!0,xmlns:!0,viewBox:!0,height:!0,width:!0});var n=Y(e);u=Ke(n,"path",{d:!0}),Y(u).forEach(O),n.forEach(O),this.h()},h(){B(u,"d","M13 19V5h6v14Zm-8 0V5h6v14Z"),B(e,"fill",t[0]),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"viewBox","0 0 24 24"),B(e,"height",t[1]),B(e,"width",t[1])},m(r,n){de(r,e,n),ue(e,u)},p(r,[n]){n&1&&B(e,"fill",r[0]),n&2&&B(e,"height",r[1]),n&2&&B(e,"width",r[1])},i:Ie,o:Ie,d(r){r&&O(e)}}}function UA(t,e,u){let{color:r="black"}=e,{size:n="24"}=e;return t.$$set=a=>{"color"in a&&u(0,r=a.color),"size"in a&&u(1,n=a.size)},[r,n]}class VA extends st{constructor(e){super(),it(this,e,UA,LA,ot,{color:0,size:1})}}function WA(t){let e,u;return{c(){e=Ze("svg"),u=Ze("path"),this.h()},l(r){e=Ke(r,"svg",{fill:!0,xmlns:!0,height:!0,viewBox:!0,width:!0});var n=Y(e);u=Ke(n,"path",{d:!0}),Y(u).forEach(O),n.forEach(O),this.h()},h(){B(u,"d","m380 756 280-180-280-180v360Zm100 220q-83 0-156-31.5T197 859q-54-54-85.5-127T80 576q0-83 31.5-156T197 293q54-54 127-85.5T480 176q83 0 156 31.5T763 293q54 54 85.5 127T880 576q0 83-31.5 156T763 859q-54 54-127 85.5T480 976Z"),B(e,"fill",t[0]),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"height",t[1]),B(e,"viewBox","0 96 960 960"),B(e,"width",t[1])},m(r,n){de(r,e,n),ue(e,u)},p(r,[n]){n&1&&B(e,"fill",r[0]),n&2&&B(e,"height",r[1]),n&2&&B(e,"width",r[1])},i:Ie,o:Ie,d(r){r&&O(e)}}}function zA(t,e,u){let{color:r="black"}=e,{size:n="24"}=e;return t.$$set=a=>{"color"in a&&u(0,r=a.color),"size"in a&&u(1,n=a.size)},[r,n]}class GA extends st{constructor(e){super(),it(this,e,zA,WA,ot,{color:0,size:1})}}function HA(t){let e,u;return{c(){e=Ze("svg"),u=Ze("path"),this.h()},l(r){e=Ke(r,"svg",{fill:!0,xmlns:!0,viewBox:!0,height:!0,width:!0});var n=Y(e);u=Ke(n,"path",{d:!0}),Y(u).forEach(O),n.forEach(O),this.h()},h(){B(u,"d","M8 19V5l11 7Z"),B(e,"fill",t[0]),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"viewBox","0 0 24 24"),B(e,"height",t[1]),B(e,"width",t[1])},m(r,n){de(r,e,n),ue(e,u)},p(r,[n]){n&1&&B(e,"fill",r[0]),n&2&&B(e,"height",r[1]),n&2&&B(e,"width",r[1])},i:Ie,o:Ie,d(r){r&&O(e)}}}function JA(t,e,u){let{color:r="black"}=e,{size:n="24"}=e;return t.$$set=a=>{"color"in a&&u(0,r=a.color),"size"in a&&u(1,n=a.size)},[r,n]}class ZA extends st{constructor(e){super(),it(this,e,JA,HA,ot,{color:0,size:1})}}function KA(t){let e,u;return{c(){e=Ze("svg"),u=Ze("path"),this.h()},l(r){e=Ke(r,"svg",{fill:!0,xmlns:!0,height:!0,viewBox:!0,width:!0});var n=Y(e);u=Ke(n,"path",{d:!0}),Y(u).forEach(O),n.forEach(O),this.h()},h(){B(u,"d","m380 756 280-180-280-180v360Zm100 220q-83 0-156-31.5T197 859q-54-54-85.5-127T80 576q0-83 31.5-156T197 293q54-54 127-85.5T480 176q83 0 156 31.5T763 293q54 54 85.5 127T880 576q0 83-31.5 156T763 859q-54 54-127 85.5T480 976Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"),B(e,"fill",t[0]),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"height",t[1]),B(e,"viewBox","0 96 960 960"),B(e,"width",t[1])},m(r,n){de(r,e,n),ue(e,u)},p(r,[n]){n&1&&B(e,"fill",r[0]),n&2&&B(e,"height",r[1]),n&2&&B(e,"width",r[1])},i:Ie,o:Ie,d(r){r&&O(e)}}}function QA(t,e,u){let{color:r="black"}=e,{size:n="24"}=e;return t.$$set=a=>{"color"in a&&u(0,r=a.color),"size"in a&&u(1,n=a.size)},[r,n]}class YA extends st{constructor(e){super(),it(this,e,QA,KA,ot,{color:0,size:1})}}function XA(t){let e,u,r,n;return{c(){e=Ze("svg"),u=Ze("path"),r=Ze("path"),n=Ze("path"),this.h()},l(a){e=Ke(a,"svg",{xmlns:!0,fill:!0,version:!0,viewBox:!0,height:!0,width:!0});var o=Y(e);u=Ke(o,"path",{d:!0}),Y(u).forEach(O),r=Ke(o,"path",{d:!0}),Y(r).forEach(O),n=Ke(o,"path",{d:!0}),Y(n).forEach(O),o.forEach(O),this.h()},h(){B(u,"d","M 77.88 1.38 L 92.26 15.51 A 1.31 1.29 44.7 0 1 92.28 17.35 L 77.74 32.01 Q 76.84 32.92 76.85 31.61 L 76.96 20.94 A 0.97 0.92 0.3 0 0 75.99 20.01 L 16.69 20.18 A 0.54 0.51 0.5 0 0 16.15 20.68 L 16.04 29.31 A 0.58 0.48 -89.4 0 1 15.56 29.88 L 9.68 29.87 A 0.56 0.51 -90.0 0 1 9.17 29.31 L 9.02 13.86 A 0.88 0.85 -0.3 0 1 9.90 13.00 L 76.34 13.00 A 0.66 0.66 87.7 0 0 77.00 12.34 L 77.00 1.74 Q 77.00 0.51 77.88 1.38 Z"),B(r,"d","M 39.78 31.49 Q 47.06 36.69 54.11 41.63 Q 58.66 44.82 63.83 48.52 A 0.62 0.62 -44.5 0 1 63.82 49.53 L 39.82 66.49 Q 39.00 67.07 39.00 66.07 L 39.00 31.89 Q 39.00 30.93 39.78 31.49 Z"),B(n,"d","M 19.09 64.10 L 19.00 74.67 A 1.32 1.32 -89.8 0 0 20.32 76.00 L 79.31 75.82 A 0.55 0.51 0.0 0 0 79.86 75.31 L 79.86 66.56 A 0.53 0.43 -89.5 0 1 80.30 66.03 L 86.32 66.14 A 0.55 0.52 -89.5 0 1 86.83 66.69 L 86.98 82.14 A 0.88 0.85 -0.3 0 1 86.10 83.00 L 20.15 83.06 A 1.18 1.15 -89.7 0 0 19.00 84.23 L 18.95 94.24 Q 18.94 95.27 18.21 94.55 L 3.49 79.99 A 0.81 0.78 -45.3 0 1 3.50 78.87 L 18.51 63.86 Q 19.09 63.27 19.09 64.10 Z"),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"fill",t[0]),B(e,"version","1.1"),B(e,"viewBox","0 0 96 96"),B(e,"height","24"),B(e,"width","24")},m(a,o){de(a,e,o),ue(e,u),ue(e,r),ue(e,n)},p(a,[o]){o&1&&B(e,"fill",a[0])},i:Ie,o:Ie,d(a){a&&O(e)}}}function e2(t,e,u){let{color:r="black"}=e;return t.$$set=n=>{"color"in n&&u(0,r=n.color)},[r]}class t2 extends st{constructor(e){super(),it(this,e,e2,XA,ot,{color:0})}}function u2(t){let e,u,r,n;return{c(){e=Ze("svg"),u=Ze("path"),r=Ze("path"),n=Ze("path"),this.h()},l(a){e=Ke(a,"svg",{xmlns:!0,fill:!0,version:!0,viewBox:!0,height:!0,width:!0});var o=Y(e);u=Ke(o,"path",{d:!0}),Y(u).forEach(O),r=Ke(o,"path",{d:!0}),Y(r).forEach(O),n=Ke(o,"path",{d:!0}),Y(n).forEach(O),o.forEach(O),this.h()},h(){B(u,"d","M 68.59 8.58 L 83.27 23.15 A 1.11 1.11 42.4 0 1 83.28 24.72 Q 79.86 28.25 76.06 31.81 Q 72.46 35.67 68.67 39.34 Q 68.27 39.73 68.26 39.19 L 68.06 28.95 A 0.96 0.90 89.7 0 0 67.16 28.00 L 28.67 28.00 A 0.67 0.67 0.0 0 0 28.00 28.67 L 28.00 43.34 A 0.66 0.66 3.8 0 1 27.34 44.00 L 20.67 44.00 A 0.67 0.67 45.0 0 1 20.00 43.33 L 20.00 20.68 A 0.68 0.68 45.0 0 1 20.68 20.00 L 67.35 20.00 A 0.68 0.66 -89.6 0 0 68.01 19.33 L 68.06 8.80 Q 68.07 8.07 68.59 8.58 Z"),B(r,"d","M 50.12 35.93 A 1.53 1.52 -5.8 0 1 51.95 37.41 L 52.00 59.00 A 0.88 0.79 -89.7 0 1 51.20 59.88 L 46.73 59.85 A 0.61 0.52 89.9 0 1 46.22 59.25 L 46.04 45.40 A 1.39 1.35 1.1 0 0 44.73 44.07 L 40.94 43.87 A 0.83 0.83 -9.6 0 1 40.22 43.36 Q 39.67 42.05 40.11 40.78 Q 40.46 39.78 41.75 39.03 Q 45.52 36.83 50.12 35.93 Z"),B(n,"d","M 68.78 52.01 L 75.43 52.05 A 0.52 0.51 0.0 0 1 75.95 52.56 L 75.83 75.31 A 0.53 0.52 0.6 0 1 75.30 75.82 L 28.91 75.99 A 0.86 0.84 -0.0 0 0 28.05 76.83 L 28.00 86.65 Q 28.00 88.10 26.96 87.06 L 12.71 72.74 A 1.04 0.98 45.2 0 1 12.67 71.31 L 27.57 56.63 Q 28.00 56.21 28.00 56.82 L 28.00 67.33 A 0.67 0.67 0.0 0 0 28.67 68.00 L 67.33 68.00 A 0.67 0.67 0.0 0 0 68.00 67.33 L 68.00 52.80 A 0.79 0.78 90.0 0 1 68.78 52.01 Z"),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"fill",t[0]),B(e,"version","1.1"),B(e,"viewBox","0 0 96 96"),B(e,"height","24"),B(e,"width","24")},m(a,o){de(a,e,o),ue(e,u),ue(e,r),ue(e,n)},p(a,[o]){o&1&&B(e,"fill",a[0])},i:Ie,o:Ie,d(a){a&&O(e)}}}function r2(t,e,u){let{color:r="black"}=e;return t.$$set=n=>{"color"in n&&u(0,r=n.color)},[r]}class n2 extends st{constructor(e){super(),it(this,e,r2,u2,ot,{color:0})}}function a2(t){let e,u,r;return{c(){e=Ze("svg"),u=Ze("path"),r=Ze("path"),this.h()},l(n){e=Ke(n,"svg",{xmlns:!0,fill:!0,version:!0,viewBox:!0,height:!0,width:!0});var a=Y(e);u=Ke(a,"path",{d:!0}),Y(u).forEach(O),r=Ke(a,"path",{d:!0}),Y(r).forEach(O),a.forEach(O),this.h()},h(){B(u,"d","M 68.59 8.58 L 83.28 23.15 A 1.12 1.11 -45.2 0 1 83.28 24.72 Q 79.87 28.25 76.06 31.81 Q 72.47 35.68 68.67 39.34 Q 68.27 39.73 68.26 39.19 L 68.06 28.95 A 0.96 0.90 89.7 0 0 67.16 28.00 L 28.67 28.00 A 0.67 0.67 0.0 0 0 28.00 28.67 L 28.00 43.34 A 0.66 0.66 3.8 0 1 27.34 44.00 L 20.67 44.00 A 0.67 0.67 45.0 0 1 20.00 43.33 L 20.00 20.68 A 0.68 0.68 45.0 0 1 20.68 20.00 L 67.35 20.00 A 0.68 0.66 -89.6 0 0 68.01 19.33 L 68.06 8.80 Q 68.07 8.07 68.59 8.58 Z"),B(r,"d","M 68.78 52.01 L 75.43 52.05 A 0.52 0.51 0.0 0 1 75.95 52.56 L 75.83 75.31 A 0.53 0.52 0.6 0 1 75.30 75.82 L 28.91 75.99 A 0.86 0.84 -0.0 0 0 28.05 76.83 L 28.00 86.65 Q 28.00 88.10 26.96 87.06 L 12.71 72.74 A 1.04 0.98 45.2 0 1 12.67 71.31 L 27.57 56.63 Q 28.00 56.21 28.00 56.82 L 28.00 67.33 A 0.67 0.67 0.0 0 0 28.67 68.00 L 67.33 68.00 A 0.67 0.67 0.0 0 0 68.00 67.33 L 68.00 52.80 A 0.79 0.78 90.0 0 1 68.78 52.01 Z"),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"fill",t[0]),B(e,"version","1.1"),B(e,"viewBox","0 0 96 96"),B(e,"height","24"),B(e,"width","24")},m(n,a){de(n,e,a),ue(e,u),ue(e,r)},p(n,[a]){a&1&&B(e,"fill",n[0])},i:Ie,o:Ie,d(n){n&&O(e)}}}function o2(t,e,u){let{color:r="black"}=e;return t.$$set=n=>{"color"in n&&u(0,r=n.color)},[r]}class s2 extends st{constructor(e){super(),it(this,e,o2,a2,ot,{color:0})}}function i2(t){let e,u,r;return{c(){e=Ze("svg"),u=Ze("path"),r=Ze("path"),this.h()},l(n){e=Ke(n,"svg",{xmlns:!0,fill:!0,version:!0,viewBox:!0,height:!0,width:!0});var a=Y(e);u=Ke(a,"path",{d:!0}),Y(u).forEach(O),r=Ke(a,"path",{d:!0}),Y(r).forEach(O),a.forEach(O),this.h()},h(){B(u,"d","M 64.97 12.96 L 79.37 27.25 A 0.91 0.90 -46.4 0 1 79.39 28.51 Q 74.61 33.74 69.06 38.81 Q 66.94 41.14 64.68 43.34 Q 64.30 43.70 64.28 43.20 L 63.82 32.68 A 0.52 0.52 88.9 0 0 63.30 32.18 L 16.93 32.01 A 0.90 0.82 0.6 0 1 16.03 31.17 L 16.14 24.68 A 0.56 0.51 0.5 0 1 16.70 24.18 L 63.09 24.01 A 0.86 0.84 -0.0 0 0 63.95 23.17 L 64.00 13.38 Q 64.00 12.00 64.97 12.96 Z"),B(r,"d","M 66.99 55.07 Q 73.46 61.07 79.51 67.51 A 0.72 0.71 46.2 0 1 79.50 68.50 L 64.67 83.34 Q 64.28 83.73 64.26 83.19 L 64.00 72.92 A 0.94 0.88 89.3 0 0 63.12 72.00 L 16.81 71.94 A 0.60 0.60 -5.2 0 1 16.22 71.45 Q 15.62 68.00 16.22 64.55 A 0.63 0.59 3.8 0 1 16.82 64.06 L 63.31 63.82 A 0.55 0.54 -87.7 0 0 63.85 63.31 Q 64.26 58.31 64.00 56.00 Q 63.40 50.58 65.78 53.69 Q 66.45 54.56 66.99 55.07 Z"),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"fill",t[0]),B(e,"version","1.1"),B(e,"viewBox","0 0 96 96"),B(e,"height","24"),B(e,"width","24")},m(n,a){de(n,e,a),ue(e,u),ue(e,r)},p(n,[a]){a&1&&B(e,"fill",n[0])},i:Ie,o:Ie,d(n){n&&O(e)}}}function c2(t,e,u){let{color:r="black"}=e;return t.$$set=n=>{"color"in n&&u(0,r=n.color)},[r]}class l2 extends st{constructor(e){super(),it(this,e,c2,i2,ot,{color:0})}}function D2(t){let e,u,r,n;return{c(){e=Ze("svg"),u=Ze("rect"),r=Ze("path"),n=Ze("path"),this.h()},l(a){e=Ke(a,"svg",{xmlns:!0,fill:!0,version:!0,viewBox:!0,height:!0,width:!0});var o=Y(e);u=Ke(o,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),Y(u).forEach(O),r=Ke(o,"path",{d:!0}),Y(r).forEach(O),n=Ke(o,"path",{d:!0}),Y(n).forEach(O),o.forEach(O),this.h()},h(){B(u,"x","-4.00"),B(u,"y","-39.00"),B(u,"width","8.00"),B(u,"height","78.00"),B(u,"rx","0.50"),B(u,"transform","translate(84.00,48.00) rotate(0.0)"),B(r,"d","M 57.15 13.04 L 71.35 27.45 A 0.63 0.63 39.3 0 1 71.43 28.23 Q 70.08 30.31 68.06 31.81 Q 62.51 37.72 56.68 43.34 Q 56.30 43.70 56.28 43.20 L 55.82 32.68 A 0.52 0.52 88.9 0 0 55.30 32.18 L 8.93 32.01 A 0.90 0.82 0.6 0 1 8.03 31.17 L 8.14 24.68 A 0.56 0.51 0.5 0 1 8.70 24.18 L 55.09 24.01 A 0.86 0.85 0.3 0 0 55.95 23.17 L 56.00 13.53 Q 56.01 11.88 57.15 13.04 Z"),B(n,"d","M 56.76 52.95 L 71.31 67.19 A 1.07 1.05 -45.0 0 1 71.30 68.70 L 56.67 83.34 Q 56.27 83.74 56.26 83.19 L 56.06 73.04 A 1.06 0.99 89.4 0 0 55.07 72.00 L 8.68 72.00 A 0.67 0.66 0.4 0 1 8.01 71.33 L 8.05 64.73 A 0.77 0.74 -0.4 0 1 8.81 63.99 L 55.32 63.82 A 0.53 0.50 -88.8 0 0 55.82 63.31 L 56.21 53.17 Q 56.24 52.45 56.76 52.95 Z"),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"fill",t[0]),B(e,"version","1.1"),B(e,"viewBox","0 0 96 96"),B(e,"height","24"),B(e,"width","24")},m(a,o){de(a,e,o),ue(e,u),ue(e,r),ue(e,n)},p(a,[o]){o&1&&B(e,"fill",a[0])},i:Ie,o:Ie,d(a){a&&O(e)}}}function f2(t,e,u){let{color:r="black"}=e;return t.$$set=n=>{"color"in n&&u(0,r=n.color)},[r]}class d2 extends st{constructor(e){super(),it(this,e,f2,D2,ot,{color:0})}}function p2(t){let e,u;return{c(){e=Ze("svg"),u=Ze("path"),this.h()},l(r){e=Ke(r,"svg",{fill:!0,xmlns:!0,height:!0,width:!0});var n=Y(e);u=Ke(n,"path",{d:!0}),Y(u).forEach(O),n.forEach(O),this.h()},h(){B(u,"d","m21.5 18-9-6 9-6Zm-10 0-9-6 9-6Z"),B(e,"fill",t[0]),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"height","24"),B(e,"width","24")},m(r,n){de(r,e,n),ue(e,u)},p(r,[n]){n&1&&B(e,"fill",r[0])},i:Ie,o:Ie,d(r){r&&O(e)}}}function h2(t,e,u){let{color:r="black"}=e;return t.$$set=n=>{"color"in n&&u(0,r=n.color)},[r]}class F2 extends st{constructor(e){super(),it(this,e,h2,p2,ot,{color:0})}}function m2(t){let e,u;return{c(){e=Ze("svg"),u=Ze("path"),this.h()},l(r){e=Ke(r,"svg",{fill:!0,xmlns:!0,height:!0,width:!0});var n=Y(e);u=Ke(n,"path",{d:!0}),Y(u).forEach(O),n.forEach(O),this.h()},h(){B(u,"d","M16.5 18V6h2v12Zm-11 0V6l9 6Z"),B(e,"fill",t[0]),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"height","24"),B(e,"width","24")},m(r,n){de(r,e,n),ue(e,u)},p(r,[n]){n&1&&B(e,"fill",r[0])},i:Ie,o:Ie,d(r){r&&O(e)}}}function E2(t,e,u){let{color:r="black"}=e;return t.$$set=n=>{"color"in n&&u(0,r=n.color)},[r]}class C2 extends st{constructor(e){super(),it(this,e,E2,m2,ot,{color:0})}}function A2(t){let e,u;return{c(){e=Ze("svg"),u=Ze("path"),this.h()},l(r){e=Ke(r,"svg",{fill:!0,xmlns:!0,height:!0,width:!0});var n=Y(e);u=Ke(n,"path",{d:!0}),Y(u).forEach(O),n.forEach(O),this.h()},h(){B(u,"d","M5.5 18V6h2v12Zm13 0-9-6 9-6Z"),B(e,"fill",t[0]),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"height","24"),B(e,"width","24")},m(r,n){de(r,e,n),ue(e,u)},p(r,[n]){n&1&&B(e,"fill",r[0])},i:Ie,o:Ie,d(r){r&&O(e)}}}function v2(t,e,u){let{color:r="black"}=e;return t.$$set=n=>{"color"in n&&u(0,r=n.color)},[r]}class y2 extends st{constructor(e){super(),it(this,e,v2,A2,ot,{color:0})}}function g2(t){let e,u;return{c(){e=Ze("svg"),u=Ze("path"),this.h()},l(r){e=Ke(r,"svg",{fill:!0,xmlns:!0,height:!0,width:!0});var n=Y(e);u=Ke(n,"path",{d:!0}),Y(u).forEach(O),n.forEach(O),this.h()},h(){B(u,"d","M14 20.725v-2.05q2.25-.65 3.625-2.5t1.375-4.2q0-2.35-1.375-4.2T14 5.275v-2.05q3.1.7 5.05 3.137Q21 8.8 21 11.975q0 3.175-1.95 5.612-1.95 2.438-5.05 3.138ZM3 15V9h4l5-5v16l-5-5Zm11 1V7.95q1.175.55 1.838 1.65.662 1.1.662 2.4 0 1.275-.662 2.362Q15.175 15.45 14 16Z"),B(e,"fill",t[0]),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"height","24"),B(e,"width","24")},m(r,n){de(r,e,n),ue(e,u)},p(r,[n]){n&1&&B(e,"fill",r[0])},i:Ie,o:Ie,d(r){r&&O(e)}}}function b2(t,e,u){let{color:r="black"}=e;return t.$$set=n=>{"color"in n&&u(0,r=n.color)},[r]}class B2 extends st{constructor(e){super(),it(this,e,b2,g2,ot,{color:0})}}function _2(t){let e,u;return{c(){e=Ze("svg"),u=Ze("path"),this.h()},l(r){e=Ke(r,"svg",{fill:!0,xmlns:!0,height:!0,width:!0});var n=Y(e);u=Ke(n,"path",{d:!0}),Y(u).forEach(O),n.forEach(O),this.h()},h(){B(u,"d","M10.45 15.5q.6.6 1.55.587.95-.012 1.4-.687L19 7l-8.4 5.6q-.675.45-.712 1.375-.038.925.562 1.525ZM12 4q1.475 0 2.838.412Q16.2 4.825 17.4 5.65l-1.9 1.2q-.825-.425-1.712-.637Q12.9 6 12 6 8.675 6 6.338 8.337 4 10.675 4 14q0 1.05.287 2.075Q4.575 17.1 5.1 18h13.8q.575-.95.838-1.975Q20 15 20 13.9q0-.9-.212-1.75-.213-.85-.638-1.65l1.2-1.9q.75 1.175 1.188 2.5.437 1.325.462 2.75.025 1.425-.325 2.725-.35 1.3-1.025 2.475-.275.45-.75.7-.475.25-1 .25H5.1q-.525 0-1-.25t-.75-.7q-.65-1.125-1-2.387Q2 15.4 2 14q0-2.075.788-3.888.787-1.812 2.15-3.175Q6.3 5.575 8.125 4.787 9.95 4 12 4Zm.175 7.825Z"),B(e,"fill",t[0]),B(e,"xmlns","http://www.w3.org/2000/svg"),B(e,"height","24"),B(e,"width","24")},m(r,n){de(r,e,n),ue(e,u)},p(r,[n]){n&1&&B(e,"fill",r[0])},i:Ie,o:Ie,d(r){r&&O(e)}}}function w2(t,e,u){let{color:r="black"}=e;return t.$$set=n=>{"color"in n&&u(0,r=n.color)},[r]}class S2 extends st{constructor(e){super(),it(this,e,w2,_2,ot,{color:0})}}const Zt={Mute:MA,Volume:B2,Pause:VA,PlayFillCircle:GA,Play:ZA,PlayOutlineCircle:YA,PlayRepeat:t2,FF:xA,RW:F2,Skip:C2,Prev:y2,RepeatOne:n2,Repeat:s2,RepeatOff:l2,RepeatOffStop:d2,Speed:S2};async function $2({url:t,fetch:e}){const u=t.searchParams.get("ref"),r=t.searchParams.get("audio"),n=await gC({fetch:e});return{ref:u,audio:r,proskomma:n}}const jO=Object.freeze(Object.defineProperty({__proto__:null,load:$2},Symbol.toStringTag,{value:"Module"}));function k2(t){let e,u;return e=new Zt.Speed({props:{color:t[0]}}),{c(){xe(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){je(e,r,n),u=!0},p(r,n){const a={};n&1&&(a.color=r[0]),e.$set(a)},i(r){u||(se(e.$$.fragment,r),u=!0)},o(r){le(e.$$.fragment,r),u=!1},d(r){Ne(e,r)}}}function q2(t){let e,u,r=t[2].Settings_Audio_Speed+"",n,a,o,s,i,l,c,d,p,h,F,g,A,C,E,v,S,q,_,T,R,L,J,U,K,oe,Q,Ce=t[2].Settings_Audio_Speed_Normal+"",X,Ee,ye,we,ae,N,G,z,y,I,H,me,De,ce,Se,Re,ct,Xe,rt,At=t[2].Button_Close+"",ft,dt,wt;return{c(){e=he("h1"),u=he("b"),n=Pt(r),a=We(),o=he("div"),s=he("label"),i=he("input"),c=Pt(`
                0.4x`),d=We(),p=he("label"),h=he("input"),g=Pt(`
                0.6x`),A=We(),C=he("label"),E=he("input"),S=Pt(`
                0.7x`),q=We(),_=he("label"),T=he("input"),L=Pt(`
                0.8x`),J=We(),U=he("label"),K=he("input"),Q=We(),X=Pt(Ce),Ee=We(),ye=he("label"),we=he("input"),N=Pt(`
                1.2x`),G=We(),z=he("label"),y=he("input"),H=Pt(`
                1.4x`),me=We(),De=he("label"),ce=he("input"),Re=Pt(`
                1.6x`),ct=We(),Xe=he("div"),rt=he("button"),ft=Pt(At),this.h()},l(nt){e=Fe(nt,"H1",{});var tt=Y(e);u=Fe(tt,"B",{style:!0});var kt=Y(u);n=It(kt,r),kt.forEach(O),tt.forEach(O),a=ze(nt),o=Fe(nt,"DIV",{class:!0});var ie=Y(o);s=Fe(ie,"LABEL",{class:!0});var Ft=Y(s);i=Fe(Ft,"INPUT",{type:!0,name:!0}),c=It(Ft,`
                0.4x`),Ft.forEach(O),d=ze(ie),p=Fe(ie,"LABEL",{class:!0});var x=Y(p);h=Fe(x,"INPUT",{type:!0,name:!0}),g=It(x,`
                0.6x`),x.forEach(O),A=ze(ie),C=Fe(ie,"LABEL",{class:!0});var Z=Y(C);E=Fe(Z,"INPUT",{type:!0,name:!0}),S=It(Z,`
                0.7x`),Z.forEach(O),q=ze(ie),_=Fe(ie,"LABEL",{class:!0});var ne=Y(_);T=Fe(ne,"INPUT",{type:!0,name:!0}),L=It(ne,`
                0.8x`),ne.forEach(O),J=ze(ie),U=Fe(ie,"LABEL",{class:!0});var m=Y(U);K=Fe(m,"INPUT",{type:!0,name:!0}),Q=ze(m),X=It(m,Ce),m.forEach(O),Ee=ze(ie),ye=Fe(ie,"LABEL",{class:!0});var D=Y(ye);we=Fe(D,"INPUT",{type:!0,name:!0}),N=It(D,`
                1.2x`),D.forEach(O),G=ze(ie),z=Fe(ie,"LABEL",{class:!0});var f=Y(z);y=Fe(f,"INPUT",{type:!0,name:!0}),H=It(f,`
                1.4x`),f.forEach(O),me=ze(ie),De=Fe(ie,"LABEL",{class:!0});var b=Y(De);ce=Fe(b,"INPUT",{type:!0,name:!0}),Re=It(b,`
                1.6x`),b.forEach(O),ct=ze(ie),Xe=Fe(ie,"DIV",{class:!0});var $=Y(Xe);rt=Fe($,"BUTTON",{class:!0});var w=Y(rt);ft=It(w,At),w.forEach(O),$.forEach(O),ie.forEach(O),this.h()},h(){B(u,"style",""),B(i,"type","radio"),B(i,"name","speed"),i.value="0.4",i.checked=l=t[1]["audio-speed"]==="0.4",B(s,"class","svelte-1dgk2kw"),B(h,"type","radio"),B(h,"name","speed"),h.value="0.6",h.checked=F=t[1]["audio-speed"]==="0.6",B(p,"class","svelte-1dgk2kw"),B(E,"type","radio"),B(E,"name","speed"),E.value="0.7",E.checked=v=t[1]["audio-speed"]==="0.7",B(C,"class","svelte-1dgk2kw"),B(T,"type","radio"),B(T,"name","speed"),T.value="0.8",T.checked=R=t[1]["audio-speed"]==="0.8",B(_,"class","svelte-1dgk2kw"),B(K,"type","radio"),B(K,"name","speed"),K.value="1",K.checked=oe=t[1]["audio-speed"]==="1.0",B(U,"class","svelte-1dgk2kw"),B(we,"type","radio"),B(we,"name","speed"),we.value="1.2",we.checked=ae=t[1]["audio-speed"]==="1.2",B(ye,"class","svelte-1dgk2kw"),B(y,"type","radio"),B(y,"name","speed"),y.value="1.4",y.checked=I=t[1]["audio-speed"]==="1.4",B(z,"class","svelte-1dgk2kw"),B(ce,"type","radio"),B(ce,"name","speed"),ce.value="1.6",ce.checked=Se=t[1]["audio-speed"]==="1.6",B(De,"class","svelte-1dgk2kw"),B(rt,"class","dy-btn dy-btn-ghost"),B(Xe,"class","dy-modal-action close-btn svelte-1dgk2kw"),B(o,"class","speed-controls svelte-1dgk2kw")},m(nt,tt){de(nt,e,tt),ue(e,u),ue(u,n),de(nt,a,tt),de(nt,o,tt),ue(o,s),ue(s,i),ue(s,c),ue(o,d),ue(o,p),ue(p,h),ue(p,g),ue(o,A),ue(o,C),ue(C,E),ue(C,S),ue(o,q),ue(o,_),ue(_,T),ue(_,L),ue(o,J),ue(o,U),ue(U,K),ue(U,Q),ue(U,X),ue(o,Ee),ue(o,ye),ue(ye,we),ue(ye,N),ue(o,G),ue(o,z),ue(z,y),ue(z,H),ue(o,me),ue(o,De),ue(De,ce),ue(De,Re),ue(o,ct),ue(o,Xe),ue(Xe,rt),ue(rt,ft),dt||(wt=[Ye(i,"click",t[3]),Ye(h,"click",t[3]),Ye(E,"click",t[3]),Ye(T,"click",t[3]),Ye(K,"click",t[3]),Ye(we,"click",t[3]),Ye(y,"click",t[3]),Ye(ce,"click",t[3])],dt=!0)},p(nt,tt){tt&4&&r!==(r=nt[2].Settings_Audio_Speed+"")&&nu(n,r),tt&2&&l!==(l=nt[1]["audio-speed"]==="0.4")&&(i.checked=l),tt&2&&F!==(F=nt[1]["audio-speed"]==="0.6")&&(h.checked=F),tt&2&&v!==(v=nt[1]["audio-speed"]==="0.7")&&(E.checked=v),tt&2&&R!==(R=nt[1]["audio-speed"]==="0.8")&&(T.checked=R),tt&2&&oe!==(oe=nt[1]["audio-speed"]==="1.0")&&(K.checked=oe),tt&4&&Ce!==(Ce=nt[2].Settings_Audio_Speed_Normal+"")&&nu(X,Ce),tt&2&&ae!==(ae=nt[1]["audio-speed"]==="1.2")&&(we.checked=ae),tt&2&&I!==(I=nt[1]["audio-speed"]==="1.4")&&(y.checked=I),tt&2&&Se!==(Se=nt[1]["audio-speed"]==="1.6")&&(ce.checked=Se),tt&4&&At!==(At=nt[2].Button_Close+"")&&nu(ft,At)},d(nt){nt&&(O(e),O(a),O(o)),dt=!1,gr(wt)}}}function T2(t){let e,u;return e=new sA({props:{id:P2,addCSS:"position:absolute; bottom:1rem; right:1rem;",$$slots:{content:[q2],label:[k2]},$$scope:{ctx:t}}}),{c(){xe(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){je(e,r,n),u=!0},p(r,[n]){const a={};n&39&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){u||(se(e.$$.fragment,r),u=!0)},o(r){le(e.$$.fragment,r),u=!1},d(r){Ne(e,r)}}}let P2="playback";function I2(t,e,u){let r,n,a,o;Ve(t,rr,i=>u(4,n=i)),Ve(t,Qr,i=>u(1,a=i)),Ve(t,ja,i=>u(2,o=i));function s(i){zt(Qr,a["audio-speed"]=i.target.value,a)}return t.$$.update=()=>{t.$$.dirty&16&&u(0,r=n["ui.bar.audio.icon"].color)},[r,a,o,s,n]}class O2 extends st{constructor(e){super(),it(this,e,I2,T2,ot,{})}}class R2{constructor(e){ao(this,"capacity");ao(this,"cache");this.capacity=e,this.cache=new Map}get(e){if(this.cache.has(e)){const u=this.cache.get(e);return this.cache.delete(e),this.cache.set(e,u),u}return null}put(e,u){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size===this.capacity){const r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,u)}clear(){this.cache.clear()}size(){return this.cache.size}print(){console.log("Cache Contents:");for(let[e,u]of this.cache)console.log(`${e}:`,u)}}const Bl=new R2(10);let ge;Ru.subscribe(async t=>{ge=t,await N2()});let Jt;tr.subscribe(t=>{Jt&&Jt.mode!==t.mode&&t.mode===Wc&&(t.range=n0()),Jt=t});function x2(t,e,u){return`${t}-${e}-${u}`}function _l(t){const e=x2(t.collection,t.book,t.chapter);let u=Bl.get(e);u?u.audio&&(u.audio.currentTime=0,u.progress=0,u.timeIndex=0):(u={...t,...wC},Bl.put(e,u)),Ru.set(u)}function j2(t){const e=new Audio;var u=document.createElement("source");if(u.src=t,e.appendChild(u),/\.webm$/i.test(t)){var r=document.createElement("source");r.src=t.replace(/\.webm$/i,".caf"),r.type="audio/x-caf";var n=document.createElement("source");n.src=t.replace(/\.webm$/i,".mp3"),n.type="audio/mpeg",e.appendChild(r),e.appendChild(n)}return e}async function N2(){if(ge.loaded)return;ge.duration=0,ge.progress=0,ge.playing&&Ar();const t=await G2(ge);if(!t)return;ge.timing=t.timing;const e=j2(t.source);e.onloadedmetadata=()=>{ge.duration=e.duration,ge.timeIndex=0,ge.loaded=!0,ge.audio=e,Ru.set(ge),qn()}}function M2(){ge.loaded&&(ge.playing===!0?Ar():en(),Ru.set(ge))}function _a(t){Ar(),Ut.skip(t)}function Yn(t){if(isNaN(t))return"0:00";const e=Math.floor(t/60);return t=Math.floor(t%60),t<10&&(t="0"+t),`${e}:${t}`}function wl(t){if(!ge.loaded)return;const e=ge.playing;if(Ar(),t>=0)if(ge.timing[ge.timeIndex]!=ge.timing.at(-1)){ge.timeIndex++;const u=ge.timing[ge.timeIndex].starttime;ge.audio.currentTime=u,qn()}else _a(1);else ge.timeIndex>0&&ge.timeIndex--,ge.audio.currentTime=ge.timing[ge.timeIndex].starttime,qn();e&&en()}function wa(t){const e=ge.playing;Ar(),ge.audio?ge.audio.currentTime=t:console.log("audio seek: current audio player audio missing "),ge.progress=t,tr.set({...Jt,range:n0()}),Ru.set(ge),e===!0&&en()}let kr;function L2(){if(kr){kr--,kr===0&&(Jt.mode===Fl?(_a(1),tr.set({...Jt,continue:!0})):Jt.mode===_C?wa(0):Jt.mode===Wc&&(wa(Jt.range.start),en()),kr=void 0);return}if(ge.audio.ended){Jt.mode===bC?(Ar(),Ru.set(ge)):kr=5;return}if(Jt.mode===Fl&&Jt.continue&&(tr.set({...Jt,continue:!1}),en()),Jt.mode===Wc){if(Jt.range===BC.range){const t=n0();if(t.start===void 0||t.end===void 0)return;tr.set({...Jt,range:{start:t.start,end:t.end}})}ge.progress+.05>Jt.range.end&&(Ar(),kr=5)}}function n0(){let t,e;for(let u=0;u<ge.timing.length;u++){const r=ge.timing[u];if(ge.progress>=r.starttime&&ge.progress<r.endtime){const n=parseInt(r.tag,10);for(let a=u+1;a>=0;a--){if(parseInt(ge.timing[a].tag,10)!==n){e=ge.timing[a+1].tag;break}if(a===0){e=ge.timing.tag;break}}for(let a=u+1;a<ge.timing.length;a++){if(parseInt(ge.timing[a].tag,10)!==n){t=ge.timing[a-1].tag;break}if(a===ge.timing.length-1){t=ge.timing.tag;break}}break}}return H2(e,t)}function qn(){ge.loaded&&(ge.progress=ge.audio.currentTime,!ge.timing&&ge.progress&&Ru.set(ge),ge.timing&&ge.progress&&V2(),L2())}function nm(){ge.audio.ended||ge.playing===!1?(clearInterval(ge.timer),ge.timer=null):ge.timer=setInterval(()=>qn(),100)}function U2(){return ge.progress>0}function Ar(){var t;ge.loaded&&(ge.playing&&((t=ge.audio)==null||t.pause(),ge.playing=!1),nm())}function en(){var t;ge.loaded&&(ge.playing||((t=ge.audio)==null||t.play(),ge.playing=!0),nm())}function V2(){const t=[];for(let e=0;e<ge.timing.length;e++){const u=ge.timing[e];ge.progress>=u.starttime&&ge.progress<u.endtime&&(ge.timeIndex=e,t.push(u.tag))}return zF.set(t)}function W2(t){ge.audio!=null&&(ge.audio.playbackRate=parseFloat(t))}function z2(t){let e=t.damId;return e.endsWith("-opus16")&&(new Audio().canPlayType("audio/webm")||(e=e.replace(/-opus16$/,""))),e}async function G2(t){var a,o,s,i;const e=(i=(s=(o=(a=Qe.bookCollections.find(l=>t.collection===l.id))==null?void 0:a.books)==null?void 0:o.find(l=>l.id===t.book))==null?void 0:s.audio)==null?void 0:i.find(l=>t.chapter===""+l.num);if(!e)return;const u=Qe.audio.sources[e.src];let r=null;if(u.type==="fcbh"){const l=u.address?u.address:"https://4.dbt.io",c=z2(u),d=`${l}/api/bibles/filesets/${c}/${t.book}/${t.chapter}?v=4&key=${u.key}`,h=await(await fetch(d,{method:"GET",headers:{accept:"application/json"}})).json();if(h.error)throw`Failed to connect to BibleBrain: ${h.error}`;r=h.data[0].path}else u.type==="assets"?r="/audio/"+e.filename:u.type==="download"&&(r=u.address+"/"+e.filename);const n=[];if(e.timingFile){const l=`${Ba}/timings/${e.timingFile}`,c=await fetch(l);if(!c.ok)throw new Error("Failed to read file");const p=(await c.text()).split(`
`);n.push({starttime:0,endtime:0,tag:"title"});for(let h=0;h<p.length;h++){const F=p[h].trim();if(F){if(F.startsWith("\\"))continue;const g=F.split("	");n.push({starttime:parseFloat(g[0]),endtime:parseFloat(g[1]),tag:g[2]})}}}return{source:r,timing:n.length>0?n:null}}function a0(t){if(!ge.timing)return;const e=ge.timing;for(let u=0;u<e.length;u++){const r=ge.timing[u].tag,a=/[a-z]/.test(r)?r:r+"a";if(t===a){const o=ge.timing[u].starttime;wa(o);break}}qn()}function H2(t,e){const u=ge.timing;let r;for(let n=0;n<u.length;n++){const a=ge.timing[n].tag;if(t===a&&(r=ge.timing[n].starttime),e===a){const s=ge.timing[n].endtime;return{start:r,end:s}}}}function J2(t){let e,u,r,n,a;var o=t[8][t[6].mode];function s(i,l){return{props:{color:i[4]}}}return o&&(u=Ou(o,s(t))),{c(){e=he("button"),u&&xe(u.$$.fragment),this.h()},l(i){e=Fe(i,"BUTTON",{class:!0});var l=Y(e);u&&Ge(u.$$.fragment,l),l.forEach(O),this.h()},h(){B(e,"class","audio-control-buttons svelte-y4z97p")},m(i,l){de(i,e,l),u&&je(u,e,null),r=!0,n||(a=Ye(e,"click",t[15]),n=!0)},p(i,l){if(l&64&&o!==(o=i[8][i[6].mode])){if(u){bt();const c=u;le(c.$$.fragment,1,0,()=>{Ne(c,1)}),Bt()}o?(u=Ou(o,s(i)),xe(u.$$.fragment),se(u.$$.fragment,1),je(u,e,null)):u=null}else if(o){const c={};l&16&&(c.color=i[4]),u.$set(c)}},i(i){r||(u&&se(u.$$.fragment,i),r=!0)},o(i){u&&le(u.$$.fragment,i),r=!1},d(i){i&&O(e),u&&Ne(u),n=!1,a()}}}function Sl(t){let e,u,r,n,a;return u=new Zt.RW({props:{color:t[4]}}),{c(){e=he("button"),xe(u.$$.fragment),this.h()},l(o){e=Fe(o,"BUTTON",{class:!0});var s=Y(e);Ge(u.$$.fragment,s),s.forEach(O),this.h()},h(){B(e,"class","audio-control-buttons svelte-y4z97p")},m(o,s){de(o,e,s),je(u,e,null),r=!0,n||(a=Ye(e,"click",t[17]),n=!0)},p(o,s){const i={};s&16&&(i.color=o[4]),u.$set(i)},i(o){r||(se(u.$$.fragment,o),r=!0)},o(o){le(u.$$.fragment,o),r=!1},d(o){o&&O(e),Ne(u),n=!1,a()}}}function Z2(t){let e,u;return e=new Zt.Pause({props:{color:t[4],size:t[11]}}),{c(){xe(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){je(e,r,n),u=!0},p(r,n){const a={};n&16&&(a.color=r[4]),e.$set(a)},i(r){u||(se(e.$$.fragment,r),u=!0)},o(r){le(e.$$.fragment,r),u=!1},d(r){Ne(e,r)}}}function K2(t){let e,u,r;var n=t[12];function a(o,s){return{props:{color:o[3],size:o[11]}}}return n&&(e=Ou(n,a(t))),{c(){e&&xe(e.$$.fragment),u=gt()},l(o){e&&Ge(e.$$.fragment,o),u=gt()},m(o,s){e&&je(e,o,s),de(o,u,s),r=!0},p(o,s){if(n!==(n=o[12])){if(e){bt();const i=e;le(i.$$.fragment,1,0,()=>{Ne(i,1)}),Bt()}n?(e=Ou(n,a(o)),xe(e.$$.fragment),se(e.$$.fragment,1),je(e,u.parentNode,u)):e=null}else if(n){const i={};s&8&&(i.color=o[3]),e.$set(i)}},i(o){r||(e&&se(e.$$.fragment,o),r=!0)},o(o){e&&le(e.$$.fragment,o),r=!1},d(o){o&&O(u),e&&Ne(e,o)}}}function $l(t){let e,u,r,n,a;return u=new Zt.FF({props:{color:t[4]}}),{c(){e=he("button"),xe(u.$$.fragment),this.h()},l(o){e=Fe(o,"BUTTON",{class:!0});var s=Y(e);Ge(u.$$.fragment,s),s.forEach(O),this.h()},h(){B(e,"class","audio-control-buttons svelte-y4z97p")},m(o,s){de(o,e,s),je(u,e,null),r=!0,n||(a=Ye(e,"click",t[19]),n=!0)},p(o,s){const i={};s&16&&(i.color=o[4]),u.$set(i)},i(o){r||(se(u.$$.fragment,o),r=!0)},o(o){le(u.$$.fragment,o),r=!1},d(o){o&&O(e),Ne(u),n=!1,a()}}}function Q2(t){let e,u;return e=new O2({}),{c(){xe(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){je(e,r,n),u=!0},i(r){u||(se(e.$$.fragment,r),u=!0)},o(r){le(e.$$.fragment,r),u=!1},d(r){Ne(e,r)}}}function kl(t){let e,u=Yn(t[5].progress)+"",r,n,a,o,s=Yn(t[5].duration)+"",i;function l(p,h){return p[5].loaded?X2:Y2}let c=l(t),d=c(t);return{c(){e=he("div"),r=Pt(u),n=We(),d.c(),a=We(),o=he("div"),i=Pt(s),this.h()},l(p){e=Fe(p,"DIV",{class:!0});var h=Y(e);r=It(h,u),h.forEach(O),n=ze(p),d.l(p),a=ze(p),o=Fe(p,"DIV",{class:!0});var F=Y(o);i=It(F,s),F.forEach(O),this.h()},h(){B(e,"class","audio-progress-value text-sm svelte-y4z97p"),B(o,"class","audio-progress-duration text-sm svelte-y4z97p")},m(p,h){de(p,e,h),ue(e,r),de(p,n,h),d.m(p,h),de(p,a,h),de(p,o,h),ue(o,i)},p(p,h){h&32&&u!==(u=Yn(p[5].progress)+"")&&nu(r,u),c===(c=l(p))&&d?d.p(p,h):(d.d(1),d=c(p),d&&(d.c(),d.m(a.parentNode,a))),h&32&&s!==(s=Yn(p[5].duration)+"")&&nu(i,s)},d(p){p&&(O(e),O(n),O(a),O(o)),d.d(p)}}}function Y2(t){let e;return{c(){e=he("progress"),this.h()},l(u){e=Fe(u,"PROGRESS",{class:!0,max:!0}),Y(e).forEach(O),this.h()},h(){B(e,"class","dy-progress audio-progress svelte-y4z97p"),e.value="0",B(e,"max","1")},m(u,r){de(u,e,r)},p:Ie,d(u){u&&O(e)}}}function X2(t){let e,u,r,n,a;return{c(){e=he("progress"),this.h()},l(o){e=Fe(o,"PROGRESS",{id:!0,class:!0,max:!0}),Y(e).forEach(O),this.h()},h(){B(e,"id","progress-bar"),B(e,"class","dy-progress audio-progress svelte-y4z97p"),e.value=u=t[5].progress,B(e,"max",r=t[5].duration)},m(o,s){de(o,e,s),n||(a=Ye(e,"click",t[7]),n=!0)},p(o,s){s&32&&u!==(u=o[5].progress)&&(e.value=u),s&32&&r!==(r=o[5].duration)&&B(e,"max",r)},d(o){o&&O(e),n=!1,a()}}}function ev(t){var Q,Ce;let e,u,r,n,a,o,s,i,l,c,d,p,h,F,g,A,C,E,v,S,q,_=t[10]&&J2(t);a=new Zt.Prev({props:{color:t[4]}});let T=((Q=t[0].hasAudio)==null?void 0:Q.timingFile)&&Sl(t);const R=[K2,Z2],L=[];function J(X,Ee){return X[5].playing?1:0}l=J(t),c=L[l]=R[l](t);let U=((Ce=t[0].hasAudio)==null?void 0:Ce.timingFile)&&$l(t);F=new Zt.Skip({props:{color:t[4]}});let K=t[9]&&Q2(),oe=!t[0].hasAudio.timingFile&&kl(t);return{c(){e=he("div"),_&&_.c(),u=We(),r=he("div"),n=he("button"),xe(a.$$.fragment),o=We(),T&&T.c(),s=We(),i=he("button"),c.c(),d=We(),U&&U.c(),p=We(),h=he("button"),xe(F.$$.fragment),g=We(),A=he("div"),K&&K.c(),C=We(),oe&&oe.c(),this.h()},l(X){e=Fe(X,"DIV",{class:!0});var Ee=Y(e);_&&_.l(Ee),u=ze(Ee),r=Fe(Ee,"DIV",{class:!0});var ye=Y(r);n=Fe(ye,"BUTTON",{class:!0});var we=Y(n);Ge(a.$$.fragment,we),we.forEach(O),o=ze(ye),T&&T.l(ye),s=ze(ye),i=Fe(ye,"BUTTON",{class:!0});var ae=Y(i);c.l(ae),ae.forEach(O),d=ze(ye),U&&U.l(ye),p=ze(ye),h=Fe(ye,"BUTTON",{class:!0});var N=Y(h);Ge(F.$$.fragment,N),N.forEach(O),ye.forEach(O),g=ze(Ee),A=Fe(Ee,"DIV",{class:!0});var G=Y(A);K&&K.l(G),G.forEach(O),C=ze(Ee),oe&&oe.l(Ee),Ee.forEach(O),this.h()},h(){B(n,"class","audio-control-buttons svelte-y4z97p"),B(i,"class","audio-control-buttons svelte-y4z97p"),B(h,"class","audio-control-buttons svelte-y4z97p"),B(r,"class","audio-controls svelte-y4z97p"),_e(r,"direction","ltr"),B(A,"class","audio-speed audio-control-buttons svelte-y4z97p"),B(e,"class",E=vl(t[1])+" svelte-y4z97p"),_e(e,"background-color",t[2])},m(X,Ee){de(X,e,Ee),_&&_.m(e,null),ue(e,u),ue(e,r),ue(r,n),je(a,n,null),ue(r,o),T&&T.m(r,null),ue(r,s),ue(r,i),L[l].m(i,null),ue(r,d),U&&U.m(r,null),ue(r,p),ue(r,h),je(F,h,null),ue(e,g),ue(e,A),K&&K.m(A,null),ue(e,C),oe&&oe.m(e,null),v=!0,S||(q=[Ye(n,"click",t[16]),Ye(i,"click",t[18]),Ye(h,"click",t[20])],S=!0)},p(X,[Ee]){var N,G;X[10]&&_.p(X,Ee);const ye={};Ee&16&&(ye.color=X[4]),a.$set(ye),(N=X[0].hasAudio)!=null&&N.timingFile?T?(T.p(X,Ee),Ee&1&&se(T,1)):(T=Sl(X),T.c(),se(T,1),T.m(r,s)):T&&(bt(),le(T,1,1,()=>{T=null}),Bt());let we=l;l=J(X),l===we?L[l].p(X,Ee):(bt(),le(L[we],1,1,()=>{L[we]=null}),Bt(),c=L[l],c?c.p(X,Ee):(c=L[l]=R[l](X),c.c()),se(c,1),c.m(i,null)),(G=X[0].hasAudio)!=null&&G.timingFile?U?(U.p(X,Ee),Ee&1&&se(U,1)):(U=$l(X),U.c(),se(U,1),U.m(r,p)):U&&(bt(),le(U,1,1,()=>{U=null}),Bt());const ae={};Ee&16&&(ae.color=X[4]),F.$set(ae),X[0].hasAudio.timingFile?oe&&(oe.d(1),oe=null):oe?oe.p(X,Ee):(oe=kl(X),oe.c(),oe.m(e,null)),(!v||Ee&2&&E!==(E=vl(X[1])+" svelte-y4z97p"))&&B(e,"class",E),Ee&4&&_e(e,"background-color",X[2])},i(X){v||(se(_),se(a.$$.fragment,X),se(T),se(c),se(U),se(F.$$.fragment,X),se(K),v=!0)},o(X){le(_),le(a.$$.fragment,X),le(T),le(c),le(U),le(F.$$.fragment,X),le(K),v=!1},d(X){X&&O(e),_&&_.d(),Ne(a),T&&T.d(),L[l].d(),U&&U.d(),Ne(F),K&&K.d(),oe&&oe.d(),S=!1,gr(q)}}}function tv(t,e,u){let r,n,a,o,s,i,l,c,d;Ve(t,Qr,J=>u(13,s=J)),Ve(t,Ut,J=>u(0,i=J)),Ve(t,rr,J=>u(14,l=J)),Ve(t,Ru,J=>u(5,c=J)),Ve(t,tr,J=>u(6,d=J));function p(J){!J&&d.mode==="repeatSelection"&&tr.reset()}function h(J){if(!c.loaded)return;const U=document.getElementById("progress-bar"),K=(J.clientX-U.offsetLeft)/U.offsetWidth;wa(c.duration*K)}const F={arrow:Zt.Play,"filled-circle":Zt.PlayFillCircle,"outline-circle":Zt.PlayOutlineCircle},g={continue:Zt.RepeatOff,stop:Zt.RepeatOffStop,repeatPage:Zt.Repeat,repeatSelection:Zt.RepeatOne},A=Qe.mainFeatures["settings-audio-speed"],C=Qe.mainFeatures["audio-repeat-mode-button"],E="24",v=F[Qe.mainFeatures["audio-play-button-style"]],S=()=>{var J;return tr.next((J=i.hasAudio)==null?void 0:J.timingFile)},q=()=>_a(-1),_=()=>wl(-1),T=()=>M2(),R=()=>wl(1),L=()=>_a(1);return t.$$.update=()=>{var J,U;t.$$.dirty&16384&&u(4,r=l["ui.bar.audio.icon"].color),t.$$.dirty&16384&&u(3,n=l["ui.bar.audio.play.icon"].color),t.$$.dirty&16384&&u(2,a=l["ui.bar.audio"]["background-color"]),t.$$.dirty&1&&u(1,o=(J=i.hasAudio)!=null&&J.timingFile?"audio-bar":"audio-bar-progress"),t.$$.dirty&1&&p((U=i.hasAudio)==null?void 0:U.timing),t.$$.dirty&8192&&(s["audio-speed"],W2(s["audio-speed"]))},[i,o,a,n,r,c,d,h,g,A,C,E,v,s,l,S,q,_,T,R,L]}class uv extends st{constructor(e){super(),it(this,e,tv,ev,ot,{})}}function ql(t,e,u){const r=t.slice();return r[19]=e[u],r}function Tl(t,e,u){const r=t.slice();return r[22]=e[u],r}function Pl(t,e,u){const r=t.slice();return r[25]=e[u],r}function Il(t){let e,u=t[19].header+"",r;return{c(){e=he("div"),r=Pt(u),this.h()},l(n){e=Fe(n,"DIV",{class:!0,style:!0});var a=Y(e);r=It(a,u),a.forEach(O),this.h()},h(){B(e,"class","mx-2"),B(e,"style",t[4]),jt(e,"my-2",Mt(t[19].header))},m(n,a){de(n,e,a),ue(e,r)},p(n,a){a&1&&u!==(u=n[19].header+"")&&nu(r,u),a&16&&B(e,"style",n[4]),a&1&&jt(e,"my-2",Mt(n[19].header))},d(n){n&&O(e)}}}function Ol(t){let e,u=eu(t[19].rows),r=[];for(let n=0;n<u.length;n+=1)r[n]=Rl(Pl(t,u,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=gt()},l(n){for(let a=0;a<r.length;a+=1)r[a].l(n);e=gt()},m(n,a){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(n,a);de(n,e,a)},p(n,a){if(a&2223){u=eu(n[19].rows);let o;for(o=0;o<u.length;o+=1){const s=Pl(n,u,o);r[o]?r[o].p(s,a):(r[o]=Rl(s),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=u.length}},d(n){n&&O(e),br(r,n)}}}function Rl(t){let e,u=t[25].label+"",r,n,a,o,s;function i(){return t[16](t[25])}return{c(){e=he("span"),r=Pt(u),n=We(),this.h()},l(l){e=Fe(l,"SPAN",{id:!0,class:!0,style:!0,role:!0});var c=Y(e);r=It(c,u),n=ze(c),c.forEach(O),this.h()},h(){B(e,"id",a=t[25].id),B(e,"class","dy-btn dy-btn-ghost normal-case truncate text-clip col-start-1 svelte-1x2t4xy"),B(e,"style",t[5]),B(e,"role","button"),jt(e,"col-span-5",t[1]==5),jt(e,"col-span-6",t[1]==6),_e(e,"background-color",t[2]===t[25].id?t[7]:t[3](t[25].id,"ui.button.chapter-intro"))},m(l,c){de(l,e,c),ue(e,r),ue(e,n),o||(s=Ye(e,"click",i),o=!0)},p(l,c){t=l,c&1&&u!==(u=t[25].label+"")&&nu(r,u),c&1&&a!==(a=t[25].id)&&B(e,"id",a),c&32&&B(e,"style",t[5]),c&2&&jt(e,"col-span-5",t[1]==5),c&2&&jt(e,"col-span-6",t[1]==6);const d=c&32;(c&173||d)&&_e(e,"background-color",t[2]===t[25].id?t[7]:t[3](t[25].id,"ui.button.chapter-intro"))},d(l){l&&O(e),o=!1,s()}}}function xl(t){let e,u=t[22].label+"",r,n,a,o;function s(){return t[17](t[22])}return{c(){e=he("span"),r=Pt(u),this.h()},l(i){e=Fe(i,"SPAN",{id:!0,class:!0,style:!0});var l=Y(e);r=It(l,u),l.forEach(O),this.h()},h(){B(e,"id",n=t[22].id),B(e,"class","dy-btn dy-btn-square dy-btn-ghost normal-case truncate text-clip svelte-1x2t4xy"),B(e,"style",t[6]),_e(e,"background-color",t[2]===t[22].id?t[7]:t[3](t[22].id,"ui.button.chapter-intro"))},m(i,l){de(i,e,l),ue(e,r),a||(o=Ye(e,"click",s),a=!0)},p(i,l){t=i,l&1&&u!==(u=t[22].label+"")&&nu(r,u),l&1&&n!==(n=t[22].id)&&B(e,"id",n),l&64&&B(e,"style",t[6]);const c=l&64;(l&205||c)&&_e(e,"background-color",t[2]===t[22].id?t[7]:t[3](t[22].id,"ui.button.chapter-intro"))},d(i){i&&O(e),a=!1,o()}}}function jl(t){let e,u,r,n,a,o,s,i=t[19].header&&Il(t),l=t[19].rows&&Ol(t),c=eu(t[19].cells),d=[];for(let p=0;p<c.length;p+=1)d[p]=xl(Tl(t,c,p));return{c(){i&&i.c(),e=We(),u=he("div"),l&&l.c(),r=We();for(let p=0;p<d.length;p+=1)d[p].c();n=We(),this.h()},l(p){i&&i.l(p),e=ze(p),u=Fe(p,"DIV",{class:!0,role:!0});var h=Y(u);l&&l.l(h),r=ze(h);for(let F=0;F<d.length;F+=1)d[F].l(h);n=ze(h),h.forEach(O),this.h()},h(){B(u,"class",a="grid grid-cols-"+t[1]+" gap-1"),B(u,"role","menu"),jt(u,"grid-cols-5",t[1]==5),jt(u,"grid-cols-6",t[1]==6)},m(p,h){i&&i.m(p,h),de(p,e,h),de(p,u,h),l&&l.m(u,null),ue(u,r);for(let F=0;F<d.length;F+=1)d[F]&&d[F].m(u,null);ue(u,n),o||(s=[Ye(u,"touchstart",t[8]),Ye(u,"touchmove",t[10]),Ye(u,"touchend",t[9],{passive:!0}),Ye(u,"mouseover",t[8]),Ye(u,"mouseout",t[9])],o=!0)},p(p,h){if(p[19].header?i?i.p(p,h):(i=Il(p),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),p[19].rows?l?l.p(p,h):(l=Ol(p),l.c(),l.m(u,r)):l&&(l.d(1),l=null),h&2253){c=eu(p[19].cells);let F;for(F=0;F<c.length;F+=1){const g=Tl(p,c,F);d[F]?d[F].p(g,h):(d[F]=xl(g),d[F].c(),d[F].m(u,n))}for(;F<d.length;F+=1)d[F].d(1);d.length=c.length}h&2&&a!==(a="grid grid-cols-"+p[1]+" gap-1")&&B(u,"class",a),h&2&&jt(u,"grid-cols-5",p[1]==5),h&2&&jt(u,"grid-cols-6",p[1]==6)},d(p){p&&(O(e),O(u)),i&&i.d(p),l&&l.d(),br(d,p),o=!1,gr(s)}}}function rv(t){let e,u=eu(t[0]),r=[];for(let n=0;n<u.length;n+=1)r[n]=jl(ql(t,u,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=gt()},l(n){for(let a=0;a<r.length;a+=1)r[a].l(n);e=gt()},m(n,a){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(n,a);de(n,e,a)},p(n,[a]){if(a&4095){u=eu(n[0]);let o;for(o=0;o<u.length;o+=1){const s=ql(n,u,o);r[o]?r[o].p(s,a):(r[o]=jl(s),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=u.length}},i:Ie,o:Ie,d(n){n&&O(e),br(r,n)}}}function nv(t,e,u){let r,n,a,o,s,i,l,c,d;Ve(t,rr,_=>u(12,i=_)),Ve(t,SC,_=>u(13,l=_)),Ve(t,Ut,_=>u(14,c=_)),Ve(t,Sn,_=>u(15,d=_));let{options:p=[]}=e,{cols:h=6}=e,F=null;function g(_){u(2,F=_.target.id)}function A(){u(2,F=null)}function C(_){const T=_.touches[0],R=document.elementFromPoint(T.clientX,T.clientY),L=R.getBoundingClientRect();T.clientX>=L.left&&T.clientX<=L.right&&T.clientY>=L.top&&T.clientY<=L.bottom?u(2,F=R.id):u(2,F=null)}const E=HF();function v(_){E("menuaction",{text:_})}const S=_=>v(_.id),q=_=>v(_.id);return t.$$set=_=>{"options"in _&&u(0,p=_.options),"cols"in _&&u(1,h=_.cols)},t.$$.update=()=>{t.$$.dirty&32768&&u(7,r=d.ButtonSelectedColor),t.$$.dirty&4096&&u(6,n=Du(Object.fromEntries(Object.entries(i["ui.button.book-grid"]).filter(([_])=>_!="background-color")))),t.$$.dirty&4096&&u(5,a=Du(Object.fromEntries(Object.entries(i["ui.button.chapter-intro"]).filter(([_])=>_!="background-color")))),t.$$.dirty&4096&&u(4,o=Du(i["ui.text.book-group-title"])),t.$$.dirty&28672&&u(3,s=(_,T)=>{var J;const R=(J=Qe.bookCollections.find(U=>U.id===c.collection).books.find(U=>U.id===_))==null?void 0:J.section;return Object.keys(l).includes(R)?l[R]:i[T]["background-color"]})},[p,h,F,s,o,a,n,r,g,A,C,v,i,l,c,d,S,q]}class qu extends st{constructor(e){super(),it(this,e,nv,rv,ot,{options:0,cols:1})}}function Nl(t,e,u){const r=t.slice();return r[5]=e[u],r}function Ml(t,e,u){const r=t.slice();return r[8]=e[u],r[10]=u,r}function Ll(t,e,u){const r=t.slice();return r[8]=e[u],r[12]=u,r}function Ul(t){let e,u=t[5].header+"",r,n;return{c(){e=he("div"),r=Pt(u),this.h()},l(a){e=Fe(a,"DIV",{style:!0,class:!0});var o=Y(e);r=It(o,u),o.forEach(O),this.h()},h(){B(e,"style",n=Du(t[1]["ui.text.book-group-title"])),B(e,"class","svelte-wp4cqc")},m(a,o){de(a,e,o),ue(e,r)},p(a,o){o&1&&u!==(u=a[5].header+"")&&nu(r,u),o&2&&n!==(n=Du(a[1]["ui.text.book-group-title"]))&&B(e,"style",n)},d(a){a&&O(e)}}}function Vl(t){let e,u,r=t[5].cells[t[10]*t[5].cells.length+t[12]].label+"",n,a,o;function s(){return t[3](t[5],t[10],t[12])}return{c(){e=he("tr"),u=he("span"),n=Pt(r),this.h()},l(i){e=Fe(i,"TR",{class:!0});var l=Y(e);u=Fe(l,"SPAN",{class:!0,role:!0});var c=Y(u);n=It(c,r),c.forEach(O),l.forEach(O),this.h()},h(){B(u,"class","menu p-0 cursor-pointer hover:bg-base-100 min-w-[16rem] svelte-wp4cqc"),B(u,"role","button"),B(e,"class","svelte-wp4cqc")},m(i,l){de(i,e,l),ue(e,u),ue(u,n),a||(o=Ye(u,"click",s),a=!0)},p(i,l){t=i,l&1&&r!==(r=t[5].cells[t[10]*t[5].cells.length+t[12]].label+"")&&nu(n,r)},d(i){i&&O(e),a=!1,o()}}}function Wl(t){let e,u=t[10]*t[5].cells.length+t[12]<t[5].cells.length&&Vl(t);return{c(){u&&u.c(),e=gt()},l(r){u&&u.l(r),e=gt()},m(r,n){u&&u.m(r,n),de(r,e,n)},p(r,n){r[10]*r[5].cells.length+r[12]<r[5].cells.length?u?u.p(r,n):(u=Vl(r),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null)},d(r){r&&O(e),u&&u.d(r)}}}function zl(t){let e,u=eu(Array(t[5].cells.length)),r=[];for(let n=0;n<u.length;n+=1)r[n]=Wl(Ll(t,u,n));return{c(){e=he("td");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){e=Fe(n,"TD",{class:!0});var a=Y(e);for(let o=0;o<r.length;o+=1)r[o].l(a);a.forEach(O),this.h()},h(){B(e,"class","svelte-wp4cqc")},m(n,a){de(n,e,a);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null)},p(n,a){if(a&5){u=eu(Array(n[5].cells.length));let o;for(o=0;o<u.length;o+=1){const s=Ll(n,u,o);r[o]?r[o].p(s,a):(r[o]=Wl(s),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=u.length}},d(n){n&&O(e),br(r,n)}}}function Gl(t){let e,u,r,n=t[5].header&&Ul(t),a=eu(Array(t[5].cells.length)),o=[];for(let s=0;s<a.length;s+=1)o[s]=zl(Ml(t,a,s));return{c(){n&&n.c(),e=We(),u=he("table");for(let s=0;s<o.length;s+=1)o[s].c();r=We(),this.h()},l(s){n&&n.l(s),e=ze(s),u=Fe(s,"TABLE",{class:!0});var i=Y(u);for(let l=0;l<o.length;l+=1)o[l].l(i);r=ze(i),i.forEach(O),this.h()},h(){B(u,"class","svelte-wp4cqc")},m(s,i){n&&n.m(s,i),de(s,e,i),de(s,u,i);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(u,null);ue(u,r)},p(s,i){if(s[5].header?n?n.p(s,i):(n=Ul(s),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),i&5){a=eu(Array(s[5].cells.length));let l;for(l=0;l<a.length;l+=1){const c=Ml(s,a,l);o[l]?o[l].p(c,i):(o[l]=zl(c),o[l].c(),o[l].m(u,r))}for(;l<o.length;l+=1)o[l].d(1);o.length=a.length}},d(s){s&&(O(e),O(u)),n&&n.d(s),br(o,s)}}}function av(t){let e,u=eu(t[0]),r=[];for(let n=0;n<u.length;n+=1)r[n]=Gl(Nl(t,u,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=gt()},l(n){for(let a=0;a<r.length;a+=1)r[a].l(n);e=gt()},m(n,a){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(n,a);de(n,e,a)},p(n,[a]){if(a&7){u=eu(n[0]);let o;for(o=0;o<u.length;o+=1){const s=Nl(n,u,o);r[o]?r[o].p(s,a):(r[o]=Gl(s),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=u.length}},i:Ie,o:Ie,d(n){n&&O(e),br(r,n)}}}function ov(t,e,u){let r;Ve(t,rr,i=>u(1,r=i));let{options:n=[]}=e;const a=HF();function o(i){a("menuaction",{text:i})}const s=(i,l,c)=>o(i.cells[l*i.cells.length+c].id);return t.$$set=i=>{"options"in i&&u(0,n=i.options)},[n,r,o,s]}class Hl extends st{constructor(e){super(),it(this,e,ov,av,ot,{options:0})}}function sv(t){let e,u,r,n,a,o;return a=new tm({props:{color:"white"}}),{c(){e=he("div"),u=Pt(t[8]),n=We(),xe(a.$$.fragment),this.h()},l(s){e=Fe(s,"DIV",{class:!0,style:!0});var i=Y(e);u=It(i,t[8]),i.forEach(O),n=ze(s),Ge(a.$$.fragment,s),this.h()},h(){B(e,"class","normal-case whitespace-nowrap"),B(e,"style",r=Du(t[10]["ui.selector.book"]))},m(s,i){de(s,e,i),ue(e,u),de(s,n,i),je(a,s,i),o=!0},p(s,i){(!o||i&256)&&nu(u,s[8]),(!o||i&1024&&r!==(r=Du(s[10]["ui.selector.book"])))&&B(e,"style",r)},i(s){o||(se(a.$$.fragment,s),o=!0)},o(s){le(a.$$.fragment,s),o=!1},d(s){s&&(O(e),O(n)),Ne(a,s)}}}function iv(t){let e,u,r,n={options:{[t[4]]:{component:t[9]?Hl:qu,props:{options:t[14]({colId:t[2].collection,bookLabel:t[9]?"name":"abbreviation"})},visible:!0},[t[6]]:{component:qu,props:{options:t[15](t[0])},visible:t[11]},[t[5]]:{component:qu,props:{options:t[16](t[1])},visible:t[11]&&t[7]}}};return u=new um({props:n}),t[22](u),u.$on("menuaction",t[12]),{c(){e=he("div"),xe(u.$$.fragment)},l(a){e=Fe(a,"DIV",{});var o=Y(e);Ge(u.$$.fragment,o),o.forEach(O)},m(a,o){de(a,e,o),je(u,e,null),r=!0},p(a,o){const s={};o&759&&(s.options={[a[4]]:{component:a[9]?Hl:qu,props:{options:a[14]({colId:a[2].collection,bookLabel:a[9]?"name":"abbreviation"})},visible:!0},[a[6]]:{component:qu,props:{options:a[15](a[0])},visible:a[11]},[a[5]]:{component:qu,props:{options:a[16](a[1])},visible:a[11]&&a[7]}}),u.$set(s)},i(a){r||(se(u.$$.fragment,a),r=!0)},o(a){le(u.$$.fragment,a),r=!1},d(a){a&&O(e),t[22](null),Ne(u)}}}function cv(t){let e,u;return e=new em({props:{$$slots:{content:[iv],label:[sv]},$$scope:{ctx:t}}}),e.$on("nav-end",t[13]),{c(){xe(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){je(e,r,n),u=!0},p(r,[n]){const a={};n&134219775&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){u||(se(e.$$.fragment,r),u=!0)},o(r){le(e.$$.fragment,r),u=!1},d(r){Ne(e,r)}}}function lv(t,e,u){let r,n,a,o,s,i,l,c,d,p,h,F,g,A,C,E;Ve(t,ja,Q=>u(19,F=Q)),Ve(t,Ut,Q=>u(2,g=Q)),Ve(t,uu,Q=>u(20,A=Q)),Ve(t,Qr,Q=>u(21,C=Q)),Ve(t,rr,Q=>u(10,E=Q));const v=Qe.mainFeatures["show-chapter-selector-after-book"];let S;function q(Q){return Object.keys(p.find(X=>X.bookCode===Q).versesByChapters).length}function _(Q,Ce){return!Q||Q==="i"||!Ce||Object.keys(Ce).length===0?0:Object.keys(Ce[Q]).length}function T(Q){switch(Q.detail.tab){case i:S.setActive(l),zt(uu,A.book=Q.detail.text,A),q(A.book)===0&&(zt(uu,A.chapter="i",A),R()),zt(uu,A.chapter="1",A);break;case l:zt(uu,A.chapter=Q.detail.text,A),s?S.setActive(c):R();break;case c:Q.detail.text==="i"?(zt(uu,A.chapter="i",A),zt(uu,A.verse="",A)):zt(uu,A.verse=Q.detail.text,A),R();break;default:console.log("Book navigateReference: Default");break}}async function R(){zt(Ut,g={book:A.book,chapter:A.chapter,verse:A.verse},g),vn({collection:g.collection,book:A.book,chapter:A.chapter,verse:A.verse}),document.activeElement.blur()}function L(){S&&S.setActive(i),uu.reset()}let J=({colId:Q,bookLabel:Ce="abbreviation"})=>{let X=[];var Ee=null;return Qe.bookCollections.find(ye=>ye.id===Q).books.forEach(ye=>{if(p.find(we=>we.bookCode===ye.id)){let ae={label:ye[Ce]||ye.name,id:ye.id},N=ye.testament||"";if(Ee==null||N!==Ee)X.push({header:ye.testament?F["Book_Group_"+ye.testament]:Ee==null?"":"",cells:[ae]}),Ee=N;else{let G=X[X.length-1].cells;X[X.length-1].cells=[...G,ae]}}}),X},U=Q=>[{rows:p.find(X=>X.bookCode===r).hasIntroduction?[{label:F.Chapter_Introduction_Title,id:"i"}]:null,cells:Object.keys(Q).map(X=>({label:X,id:X}))}],K=Q=>{let Ce,X=h[Q];return Q==="i"?Ce=[{cells:[{label:F.Chapter_Introduction_Symbol,id:"i"}]}]:a===0?Ce=[]:Ce=[{cells:Object.keys(X).map(Ee=>({label:Ee,id:Ee}))}],Ce};function oe(Q){Cr[Q?"unshift":"push"](()=>{S=Q,u(3,S)})}return t.$$.update=()=>{t.$$.dirty&1048580&&u(17,r=A.book===""?g.book:A.book),t.$$.dirty&1048580&&u(1,n=A.chapter===""?g.chapter:A.chapter),t.$$.dirty&4&&u(18,p=Jr.find(Q=>Q.id===g.docSet).documents),t.$$.dirty&393216&&u(0,h=p.find(Q=>Q.bookCode===r).versesByChapters),t.$$.dirty&3&&(a=_(n,h)),t.$$.dirty&2097152&&u(9,o=C["book-selection"]==="list"),t.$$.dirty&2097152&&u(7,s=C["verse-selection"]),t.$$.dirty&524288&&u(4,i=F.Selector_Book),t.$$.dirty&524288&&u(6,l=F.Selector_Chapter),t.$$.dirty&524288&&u(5,c=F.Selector_Verse),t.$$.dirty&131076&&u(8,d=Qe.bookCollections.find(Q=>Q.id===g.collection).books.find(Q=>Q.id===r).name)},[h,n,g,S,i,c,l,s,d,o,E,v,T,L,J,U,K,r,p,F,A,C,oe]}class Dv extends st{constructor(e){super(),it(this,e,lv,cv,ot,{})}}function Jl(t){let e,u;return e=new em({props:{cols:"5",$$slots:{content:[hv],label:[dv]},$$scope:{ctx:t}}}),e.$on("nav-end",t[13]),{c(){xe(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){je(e,r,n),u=!0},p(r,n){const a={};n&16781231&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){u||(se(e.$$.fragment,r),u=!0)},o(r){le(e.$$.fragment,r),u=!1},d(r){Ne(e,r)}}}function fv(t){let e,u;return e=new tm({props:{color:"white"}}),{c(){xe(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){je(e,r,n),u=!0},i(r){u||(se(e.$$.fragment,r),u=!0)},o(r){le(e.$$.fragment,r),u=!1},d(r){Ne(e,r)}}}function dv(t){let e,u,r,n,a,o,s=t[15]&&fv();return{c(){e=he("div"),u=Pt(t[2]),n=We(),s&&s.c(),a=gt(),this.h()},l(i){e=Fe(i,"DIV",{class:!0,style:!0});var l=Y(e);u=It(l,t[2]),l.forEach(O),n=ze(i),s&&s.l(i),a=gt(),this.h()},h(){B(e,"class","normal-case"),B(e,"style",r=Du(t[11]["ui.selector.chapter"]))},m(i,l){de(i,e,l),ue(e,u),de(i,n,l),s&&s.m(i,l),de(i,a,l),o=!0},p(i,l){(!o||l&4)&&nu(u,i[2]),(!o||l&2048&&r!==(r=Du(i[11]["ui.selector.chapter"])))&&B(e,"style",r)},i(i){o||(se(s),o=!0)},o(i){le(s),o=!1},d(i){i&&(O(e),O(n),O(a)),s&&s.d(i)}}}function pv(t){let e,u,r,n={options:{[t[8]]:{component:qu,props:{cols:5,options:[{rows:t[1].find(t[18]).hasIntroduction?[{label:t[3].Chapter_Introduction_Title,id:"i"}]:null,cells:Object.keys(t[7]).map(Zl)}]},visible:!0},[t[9]]:{component:qu,props:{cols:5,options:t[14](t[2])},visible:t[10]}}};return u=new um({props:n}),t[19](u),u.$on("menuaction",t[12]),{c(){e=he("div"),xe(u.$$.fragment)},l(a){e=Fe(a,"DIV",{});var o=Y(e);Ge(u.$$.fragment,o),o.forEach(O)},m(a,o){de(a,e,o),je(u,e,null),r=!0},p(a,o){const s={};o&1935&&(s.options={[a[8]]:{component:qu,props:{cols:5,options:[{rows:a[1].find(a[18]).hasIntroduction?[{label:a[3].Chapter_Introduction_Title,id:"i"}]:null,cells:Object.keys(a[7]).map(Zl)}]},visible:!0},[a[9]]:{component:qu,props:{cols:5,options:a[14](a[2])},visible:a[10]}}),u.$set(s)},i(a){r||(se(u.$$.fragment,a),r=!0)},o(a){le(u.$$.fragment,a),r=!1},d(a){a&&O(e),t[19](null),Ne(u)}}}function hv(t){let e,u,r=t[15]&&pv(t);return{c(){r&&r.c(),e=gt()},l(n){r&&r.l(n),e=gt()},m(n,a){r&&r.m(n,a),de(n,e,a),u=!0},p(n,a){n[15]&&r.p(n,a)},i(n){u||(se(r),u=!0)},o(n){le(r),u=!1},d(n){n&&O(e),r&&r.d(n)}}}function Fv(t){let e,u,r=t[6]&&(t[4].book===""||t[4].chapter!=="")&&Jl(t);return{c(){r&&r.c(),e=gt()},l(n){r&&r.l(n),e=gt()},m(n,a){r&&r.m(n,a),de(n,e,a),u=!0},p(n,[a]){n[6]&&(n[4].book===""||n[4].chapter!=="")?r?(r.p(n,a),a&80&&se(r,1)):(r=Jl(n),r.c(),se(r,1),r.m(e.parentNode,e)):r&&(bt(),le(r,1,1,()=>{r=null}),Bt())},i(n){u||(se(r),u=!0)},o(n){le(r),u=!1},d(n){n&&O(e),r&&r.d(n)}}}const Zl=t=>({label:t,id:t});function mv(t,e,u){let r,n,a,o,s,i,l,c,d,p,h,F,g,A;Ve(t,Ut,U=>u(16,p=U)),Ve(t,ja,U=>u(3,h=U)),Ve(t,uu,U=>u(4,F=U)),Ve(t,Qr,U=>u(17,g=U)),Ve(t,rr,U=>u(11,A=U));let C;function E(U){switch(U.detail.tab){case s:zt(uu,F.chapter=U.detail.text,F),a?C.setActive(i):v();break;case i:U.detail.text==="i"?(zt(uu,F.chapter="i",F),zt(uu,F.verse="",F)):zt(uu,F.verse=U.detail.text,F),v();break;default:console.log("Chapter navigateReference: Default");break}}function v(){zt(Ut,p={chapter:F.chapter,verse:F.verse},p),vn({collection:p.collection,book:p.book,chapter:F.chapter,verse:F.verse}),document.activeElement.blur()}function S(){C.setActive(s),uu.reset()}function q(U){let K=Jr.find(Q=>Q.id===p.docSet).documents;return Object.keys(K.find(Q=>Q.bookCode===U).versesByChapters).length}function _(U,K){if(!K||K==="i")return 0;let Q=Jr.find(X=>X.id===p.docSet).documents.find(X=>X.bookCode===U).versesByChapters;return!Q||Object.keys(Q).length===0?0:Object.keys(Q[K]).length}let T=U=>{let K=[],oe=c[U];return U==="i"?K=[{cells:[{label:h.Chapter_Introduction_Symbol,id:"i"}]}]:o===0?K=[]:K=[{cells:Object.keys(oe).map(Q=>({label:Q,id:Q}))}],K};const R=Qe.mainFeatures["show-chapter-selector"],L=U=>U.bookCode===r;function J(U){Cr[U?"unshift":"push"](()=>{C=U,u(5,C)})}return t.$$.update=()=>{t.$$.dirty&65552&&u(0,r=F.book===""?p.book:F.book),t.$$.dirty&65552&&u(2,n=F.chapter===""?p.chapter:F.chapter),t.$$.dirty&131072&&u(10,a=g["verse-selection"]),t.$$.dirty&5&&(o=_(r,n)),t.$$.dirty&8&&u(8,s=h.Selector_Chapter),t.$$.dirty&8&&u(9,i=h.Selector_Verse),t.$$.dirty&65536&&u(1,l=Jr.find(U=>U.id===p.docSet).documents),t.$$.dirty&3&&u(7,c=l.find(U=>U.bookCode===r).versesByChapters),t.$$.dirty&65536&&u(6,d=q(p.book)>0)},[r,l,n,h,F,C,d,c,s,i,a,A,E,S,T,R,p,g,L,J]}class Ev extends st{constructor(e){super(),it(this,e,mv,Fv,ot,{})}}function Cv(t){let e=0;try{e=parseInt(t,10)}catch{const r=Av(t);if(Mt(r))try{e=parseInt(r,10)}catch{}}return e}function Av(t){const e=[];for(let u=0;u<t.length;u++){const r=t.charAt(u),n=parseInt(r,10);isNaN(n)?e.push(r):e.push(n.toString())}return e.join("")}let Sa,am,Lt,Ku,om,sm,$a,im,Tn,gu,yt;function vv(t,e,u=void 0){const r=document.createElement("a");return r.classList.add("cursor-pointer"),Mt(t)&&r.classList.add(t),r.href="#",r.innerHTML=e.phrase,r.setAttribute("data-start-ref",JSON.stringify(e)),r.setAttribute("data-end-ref",JSON.stringify(u)),r}function yv(){Lt=am.find(t=>t.id===Sa.collection),Ku=Lt.features,$a=Ku["ref-chapter-verse-separator"],im=Ku["ref-verse-range-separator"],Tn=Ku["ref-verse-list-separator"],gu=Ku["ref-chapter-range-separator"],Ku["ref-chapter-list-separator"],om=Ku["show-scripture-refs"],yt=Ku["ref-extra-material"],Mt(yt)&&(Ov(),Rv())}function Kl(t,e,u=""){return Sa=ba(Ut),sm=Jr,am=Qe.bookCollections,gv(t,e,u)}function gv(t,e,u=""){yv();const r=$n(u)?Sa.book:u,n=Sa.docSet,a="\\xt "+t+"\\xt*",o="\\\\(\\+?)xt[ \\xA0]([\\s\\S\\xA0]*?)(?:\\|([\\s\\S]*?))?\\\\\\1xt\\*",s=new RegExp(o,"g");let i,l="",c=0;for(;(i=s.exec(a))!==null;){const d=i[2],p=i[3],h=Mt(p)?p:d,F=Mt(p)?d:null;let g=$a,A=im;Mt(p)&&(g=":",A="-");const C=Bv(h,n,r,F,g,A,e);l+=a.substring(c,i.index),l+=C,c+=i.index+i[0].length}return l+=a.substring(c),l}function bv(t,e=null){var a;const r=((a=(e??Qe).bookCollections.find(o=>o.id===t.collection).books.find(o=>o.id===t.book))==null?void 0:a.testament)||"";return r==="NT"||r==="OT"||r==="DC"}function Bv(t,e,u,r,n,a,o){let s="";if(om){const i=wv(n,a);s=_v(i,t,e,u,r,n,a,o)}else s=t;return s}function _v(t,e,u,r,n,a,o,s){let i=r;const l=new RegExp(t,"g");let c,d="",p="",h=0;for(;(c=l.exec(e))!==null;){const F=kC(c[0]);let g=c[2],A=null;if(!F)if(Mt(g)){if(A=qv(g),i=null,!Kt(A)&&Mt(n)){const C=Tv(g);Mt(C)&&(A=C)}}else A=i,g="";if(Kt(A)){let C="";const E=$n(g)?"":g+" ",v=oo(c[1]),S=oo(c[13]);if(Kt(c[3])){const q=c[4],_=c[5],T=c[6],R=c[7],L=c[8];ml(q),ml(R);const J=v+E+q+$a+_+T+R+$a+L+S,U=yn("",u,A,q,R,_,L);C=Er(U,n,J,s)}else if(Kt(c[9])){let q=c[10],_=Cv(q),T=oo(c[11]);T===""&&o==="-"&&(T="-");let R=c[12];const L=Ql(A);if(L===1&&(_=1,Kt(R)?T===o&&(R=q+T+R):R=q,q=""),Kt(R))if(T===gu&&L>1){const J=q+gu+R;C=Pv(e,n,u,A,E,v,S,J,s)}else T===a||L===1?C=Iv(e,n,u,A,E,v,S,q,_,R,a,o,s):C=c[9];else{const J=zc(A,q,u),U=v+E+q+S,K=yn("",u,A,q,"","1",J);C=Er(K,n,U,s)}}d=C,i=A}else if(F&&Mt(i)){A=i;const C=qC(c[0]),E=Ql(A);let v="";if(C<=E){const S=C.toString(),q=C.toString(),_=zc(A,q,u),T=yn("",u,A,q,"","1",_);v=Er(T,n,S,s)}else v=Mt(n)?n:c[0];d=v}else d=Mt(n)?n:c[0];p+=e.substring(h,c.index),p+=d,h=c.index+c[0].length}return p+=e.substring(h),p}function wv(t,e){const u=Mt(yt)?"("+yt+")?":"()",r=t==="."?"\\.":t,n=Tn==="."?"\\.":Tn,a="[\\u200f]?",o="(\\d{1,3})",s="\\d{1,3}",i="(\\d{1,3})",l=Sv();let c=gu;c==="-"&&(c=c+"|\\u2011");const d=o+r+i+"("+c+")"+o+r+i;let p=gu;if(gu!==e){const q=e==="-"?"\\-":e;p=p+"|"+q}(gu==="-"||e==="-")&&(p=p+"|\\u2011");const h="(?!(\\d*"+r+"\\d)|(\\d?\\p{Lu})|(\\d?\\s\\p{Lu}))",F=s+h+"(?:"+a+"(?:"+p+")"+s+")?",g="("+F+"(?:"+n+"\\s?"+F+")*)",A="(["+p+r+"])",C=o+"(?:"+a+A+g+")?",E="("+d+")|("+C+")";let v=u+"(?:("+l+")\\s)?(?:"+E+")"+u;return v=v+"(?![^<]*>|[^<>]*</)",v}function Sv(){let t=xv();return t=t.replace(/-/g,"\\-"),"(?:[123] )?[\\w\\p{L}][\\w\\p{L}\\p{M}\\s"+t+"]*"}function $v(){const t="\\d{1,3}",e="[\\u200f]?";let u=gu;return gu==="-"&&(u=u+"\\u2011"),"("+t+")(?:"+e+"["+u+"]("+t+"))?"}function kv(t){const e="\\d{1,3}",u="[\\u200f]?";let r=t;return r==="-"&&(r=r+"\\u2011"),"("+e+")(?:"+u+"["+r+"]("+e+"))?"}function qv(t){let e,u=0;for(;u<Lt.books.length;){if(Hr(Lt.books[u].name,t)||Hr(Lt.books[u].abbreviation,t)||Hr(Lt.books[u].abbreviation+".",t)){e=Lt.books[u].id;break}if(Kt(Lt.books[u].additionalNames)){let r=0;for(;r<Lt.books[u].additionalNames.length;){if(Hr(Lt.books[u].additionalNames[r].name,t)){e=Lt.books[u].id;break}r++}if(Kt(e))break}u++}return e}function Tv(t){let e="",u=0;for(;u<Lt.books.length;){if(Hr(Lt.books[u].id,t)){e=Lt.books[u].id;break}u++}return e}function Ql(t){var u;return((u=Lt.books.find(r=>r.id===t))==null?void 0:u.chapters)||0}function Pv(t,e,u,r,n,a,o,s,i){const l=$v();let c=!0,d=0,p=0,h="";const F=new RegExp(l,"g");let g;const A=[];for(;(g=F.exec(s))!==null;)d++,A.push(g);F.lastIndex=0;for(let C=0;C<d;C++){const E=A[C],v=E[1],S=E[2],q=t.includes("");let _=v;Kt(S)&&(q?_=v+""+gu+S:_=_+gu+S);const T=zc(r,v,u),R=yn("",u,r,v,v,"1",T);let L;c?(L=n+_,L=a+L,p==d-1&&(L=L+o),h=Er(R,e,L,i),c=!1):(L=_,p==d-1&&(L=L+o),h=h+Tn+Er(R,e,L,i)),p++}return h}function Iv(t,e,u,r,n,a,o,s,i,l,c,d,p){let h="",F=0,g=0,A=!0;const C=t.includes(""),E=kv(d),v=new RegExp(E,"g");let S;const q=[];for(;(S=v.exec(l))!==null;)F++,q.push(S);v.lastIndex=0;for(let _=0;_<F;_++){const T=q[_],R=T[1],L=T[2],J=C;let U=R;Kt(L)&&(J?U=R+""+d+L:U=U+d+L);const K=yn("",u,r,i.toString(),"",R,L);let oe="";A?(oe=n+s,oe=oe.trim(),Mt(U)&&(C&&(oe=oe+""),$n(s)?(oe=oe+" "+U,oe=oe.trim()):oe=oe+c+U),oe=a+oe,g==F-1&&(oe=oe+o),h=Er(K,e,oe,p),A=!1):(oe=U,g==F-1&&(oe=oe+o),h=h+Tn+Er(K,e,oe,p)),g++}return h}function Er(t,e,u,r){let n="",a=u;Mt(e)&&(a=e),t.text=a;const o={phrase:t.text,docSet:t.collection,book:t.bookId,chapter:t.fromChapter,verse:t.fromVerse},i=$n(t.toChapter)&&$n(t.toVerse)?void 0:{phrase:t.text,docSet:t.collection,book:t.bookId,chapter:Mt(t.toChapter)?t.toChapter:t.fromChapter,verse:Mt(t.toVerse)?t.toVerse:t.fromVerse};return n=vv(r,o,i).outerHTML,n}function zc(t,e,u){if(!e||e==="i")return"0";const n=sm.find(s=>s.id===u).documents.find(s=>s.bookCode===t).versesByChapters,a=Object.keys(n[e]);return a[a.length-1]}function yn(t,e,u,r,n,a,o){const s={};return s.text=t,s.collection=e,s.bookId=u,s.fromChapter=r,s.toChapter=n,s.fromVerse=a,s.toVerse=o,s}function Ov(){const t=yt.split("|"),e=function(r,n){return n.length-r.length};t.sort(e);let u="";t.forEach(function(r,n){n>0&&(u+="|"),u+=r}),yt=u}function Rv(){yt=yt.replace("\\","\\\\"),yt=yt.replace("+","\\+"),yt=yt.replace(".","\\."),yt=yt.replace("?","\\?"),yt=yt.replace("*","\\*"),yt=yt.replace("^","\\^"),yt=yt.replace("$","\\$"),yt=yt.replace("(","\\("),yt=yt.replace(")","\\)"),yt=yt.replace("[","\\["),yt=yt.replace("]","\\]")}function xv(){const t=new Set;let e=0;for(;e<Lt.books.length;){const u=Lt.books[e].name,r=Lt.books[e].abbreviation,n=Lt.books[e].additionalNames;let a=Kt(u)?u.replace(/[^\p{L}\p{M}]/gu,""):"";if(io(a,t),a=Kt(r)?r.replace(/[^\p{L}\p{M}]/gu,""):"",io(a,t),Kt(n)){let o=0;for(;o<n.length;){const s=n[o].name;a=Kt(s)?s.replace(/[^\p{L}\p{M}]/gu,""):"",io(a,t),o++}}e++}return Array.from(t).join("")}function io(t,e){for(let u=0;u<t.length;u++)e.add(t.charAt(u))}async function cm(t,e,u){console.log("HandleHeaderLinkPressed start: %o end: %o colors: %o",t,e,u);const r=u.PrimaryColor,n=document.createElement("div"),a=document.createElement("div"),o=document.createElement("div"),s=document.createElement("button");o.id="icon";const i=document.createElement("span"),l=document.createElement("span");n.classList.add("flex","flex-row","justify-space-between"),i.classList.add("fr"),l.classList.add("ft"),s.setAttribute("reference",JSON.stringify(t)),s.classList.add("p-2");const c=`<svg fill='${r}' xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"/></svg>`;return s.innerHTML=c,i.innerText=`${t.phrase} `,l.innerText=await $C(t,e),a.appendChild(i),a.appendChild(l),o.appendChild(s),n.appendChild(a),n.appendChild(o),n.outerHTML}function Yl(t,e,u){const r=t.slice();return r[17]=e[u],r}function Xl(t){let e,u,r,n=t[17]+"",a,o,s;return{c(){e=he("div"),u=he("div"),r=new eA(!1),a=We(),this.h()},l(i){e=Fe(i,"DIV",{id:!0,class:!0});var l=Y(e);u=Fe(l,"DIV",{id:!0,class:!0});var c=Y(u);r=tA(c,!1),c.forEach(O),a=ze(l),l.forEach(O),this.h()},h(){r.a=null,B(u,"id","container"),B(u,"class","footnote"),_e(u,"font-family",t[0]),_e(u,"font-size",t[4]),_e(u,"line-height",t[3]),B(e,"id","container"),B(e,"class","footnote rounded h-40 drop-shadow-lg overflow-y-auto")},m(i,l){de(i,e,l),ue(e,u),r.m(n,u),ue(e,a),o||(s=Ye(e,"click",uA(t[5])),o=!0)},p(i,l){l&2&&n!==(n=i[17]+"")&&r.p(n),l&1&&_e(u,"font-family",i[0]),l&16&&_e(u,"font-size",i[4]),l&8&&_e(u,"line-height",i[3])},d(i){i&&O(e),o=!1,s()}}}function jv(t){let e,u=eu(t[1]),r=[];for(let n=0;n<u.length;n+=1)r[n]=Xl(Yl(t,u,n));return{c(){e=he("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){e=Fe(n,"DIV",{class:!0});var a=Y(e);for(let o=0;o<r.length;o+=1)r[o].l(a);a.forEach(O),this.h()},h(){B(e,"class","absolute max-w-screen-md w-5/6 bottom-8 dy-stack")},m(n,a){de(n,e,a);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null);t[9](e)},p(n,[a]){if(a&59){u=eu(n[1]);let o;for(o=0;o<u.length;o+=1){const s=Yl(n,u,o);r[o]?r[o].p(s,a):(r[o]=Xl(s),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=u.length}},i:Ie,o:Ie,d(n){n&&O(e),br(r,n),t[9](null)}}}function Nv(t,e,u){let r,n,a,o;Ve(t,Lu,E=>u(1,a=E)),Ve(t,Sn,E=>u(8,o=E));let{bodyFontSize:s}=e,{bodyLineHeight:i}=e,{font:l}=e,c,d=!1;function p(E){c.contains(E.target)||Lu.pop()}function h(E){Ut.set({docSet:E.docSet,book:E.book,chapter:E.chapter,verse:E.verse}),Lu.reset()}function F(E){const v=E.target.getAttribute("ref"),S=GF(v,"."),q=S[0],_=S[1],T=S[2],R=S[3];let L=Ut.docSet;const J=Qe.bookCollections.find(U=>U.id===q);if(J)L=J.languageCode+"_"+J.id;else return;Ut.set({docSet:L,book:_,chapter:T,verse:R}),Lu.reset()}async function g(E){var v;if(E.target.hasAttribute("data-start-ref")){let S=JSON.parse(E.target.getAttribute("data-start-ref")),q=E.target.getAttribute("data-end-ref")==="undefined"?void 0:JSON.parse(E.target.getAttribute("data-end-ref"));if(Qe.mainFeatures["scripture-refs-display-from-popup"]==="viewer")h(S);else{const _=await cm(S,q,Sn);Lu.push(_)}}else if(E.target.classList.contains("ref-link"))F(E);else if((v=document.getElementById("icon"))!=null&&v.contains(E.target)){let S=JSON.parse(document.getElementById("icon").firstChild.getAttribute("reference"));h(S)}}function A(E){d&&E.length===0?(document.removeEventListener("click",p),d=!1):!d&&E.length>0&&(document.addEventListener("click",p),d=!0)}function C(E){Cr[E?"unshift":"push"](()=>{c=E,u(2,c)})}return t.$$set=E=>{"bodyFontSize"in E&&u(6,s=E.bodyFontSize),"bodyLineHeight"in E&&u(7,i=E.bodyLineHeight),"font"in E&&u(0,l=E.font)},t.$$.update=()=>{t.$$.dirty&256&&o.PrimaryColor,t.$$.dirty&2&&A(a),t.$$.dirty&64&&u(4,r=s+"px"),t.$$.dirty&128&&u(3,n=i+"%")},[l,a,c,n,r,g,s,i,o,C]}class Mv extends st{constructor(e){super(),it(this,e,Nv,jv,ot,{bodyFontSize:6,bodyLineHeight:7,font:0})}}var Zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gc={exports:{}},lm={},bu={},tn={},In={},Dt={},Pn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class u extends e{constructor(E){if(super(),!t.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=u;class r extends e{constructor(E){super(),this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((v,S)=>`${v}${S}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((v,S)=>(S instanceof u&&(v[S.str]=(v[S.str]||0)+1),v),{})}}t._Code=r,t.nil=new r("");function n(C,...E){const v=[C[0]];let S=0;for(;S<E.length;)s(v,E[S]),v.push(C[++S]);return new r(v)}t._=n;const a=new r("+");function o(C,...E){const v=[h(C[0])];let S=0;for(;S<E.length;)v.push(a),s(v,E[S]),v.push(a,h(C[++S]));return i(v),new r(v)}t.str=o;function s(C,E){E instanceof r?C.push(...E._items):E instanceof u?C.push(E):C.push(d(E))}t.addCodeArg=s;function i(C){let E=1;for(;E<C.length-1;){if(C[E]===a){const v=l(C[E-1],C[E+1]);if(v!==void 0){C.splice(E-1,3,v);continue}C[E++]="+"}E++}}function l(C,E){if(E==='""')return C;if(C==='""')return E;if(typeof C=="string")return E instanceof u||C[C.length-1]!=='"'?void 0:typeof E!="string"?`${C.slice(0,-1)}${E}"`:E[0]==='"'?C.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(C instanceof u))return`"${C}${E.slice(1)}`}function c(C,E){return E.emptyStr()?C:C.emptyStr()?E:o`${C}${E}`}t.strConcat=c;function d(C){return typeof C=="number"||typeof C=="boolean"||C===null?C:h(Array.isArray(C)?C.join(","):C)}function p(C){return new r(h(C))}t.stringify=p;function h(C){return JSON.stringify(C).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=h;function F(C){return typeof C=="string"&&t.IDENTIFIER.test(C)?new r(`.${C}`):n`[${C}]`}t.getProperty=F;function g(C){if(typeof C=="string"&&t.IDENTIFIER.test(C))return new r(`${C}`);throw new Error(`CodeGen: invalid export name: ${C}, use explicit $id name mapping`)}t.getEsmExportName=g;function A(C){return new r(C.toString())}t.regexpCode=A})(Pn);var Hc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Pn;class u extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var r;(function(i){i[i.Started=0]="Started",i[i.Completed=1]="Completed"})(r=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class n{constructor({prefixes:l,parent:c}={}){this._names={},this._prefixes=l,this._parent=c}toName(l){return l instanceof e.Name?l:this.name(l)}name(l){return new e.Name(this._newName(l))}_newName(l){const c=this._names[l]||this._nameGroup(l);return`${l}${c.index++}`}_nameGroup(l){var c,d;if(!((d=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||d===void 0)&&d.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}t.Scope=n;class a extends e.Name{constructor(l,c){super(c),this.prefix=l}setValue(l,{property:c,itemIndex:d}){this.value=l,this.scopePath=(0,e._)`.${new e.Name(c)}[${d}]`}}t.ValueScopeName=a;const o=(0,e._)`\n`;class s extends n{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:e.nil}}get(){return this._scope}name(l){return new a(l,this._newName(l))}value(l,c){var d;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const p=this.toName(l),{prefix:h}=p,F=(d=c.key)!==null&&d!==void 0?d:c.ref;let g=this._values[h];if(g){const E=g.get(F);if(E)return E}else g=this._values[h]=new Map;g.set(F,p);const A=this._scope[h]||(this._scope[h]=[]),C=A.length;return A[C]=c.ref,p.setValue(c,{property:h,itemIndex:C}),p}getValue(l,c){const d=this._values[l];if(d)return d.get(c)}scopeRefs(l,c=this._values){return this._reduceValues(c,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,e._)`${l}${d.scopePath}`})}scopeCode(l=this._values,c,d){return this._reduceValues(l,p=>{if(p.value===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return p.value.code},c,d)}_reduceValues(l,c,d={},p){let h=e.nil;for(const F in l){const g=l[F];if(!g)continue;const A=d[F]=d[F]||new Map;g.forEach(C=>{if(A.has(C))return;A.set(C,r.Started);let E=c(C);if(E){const v=this.opts.es5?t.varKinds.var:t.varKinds.const;h=(0,e._)`${h}${v} ${C} = ${E};${this.opts._n}`}else if(E=p==null?void 0:p(C))h=(0,e._)`${h}${E}${this.opts._n}`;else throw new u(C);A.set(C,r.Completed)})}return h}}t.ValueScope=s})(Hc);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Pn,u=Hc;var r=Pn;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}});var n=Hc;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return n.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return n.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return n.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return n.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class a{optimizeNodes(){return this}optimizeNames(y,I){return this}}class o extends a{constructor(y,I,H){super(),this.varKind=y,this.name=I,this.rhs=H}render({es5:y,_n:I}){const H=y?u.varKinds.var:this.varKind,me=this.rhs===void 0?"":` = ${this.rhs}`;return`${H} ${this.name}${me};`+I}optimizeNames(y,I){if(y[this.name.str])return this.rhs&&(this.rhs=Q(this.rhs,y,I)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class s extends a{constructor(y,I,H){super(),this.lhs=y,this.rhs=I,this.sideEffects=H}render({_n:y}){return`${this.lhs} = ${this.rhs};`+y}optimizeNames(y,I){if(!(this.lhs instanceof e.Name&&!y[this.lhs.str]&&!this.sideEffects))return this.rhs=Q(this.rhs,y,I),this}get names(){const y=this.lhs instanceof e.Name?{}:{...this.lhs.names};return oe(y,this.rhs)}}class i extends s{constructor(y,I,H,me){super(y,H,me),this.op=I}render({_n:y}){return`${this.lhs} ${this.op}= ${this.rhs};`+y}}class l extends a{constructor(y){super(),this.label=y,this.names={}}render({_n:y}){return`${this.label}:`+y}}class c extends a{constructor(y){super(),this.label=y,this.names={}}render({_n:y}){return`break${this.label?` ${this.label}`:""};`+y}}class d extends a{constructor(y){super(),this.error=y}render({_n:y}){return`throw ${this.error};`+y}get names(){return this.error.names}}class p extends a{constructor(y){super(),this.code=y}render({_n:y}){return`${this.code};`+y}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(y,I){return this.code=Q(this.code,y,I),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class h extends a{constructor(y=[]){super(),this.nodes=y}render(y){return this.nodes.reduce((I,H)=>I+H.render(y),"")}optimizeNodes(){const{nodes:y}=this;let I=y.length;for(;I--;){const H=y[I].optimizeNodes();Array.isArray(H)?y.splice(I,1,...H):H?y[I]=H:y.splice(I,1)}return y.length>0?this:void 0}optimizeNames(y,I){const{nodes:H}=this;let me=H.length;for(;me--;){const De=H[me];De.optimizeNames(y,I)||(Ce(y,De.names),H.splice(me,1))}return H.length>0?this:void 0}get names(){return this.nodes.reduce((y,I)=>K(y,I.names),{})}}class F extends h{render(y){return"{"+y._n+super.render(y)+"}"+y._n}}class g extends h{}class A extends F{}A.kind="else";class C extends F{constructor(y,I){super(I),this.condition=y}render(y){let I=`if(${this.condition})`+super.render(y);return this.else&&(I+="else "+this.else.render(y)),I}optimizeNodes(){super.optimizeNodes();const y=this.condition;if(y===!0)return this.nodes;let I=this.else;if(I){const H=I.optimizeNodes();I=this.else=Array.isArray(H)?new A(H):H}if(I)return y===!1?I instanceof C?I:I.nodes:this.nodes.length?this:new C(X(y),I instanceof C?[I]:I.nodes);if(!(y===!1||!this.nodes.length))return this}optimizeNames(y,I){var H;if(this.else=(H=this.else)===null||H===void 0?void 0:H.optimizeNames(y,I),!!(super.optimizeNames(y,I)||this.else))return this.condition=Q(this.condition,y,I),this}get names(){const y=super.names;return oe(y,this.condition),this.else&&K(y,this.else.names),y}}C.kind="if";class E extends F{}E.kind="for";class v extends E{constructor(y){super(),this.iteration=y}render(y){return`for(${this.iteration})`+super.render(y)}optimizeNames(y,I){if(super.optimizeNames(y,I))return this.iteration=Q(this.iteration,y,I),this}get names(){return K(super.names,this.iteration.names)}}class S extends E{constructor(y,I,H,me){super(),this.varKind=y,this.name=I,this.from=H,this.to=me}render(y){const I=y.es5?u.varKinds.var:this.varKind,{name:H,from:me,to:De}=this;return`for(${I} ${H}=${me}; ${H}<${De}; ${H}++)`+super.render(y)}get names(){const y=oe(super.names,this.from);return oe(y,this.to)}}class q extends E{constructor(y,I,H,me){super(),this.loop=y,this.varKind=I,this.name=H,this.iterable=me}render(y){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(y)}optimizeNames(y,I){if(super.optimizeNames(y,I))return this.iterable=Q(this.iterable,y,I),this}get names(){return K(super.names,this.iterable.names)}}class _ extends F{constructor(y,I,H){super(),this.name=y,this.args=I,this.async=H}render(y){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(y)}}_.kind="func";class T extends h{render(y){return"return "+super.render(y)}}T.kind="return";class R extends F{render(y){let I="try"+super.render(y);return this.catch&&(I+=this.catch.render(y)),this.finally&&(I+=this.finally.render(y)),I}optimizeNodes(){var y,I;return super.optimizeNodes(),(y=this.catch)===null||y===void 0||y.optimizeNodes(),(I=this.finally)===null||I===void 0||I.optimizeNodes(),this}optimizeNames(y,I){var H,me;return super.optimizeNames(y,I),(H=this.catch)===null||H===void 0||H.optimizeNames(y,I),(me=this.finally)===null||me===void 0||me.optimizeNames(y,I),this}get names(){const y=super.names;return this.catch&&K(y,this.catch.names),this.finally&&K(y,this.finally.names),y}}class L extends F{constructor(y){super(),this.error=y}render(y){return`catch(${this.error})`+super.render(y)}}L.kind="catch";class J extends F{render(y){return"finally"+super.render(y)}}J.kind="finally";class U{constructor(y,I={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...I,_n:I.lines?`
`:""},this._extScope=y,this._scope=new u.Scope({parent:y}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(y){return this._scope.name(y)}scopeName(y){return this._extScope.name(y)}scopeValue(y,I){const H=this._extScope.value(y,I);return(this._values[H.prefix]||(this._values[H.prefix]=new Set)).add(H),H}getScopeValue(y,I){return this._extScope.getValue(y,I)}scopeRefs(y){return this._extScope.scopeRefs(y,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(y,I,H,me){const De=this._scope.toName(I);return H!==void 0&&me&&(this._constants[De.str]=H),this._leafNode(new o(y,De,H)),De}const(y,I,H){return this._def(u.varKinds.const,y,I,H)}let(y,I,H){return this._def(u.varKinds.let,y,I,H)}var(y,I,H){return this._def(u.varKinds.var,y,I,H)}assign(y,I,H){return this._leafNode(new s(y,I,H))}add(y,I){return this._leafNode(new i(y,t.operators.ADD,I))}code(y){return typeof y=="function"?y():y!==e.nil&&this._leafNode(new p(y)),this}object(...y){const I=["{"];for(const[H,me]of y)I.length>1&&I.push(","),I.push(H),(H!==me||this.opts.es5)&&(I.push(":"),(0,e.addCodeArg)(I,me));return I.push("}"),new e._Code(I)}if(y,I,H){if(this._blockNode(new C(y)),I&&H)this.code(I).else().code(H).endIf();else if(I)this.code(I).endIf();else if(H)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(y){return this._elseNode(new C(y))}else(){return this._elseNode(new A)}endIf(){return this._endBlockNode(C,A)}_for(y,I){return this._blockNode(y),I&&this.code(I).endFor(),this}for(y,I){return this._for(new v(y),I)}forRange(y,I,H,me,De=this.opts.es5?u.varKinds.var:u.varKinds.let){const ce=this._scope.toName(y);return this._for(new S(De,ce,I,H),()=>me(ce))}forOf(y,I,H,me=u.varKinds.const){const De=this._scope.toName(y);if(this.opts.es5){const ce=I instanceof e.Name?I:this.var("_arr",I);return this.forRange("_i",0,(0,e._)`${ce}.length`,Se=>{this.var(De,(0,e._)`${ce}[${Se}]`),H(De)})}return this._for(new q("of",me,De,I),()=>H(De))}forIn(y,I,H,me=this.opts.es5?u.varKinds.var:u.varKinds.const){if(this.opts.ownProperties)return this.forOf(y,(0,e._)`Object.keys(${I})`,H);const De=this._scope.toName(y);return this._for(new q("in",me,De,I),()=>H(De))}endFor(){return this._endBlockNode(E)}label(y){return this._leafNode(new l(y))}break(y){return this._leafNode(new c(y))}return(y){const I=new T;if(this._blockNode(I),this.code(y),I.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(T)}try(y,I,H){if(!I&&!H)throw new Error('CodeGen: "try" without "catch" and "finally"');const me=new R;if(this._blockNode(me),this.code(y),I){const De=this.name("e");this._currNode=me.catch=new L(De),I(De)}return H&&(this._currNode=me.finally=new J,this.code(H)),this._endBlockNode(L,J)}throw(y){return this._leafNode(new d(y))}block(y,I){return this._blockStarts.push(this._nodes.length),y&&this.code(y).endBlock(I),this}endBlock(y){const I=this._blockStarts.pop();if(I===void 0)throw new Error("CodeGen: not in self-balancing block");const H=this._nodes.length-I;if(H<0||y!==void 0&&H!==y)throw new Error(`CodeGen: wrong number of nodes: ${H} vs ${y} expected`);return this._nodes.length=I,this}func(y,I=e.nil,H,me){return this._blockNode(new _(y,I,H)),me&&this.code(me).endFunc(),this}endFunc(){return this._endBlockNode(_)}optimize(y=1){for(;y-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(y){return this._currNode.nodes.push(y),this}_blockNode(y){this._currNode.nodes.push(y),this._nodes.push(y)}_endBlockNode(y,I){const H=this._currNode;if(H instanceof y||I&&H instanceof I)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${I?`${y.kind}/${I.kind}`:y.kind}"`)}_elseNode(y){const I=this._currNode;if(!(I instanceof C))throw new Error('CodeGen: "else" without "if"');return this._currNode=I.else=y,this}get _root(){return this._nodes[0]}get _currNode(){const y=this._nodes;return y[y.length-1]}set _currNode(y){const I=this._nodes;I[I.length-1]=y}}t.CodeGen=U;function K(z,y){for(const I in y)z[I]=(z[I]||0)+(y[I]||0);return z}function oe(z,y){return y instanceof e._CodeOrName?K(z,y.names):z}function Q(z,y,I){if(z instanceof e.Name)return H(z);if(!me(z))return z;return new e._Code(z._items.reduce((De,ce)=>(ce instanceof e.Name&&(ce=H(ce)),ce instanceof e._Code?De.push(...ce._items):De.push(ce),De),[]));function H(De){const ce=I[De.str];return ce===void 0||y[De.str]!==1?De:(delete y[De.str],ce)}function me(De){return De instanceof e._Code&&De._items.some(ce=>ce instanceof e.Name&&y[ce.str]===1&&I[ce.str]!==void 0)}}function Ce(z,y){for(const I in y)z[I]=(z[I]||0)-(y[I]||0)}function X(z){return typeof z=="boolean"||typeof z=="number"||z===null?!z:(0,e._)`!${G(z)}`}t.not=X;const Ee=N(t.operators.AND);function ye(...z){return z.reduce(Ee)}t.and=ye;const we=N(t.operators.OR);function ae(...z){return z.reduce(we)}t.or=ae;function N(z){return(y,I)=>y===e.nil?I:I===e.nil?y:(0,e._)`${G(y)} ${z} ${G(I)}`}function G(z){return z instanceof e.Name?z:(0,e._)`(${z})`}})(Dt);var ht={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const e=Dt,u=Pn;function r(_){const T={};for(const R of _)T[R]=!0;return T}t.toHash=r;function n(_,T){return typeof T=="boolean"?T:Object.keys(T).length===0?!0:(a(_,T),!o(T,_.self.RULES.all))}t.alwaysValidSchema=n;function a(_,T=_.schema){const{opts:R,self:L}=_;if(!R.strictSchema||typeof T=="boolean")return;const J=L.RULES.keywords;for(const U in T)J[U]||q(_,`unknown keyword: "${U}"`)}t.checkUnknownRules=a;function o(_,T){if(typeof _=="boolean")return!_;for(const R in _)if(T[R])return!0;return!1}t.schemaHasRules=o;function s(_,T){if(typeof _=="boolean")return!_;for(const R in _)if(R!=="$ref"&&T.all[R])return!0;return!1}t.schemaHasRulesButRef=s;function i({topSchemaRef:_,schemaPath:T},R,L,J){if(!J){if(typeof R=="number"||typeof R=="boolean")return R;if(typeof R=="string")return(0,e._)`${R}`}return(0,e._)`${_}${T}${(0,e.getProperty)(L)}`}t.schemaRefOrVal=i;function l(_){return p(decodeURIComponent(_))}t.unescapeFragment=l;function c(_){return encodeURIComponent(d(_))}t.escapeFragment=c;function d(_){return typeof _=="number"?`${_}`:_.replace(/~/g,"~0").replace(/\//g,"~1")}t.escapeJsonPointer=d;function p(_){return _.replace(/~1/g,"/").replace(/~0/g,"~")}t.unescapeJsonPointer=p;function h(_,T){if(Array.isArray(_))for(const R of _)T(R);else T(_)}t.eachItem=h;function F({mergeNames:_,mergeToName:T,mergeValues:R,resultToName:L}){return(J,U,K,oe)=>{const Q=K===void 0?U:K instanceof e.Name?(U instanceof e.Name?_(J,U,K):T(J,U,K),K):U instanceof e.Name?(T(J,K,U),U):R(U,K);return oe===e.Name&&!(Q instanceof e.Name)?L(J,Q):Q}}t.mergeEvaluated={props:F({mergeNames:(_,T,R)=>_.if((0,e._)`${R} !== true && ${T} !== undefined`,()=>{_.if((0,e._)`${T} === true`,()=>_.assign(R,!0),()=>_.assign(R,(0,e._)`${R} || {}`).code((0,e._)`Object.assign(${R}, ${T})`))}),mergeToName:(_,T,R)=>_.if((0,e._)`${R} !== true`,()=>{T===!0?_.assign(R,!0):(_.assign(R,(0,e._)`${R} || {}`),A(_,R,T))}),mergeValues:(_,T)=>_===!0?!0:{..._,...T},resultToName:g}),items:F({mergeNames:(_,T,R)=>_.if((0,e._)`${R} !== true && ${T} !== undefined`,()=>_.assign(R,(0,e._)`${T} === true ? true : ${R} > ${T} ? ${R} : ${T}`)),mergeToName:(_,T,R)=>_.if((0,e._)`${R} !== true`,()=>_.assign(R,T===!0?!0:(0,e._)`${R} > ${T} ? ${R} : ${T}`)),mergeValues:(_,T)=>_===!0?!0:Math.max(_,T),resultToName:(_,T)=>_.var("items",T)})};function g(_,T){if(T===!0)return _.var("props",!0);const R=_.var("props",(0,e._)`{}`);return T!==void 0&&A(_,R,T),R}t.evaluatedPropsToName=g;function A(_,T,R){Object.keys(R).forEach(L=>_.assign((0,e._)`${T}${(0,e.getProperty)(L)}`,!0))}t.setEvaluated=A;const C={};function E(_,T){return _.scopeValue("func",{ref:T,code:C[T.code]||(C[T.code]=new u._Code(T.code))})}t.useFunc=E;var v;(function(_){_[_.Num=0]="Num",_[_.Str=1]="Str"})(v=t.Type||(t.Type={}));function S(_,T,R){if(_ instanceof e.Name){const L=T===v.Num;return R?L?(0,e._)`"[" + ${_} + "]"`:(0,e._)`"['" + ${_} + "']"`:L?(0,e._)`"/" + ${_}`:(0,e._)`"/" + ${_}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return R?(0,e.getProperty)(_).toString():"/"+d(_)}t.getErrorPath=S;function q(_,T,R=_.opts.strictSchema){if(R){if(T=`strict mode: ${T}`,R===!0)throw new Error(T);_.self.logger.warn(T)}}t.checkStrictMode=q})(ht);var xu={};Object.defineProperty(xu,"__esModule",{value:!0});const Xt=Dt,Lv={data:new Xt.Name("data"),valCxt:new Xt.Name("valCxt"),instancePath:new Xt.Name("instancePath"),parentData:new Xt.Name("parentData"),parentDataProperty:new Xt.Name("parentDataProperty"),rootData:new Xt.Name("rootData"),dynamicAnchors:new Xt.Name("dynamicAnchors"),vErrors:new Xt.Name("vErrors"),errors:new Xt.Name("errors"),this:new Xt.Name("this"),self:new Xt.Name("self"),scope:new Xt.Name("scope"),json:new Xt.Name("json"),jsonPos:new Xt.Name("jsonPos"),jsonLen:new Xt.Name("jsonLen"),jsonPart:new Xt.Name("jsonPart")};xu.default=Lv;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=Dt,u=ht,r=xu;t.keywordError={message:({keyword:A})=>(0,e.str)`must pass "${A}" keyword validation`},t.keyword$DataError={message:({keyword:A,schemaType:C})=>C?(0,e.str)`"${A}" keyword must be ${C} ($data)`:(0,e.str)`"${A}" keyword is invalid ($data)`};function n(A,C=t.keywordError,E,v){const{it:S}=A,{gen:q,compositeRule:_,allErrors:T}=S,R=d(A,C,E);v??(_||T)?i(q,R):l(S,(0,e._)`[${R}]`)}t.reportError=n;function a(A,C=t.keywordError,E){const{it:v}=A,{gen:S,compositeRule:q,allErrors:_}=v,T=d(A,C,E);i(S,T),q||_||l(v,r.default.vErrors)}t.reportExtraError=a;function o(A,C){A.assign(r.default.errors,C),A.if((0,e._)`${r.default.vErrors} !== null`,()=>A.if(C,()=>A.assign((0,e._)`${r.default.vErrors}.length`,C),()=>A.assign(r.default.vErrors,null)))}t.resetErrorsCount=o;function s({gen:A,keyword:C,schemaValue:E,data:v,errsCount:S,it:q}){if(S===void 0)throw new Error("ajv implementation error");const _=A.name("err");A.forRange("i",S,r.default.errors,T=>{A.const(_,(0,e._)`${r.default.vErrors}[${T}]`),A.if((0,e._)`${_}.instancePath === undefined`,()=>A.assign((0,e._)`${_}.instancePath`,(0,e.strConcat)(r.default.instancePath,q.errorPath))),A.assign((0,e._)`${_}.schemaPath`,(0,e.str)`${q.errSchemaPath}/${C}`),q.opts.verbose&&(A.assign((0,e._)`${_}.schema`,E),A.assign((0,e._)`${_}.data`,v))})}t.extendErrors=s;function i(A,C){const E=A.const("err",C);A.if((0,e._)`${r.default.vErrors} === null`,()=>A.assign(r.default.vErrors,(0,e._)`[${E}]`),(0,e._)`${r.default.vErrors}.push(${E})`),A.code((0,e._)`${r.default.errors}++`)}function l(A,C){const{gen:E,validateName:v,schemaEnv:S}=A;S.$async?E.throw((0,e._)`new ${A.ValidationError}(${C})`):(E.assign((0,e._)`${v}.errors`,C),E.return(!1))}const c={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function d(A,C,E){const{createErrors:v}=A.it;return v===!1?(0,e._)`{}`:p(A,C,E)}function p(A,C,E={}){const{gen:v,it:S}=A,q=[h(S,E),F(A,E)];return g(A,C,q),v.object(...q)}function h({errorPath:A},{instancePath:C}){const E=C?(0,e.str)`${A}${(0,u.getErrorPath)(C,u.Type.Str)}`:A;return[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,E)]}function F({keyword:A,it:{errSchemaPath:C}},{schemaPath:E,parentSchema:v}){let S=v?C:(0,e.str)`${C}/${A}`;return E&&(S=(0,e.str)`${S}${(0,u.getErrorPath)(E,u.Type.Str)}`),[c.schemaPath,S]}function g(A,{params:C,message:E},v){const{keyword:S,data:q,schemaValue:_,it:T}=A,{opts:R,propertyName:L,topSchemaRef:J,schemaPath:U}=T;v.push([c.keyword,S],[c.params,typeof C=="function"?C(A):C||(0,e._)`{}`]),R.messages&&v.push([c.message,typeof E=="function"?E(A):E]),R.verbose&&v.push([c.schema,_],[c.parentSchema,(0,e._)`${J}${U}`],[r.default.data,q]),L&&v.push([c.propertyName,L])}})(In);Object.defineProperty(tn,"__esModule",{value:!0});tn.boolOrEmptySchema=tn.topBoolOrEmptySchema=void 0;const Uv=In,Vv=Dt,Wv=xu,zv={message:"boolean schema is false"};function Gv(t){const{gen:e,schema:u,validateName:r}=t;u===!1?Dm(t,!1):typeof u=="object"&&u.$async===!0?e.return(Wv.default.data):(e.assign((0,Vv._)`${r}.errors`,null),e.return(!0))}tn.topBoolOrEmptySchema=Gv;function Hv(t,e){const{gen:u,schema:r}=t;r===!1?(u.var(e,!1),Dm(t)):u.var(e,!0)}tn.boolOrEmptySchema=Hv;function Dm(t,e){const{gen:u,data:r}=t,n={gen:u,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,Uv.reportError)(n,zv,void 0,e)}var On={},vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.getRules=vr.isJSONType=void 0;const Jv=["string","number","integer","boolean","null","object","array"],Zv=new Set(Jv);function Kv(t){return typeof t=="string"&&Zv.has(t)}vr.isJSONType=Kv;function Qv(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}vr.getRules=Qv;var Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});Uu.shouldUseRule=Uu.shouldUseGroup=Uu.schemaHasRulesForType=void 0;function Yv({schema:t,self:e},u){const r=e.RULES.types[u];return r&&r!==!0&&fm(t,r)}Uu.schemaHasRulesForType=Yv;function fm(t,e){return e.rules.some(u=>dm(t,u))}Uu.shouldUseGroup=fm;function dm(t,e){var u;return t[e.keyword]!==void 0||((u=e.definition.implements)===null||u===void 0?void 0:u.some(r=>t[r]!==void 0))}Uu.shouldUseRule=dm;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const e=vr,u=Uu,r=In,n=Dt,a=ht;var o;(function(v){v[v.Correct=0]="Correct",v[v.Wrong=1]="Wrong"})(o=t.DataType||(t.DataType={}));function s(v){const S=i(v.type);if(S.includes("null")){if(v.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&v.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');v.nullable===!0&&S.push("null")}return S}t.getSchemaTypes=s;function i(v){const S=Array.isArray(v)?v:v?[v]:[];if(S.every(e.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}t.getJSONTypes=i;function l(v,S){const{gen:q,data:_,opts:T}=v,R=d(S,T.coerceTypes),L=S.length>0&&!(R.length===0&&S.length===1&&(0,u.schemaHasRulesForType)(v,S[0]));if(L){const J=g(S,_,T.strictNumbers,o.Wrong);q.if(J,()=>{R.length?p(v,S,R):C(v)})}return L}t.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function d(v,S){return S?v.filter(q=>c.has(q)||S==="array"&&q==="array"):[]}function p(v,S,q){const{gen:_,data:T,opts:R}=v,L=_.let("dataType",(0,n._)`typeof ${T}`),J=_.let("coerced",(0,n._)`undefined`);R.coerceTypes==="array"&&_.if((0,n._)`${L} == 'object' && Array.isArray(${T}) && ${T}.length == 1`,()=>_.assign(T,(0,n._)`${T}[0]`).assign(L,(0,n._)`typeof ${T}`).if(g(S,T,R.strictNumbers),()=>_.assign(J,T))),_.if((0,n._)`${J} !== undefined`);for(const K of q)(c.has(K)||K==="array"&&R.coerceTypes==="array")&&U(K);_.else(),C(v),_.endIf(),_.if((0,n._)`${J} !== undefined`,()=>{_.assign(T,J),h(v,J)});function U(K){switch(K){case"string":_.elseIf((0,n._)`${L} == "number" || ${L} == "boolean"`).assign(J,(0,n._)`"" + ${T}`).elseIf((0,n._)`${T} === null`).assign(J,(0,n._)`""`);return;case"number":_.elseIf((0,n._)`${L} == "boolean" || ${T} === null
              || (${L} == "string" && ${T} && ${T} == +${T})`).assign(J,(0,n._)`+${T}`);return;case"integer":_.elseIf((0,n._)`${L} === "boolean" || ${T} === null
              || (${L} === "string" && ${T} && ${T} == +${T} && !(${T} % 1))`).assign(J,(0,n._)`+${T}`);return;case"boolean":_.elseIf((0,n._)`${T} === "false" || ${T} === 0 || ${T} === null`).assign(J,!1).elseIf((0,n._)`${T} === "true" || ${T} === 1`).assign(J,!0);return;case"null":_.elseIf((0,n._)`${T} === "" || ${T} === 0 || ${T} === false`),_.assign(J,null);return;case"array":_.elseIf((0,n._)`${L} === "string" || ${L} === "number"
              || ${L} === "boolean" || ${T} === null`).assign(J,(0,n._)`[${T}]`)}}}function h({gen:v,parentData:S,parentDataProperty:q},_){v.if((0,n._)`${S} !== undefined`,()=>v.assign((0,n._)`${S}[${q}]`,_))}function F(v,S,q,_=o.Correct){const T=_===o.Correct?n.operators.EQ:n.operators.NEQ;let R;switch(v){case"null":return(0,n._)`${S} ${T} null`;case"array":R=(0,n._)`Array.isArray(${S})`;break;case"object":R=(0,n._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":R=L((0,n._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":R=L();break;default:return(0,n._)`typeof ${S} ${T} ${v}`}return _===o.Correct?R:(0,n.not)(R);function L(J=n.nil){return(0,n.and)((0,n._)`typeof ${S} == "number"`,J,q?(0,n._)`isFinite(${S})`:n.nil)}}t.checkDataType=F;function g(v,S,q,_){if(v.length===1)return F(v[0],S,q,_);let T;const R=(0,a.toHash)(v);if(R.array&&R.object){const L=(0,n._)`typeof ${S} != "object"`;T=R.null?L:(0,n._)`!${S} || ${L}`,delete R.null,delete R.array,delete R.object}else T=n.nil;R.number&&delete R.integer;for(const L in R)T=(0,n.and)(T,F(L,S,q,_));return T}t.checkDataTypes=g;const A={message:({schema:v})=>`must be ${v}`,params:({schema:v,schemaValue:S})=>typeof v=="string"?(0,n._)`{type: ${v}}`:(0,n._)`{type: ${S}}`};function C(v){const S=E(v);(0,r.reportError)(S,A)}t.reportTypeError=C;function E(v){const{gen:S,data:q,schema:_}=v,T=(0,a.schemaRefOrVal)(v,_,"type");return{gen:S,keyword:"type",data:q,schema:_.type,schemaCode:T,schemaValue:T,parentSchema:_,params:{},it:v}}})(On);var Na={};Object.defineProperty(Na,"__esModule",{value:!0});Na.assignDefaults=void 0;const qr=Dt,Xv=ht;function ey(t,e){const{properties:u,items:r}=t.schema;if(e==="object"&&u)for(const n in u)eD(t,n,u[n].default);else e==="array"&&Array.isArray(r)&&r.forEach((n,a)=>eD(t,a,n.default))}Na.assignDefaults=ey;function eD(t,e,u){const{gen:r,compositeRule:n,data:a,opts:o}=t;if(u===void 0)return;const s=(0,qr._)`${a}${(0,qr.getProperty)(e)}`;if(n){(0,Xv.checkStrictMode)(t,`default is ignored for: ${s}`);return}let i=(0,qr._)`${s} === undefined`;o.useDefaults==="empty"&&(i=(0,qr._)`${i} || ${s} === null || ${s} === ""`),r.if(i,(0,qr._)`${s} = ${(0,qr.stringify)(u)}`)}var Iu={},lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.validateUnion=lt.validateArray=lt.usePattern=lt.callValidateCode=lt.schemaProperties=lt.allSchemaProperties=lt.noPropertyInData=lt.propertyInData=lt.isOwnProperty=lt.hasPropFunc=lt.reportMissingProp=lt.checkMissingProp=lt.checkReportMissingProp=void 0;const _t=Dt,o0=ht,Qu=xu,ty=ht;function uy(t,e){const{gen:u,data:r,it:n}=t;u.if(i0(u,r,e,n.opts.ownProperties),()=>{t.setParams({missingProperty:(0,_t._)`${e}`},!0),t.error()})}lt.checkReportMissingProp=uy;function ry({gen:t,data:e,it:{opts:u}},r,n){return(0,_t.or)(...r.map(a=>(0,_t.and)(i0(t,e,a,u.ownProperties),(0,_t._)`${n} = ${a}`)))}lt.checkMissingProp=ry;function ny(t,e){t.setParams({missingProperty:e},!0),t.error()}lt.reportMissingProp=ny;function pm(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,_t._)`Object.prototype.hasOwnProperty`})}lt.hasPropFunc=pm;function s0(t,e,u){return(0,_t._)`${pm(t)}.call(${e}, ${u})`}lt.isOwnProperty=s0;function ay(t,e,u,r){const n=(0,_t._)`${e}${(0,_t.getProperty)(u)} !== undefined`;return r?(0,_t._)`${n} && ${s0(t,e,u)}`:n}lt.propertyInData=ay;function i0(t,e,u,r){const n=(0,_t._)`${e}${(0,_t.getProperty)(u)} === undefined`;return r?(0,_t.or)(n,(0,_t.not)(s0(t,e,u))):n}lt.noPropertyInData=i0;function hm(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}lt.allSchemaProperties=hm;function oy(t,e){return hm(e).filter(u=>!(0,o0.alwaysValidSchema)(t,e[u]))}lt.schemaProperties=oy;function sy({schemaCode:t,data:e,it:{gen:u,topSchemaRef:r,schemaPath:n,errorPath:a},it:o},s,i,l){const c=l?(0,_t._)`${t}, ${e}, ${r}${n}`:e,d=[[Qu.default.instancePath,(0,_t.strConcat)(Qu.default.instancePath,a)],[Qu.default.parentData,o.parentData],[Qu.default.parentDataProperty,o.parentDataProperty],[Qu.default.rootData,Qu.default.rootData]];o.opts.dynamicRef&&d.push([Qu.default.dynamicAnchors,Qu.default.dynamicAnchors]);const p=(0,_t._)`${c}, ${u.object(...d)}`;return i!==_t.nil?(0,_t._)`${s}.call(${i}, ${p})`:(0,_t._)`${s}(${p})`}lt.callValidateCode=sy;const iy=(0,_t._)`new RegExp`;function cy({gen:t,it:{opts:e}},u){const r=e.unicodeRegExp?"u":"",{regExp:n}=e.code,a=n(u,r);return t.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,_t._)`${n.code==="new RegExp"?iy:(0,ty.useFunc)(t,n)}(${u}, ${r})`})}lt.usePattern=cy;function ly(t){const{gen:e,data:u,keyword:r,it:n}=t,a=e.name("valid");if(n.allErrors){const s=e.let("valid",!0);return o(()=>e.assign(s,!1)),s}return e.var(a,!0),o(()=>e.break()),a;function o(s){const i=e.const("len",(0,_t._)`${u}.length`);e.forRange("i",0,i,l=>{t.subschema({keyword:r,dataProp:l,dataPropType:o0.Type.Num},a),e.if((0,_t.not)(a),s)})}}lt.validateArray=ly;function Dy(t){const{gen:e,schema:u,keyword:r,it:n}=t;if(!Array.isArray(u))throw new Error("ajv implementation error");if(u.some(i=>(0,o0.alwaysValidSchema)(n,i))&&!n.opts.unevaluated)return;const o=e.let("valid",!1),s=e.name("_valid");e.block(()=>u.forEach((i,l)=>{const c=t.subschema({keyword:r,schemaProp:l,compositeRule:!0},s);e.assign(o,(0,_t._)`${o} || ${s}`),t.mergeValidEvaluated(c,s)||e.if((0,_t.not)(o))})),t.result(o,()=>t.reset(),()=>t.error(!0))}lt.validateUnion=Dy;Object.defineProperty(Iu,"__esModule",{value:!0});Iu.validateKeywordUsage=Iu.validSchemaType=Iu.funcKeywordCode=Iu.macroKeywordCode=void 0;const ru=Dt,pr=xu,fy=lt,dy=In;function py(t,e){const{gen:u,keyword:r,schema:n,parentSchema:a,it:o}=t,s=e.macro.call(o.self,n,a,o),i=Fm(u,r,s);o.opts.validateSchema!==!1&&o.self.validateSchema(s,!0);const l=u.name("valid");t.subschema({schema:s,schemaPath:ru.nil,errSchemaPath:`${o.errSchemaPath}/${r}`,topSchemaRef:i,compositeRule:!0},l),t.pass(l,()=>t.error(!0))}Iu.macroKeywordCode=py;function hy(t,e){var u;const{gen:r,keyword:n,schema:a,parentSchema:o,$data:s,it:i}=t;my(i,e);const l=!s&&e.compile?e.compile.call(i.self,a,o,i):e.validate,c=Fm(r,n,l),d=r.let("valid");t.block$data(d,p),t.ok((u=e.valid)!==null&&u!==void 0?u:d);function p(){if(e.errors===!1)g(),e.modifying&&tD(t),A(()=>t.error());else{const C=e.async?h():F();e.modifying&&tD(t),A(()=>Fy(t,C))}}function h(){const C=r.let("ruleErrs",null);return r.try(()=>g((0,ru._)`await `),E=>r.assign(d,!1).if((0,ru._)`${E} instanceof ${i.ValidationError}`,()=>r.assign(C,(0,ru._)`${E}.errors`),()=>r.throw(E))),C}function F(){const C=(0,ru._)`${c}.errors`;return r.assign(C,null),g(ru.nil),C}function g(C=e.async?(0,ru._)`await `:ru.nil){const E=i.opts.passContext?pr.default.this:pr.default.self,v=!("compile"in e&&!s||e.schema===!1);r.assign(d,(0,ru._)`${C}${(0,fy.callValidateCode)(t,c,E,v)}`,e.modifying)}function A(C){var E;r.if((0,ru.not)((E=e.valid)!==null&&E!==void 0?E:d),C)}}Iu.funcKeywordCode=hy;function tD(t){const{gen:e,data:u,it:r}=t;e.if(r.parentData,()=>e.assign(u,(0,ru._)`${r.parentData}[${r.parentDataProperty}]`))}function Fy(t,e){const{gen:u}=t;u.if((0,ru._)`Array.isArray(${e})`,()=>{u.assign(pr.default.vErrors,(0,ru._)`${pr.default.vErrors} === null ? ${e} : ${pr.default.vErrors}.concat(${e})`).assign(pr.default.errors,(0,ru._)`${pr.default.vErrors}.length`),(0,dy.extendErrors)(t)},()=>t.error())}function my({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function Fm(t,e,u){if(u===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof u=="function"?{ref:u}:{ref:u,code:(0,ru.stringify)(u)})}function Ey(t,e,u=!1){return!e.length||e.some(r=>r==="array"?Array.isArray(t):r==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==r||u&&typeof t>"u")}Iu.validSchemaType=Ey;function Cy({schema:t,opts:e,self:u,errSchemaPath:r},n,a){if(Array.isArray(n.keyword)?!n.keyword.includes(a):n.keyword!==a)throw new Error("ajv implementation error");const o=n.dependencies;if(o!=null&&o.some(s=>!Object.prototype.hasOwnProperty.call(t,s)))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(n.validateSchema&&!n.validateSchema(t[a])){const i=`keyword "${a}" value is invalid at path "${r}": `+u.errorsText(n.validateSchema.errors);if(e.validateSchema==="log")u.logger.error(i);else throw new Error(i)}}Iu.validateKeywordUsage=Cy;var ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.extendSubschemaMode=ur.extendSubschemaData=ur.getSubschema=void 0;const Tu=Dt,mm=ht;function Ay(t,{keyword:e,schemaProp:u,schema:r,schemaPath:n,errSchemaPath:a,topSchemaRef:o}){if(e!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const s=t.schema[e];return u===void 0?{schema:s,schemaPath:(0,Tu._)`${t.schemaPath}${(0,Tu.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:s[u],schemaPath:(0,Tu._)`${t.schemaPath}${(0,Tu.getProperty)(e)}${(0,Tu.getProperty)(u)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,mm.escapeFragment)(u)}`}}if(r!==void 0){if(n===void 0||a===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:n,topSchemaRef:o,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}ur.getSubschema=Ay;function vy(t,e,{dataProp:u,dataPropType:r,data:n,dataTypes:a,propertyName:o}){if(n!==void 0&&u!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:s}=e;if(u!==void 0){const{errorPath:l,dataPathArr:c,opts:d}=e,p=s.let("data",(0,Tu._)`${e.data}${(0,Tu.getProperty)(u)}`,!0);i(p),t.errorPath=(0,Tu.str)`${l}${(0,mm.getErrorPath)(u,r,d.jsPropertySyntax)}`,t.parentDataProperty=(0,Tu._)`${u}`,t.dataPathArr=[...c,t.parentDataProperty]}if(n!==void 0){const l=n instanceof Tu.Name?n:s.let("data",n,!0);i(l),o!==void 0&&(t.propertyName=o)}a&&(t.dataTypes=a);function i(l){t.data=l,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,l]}}ur.extendSubschemaData=vy;function yy(t,{jtdDiscriminator:e,jtdMetadata:u,compositeRule:r,createErrors:n,allErrors:a}){r!==void 0&&(t.compositeRule=r),n!==void 0&&(t.createErrors=n),a!==void 0&&(t.allErrors=a),t.jtdDiscriminator=e,t.jtdMetadata=u}ur.extendSubschemaMode=yy;var Qt={},Em=function t(e,u){if(e===u)return!0;if(e&&u&&typeof e=="object"&&typeof u=="object"){if(e.constructor!==u.constructor)return!1;var r,n,a;if(Array.isArray(e)){if(r=e.length,r!=u.length)return!1;for(n=r;n--!==0;)if(!t(e[n],u[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===u.source&&e.flags===u.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===u.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===u.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(u).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(u,a[n]))return!1;for(n=r;n--!==0;){var o=a[n];if(!t(e[o],u[o]))return!1}return!0}return e!==e&&u!==u},Cm={exports:{}},er=Cm.exports=function(t,e,u){typeof e=="function"&&(u=e,e={}),u=e.cb||u;var r=typeof u=="function"?u:u.pre||function(){},n=u.post||function(){};Ea(e,r,n,t,"",t)};er.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};er.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};er.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};er.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Ea(t,e,u,r,n,a,o,s,i,l){if(r&&typeof r=="object"&&!Array.isArray(r)){e(r,n,a,o,s,i,l);for(var c in r){var d=r[c];if(Array.isArray(d)){if(c in er.arrayKeywords)for(var p=0;p<d.length;p++)Ea(t,e,u,d[p],n+"/"+c+"/"+p,a,n,c,r,p)}else if(c in er.propsKeywords){if(d&&typeof d=="object")for(var h in d)Ea(t,e,u,d[h],n+"/"+c+"/"+gy(h),a,n,c,r,h)}else(c in er.keywords||t.allKeys&&!(c in er.skipKeywords))&&Ea(t,e,u,d,n+"/"+c,a,n,c,r)}u(r,n,a,o,s,i,l)}}function gy(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var by=Cm.exports;Object.defineProperty(Qt,"__esModule",{value:!0});Qt.getSchemaRefs=Qt.resolveUrl=Qt.normalizeId=Qt._getFullPath=Qt.getFullPath=Qt.inlineRef=void 0;const By=ht,_y=Em,wy=by,Sy=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function $y(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Jc(t):e?Am(t)<=e:!1}Qt.inlineRef=$y;const ky=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Jc(t){for(const e in t){if(ky.has(e))return!0;const u=t[e];if(Array.isArray(u)&&u.some(Jc)||typeof u=="object"&&Jc(u))return!0}return!1}function Am(t){let e=0;for(const u in t){if(u==="$ref")return 1/0;if(e++,!Sy.has(u)&&(typeof t[u]=="object"&&(0,By.eachItem)(t[u],r=>e+=Am(r)),e===1/0))return 1/0}return e}function vm(t,e="",u){u!==!1&&(e=Kr(e));const r=t.parse(e);return ym(t,r)}Qt.getFullPath=vm;function ym(t,e){return t.serialize(e).split("#")[0]+"#"}Qt._getFullPath=ym;const qy=/#\/?$/;function Kr(t){return t?t.replace(qy,""):""}Qt.normalizeId=Kr;function Ty(t,e,u){return u=Kr(u),t.resolve(e,u)}Qt.resolveUrl=Ty;const Py=/^[a-z_][-a-z0-9._]*$/i;function Iy(t,e){if(typeof t=="boolean")return{};const{schemaId:u,uriResolver:r}=this.opts,n=Kr(t[u]||e),a={"":n},o=vm(r,n,!1),s={},i=new Set;return wy(t,{allKeys:!0},(d,p,h,F)=>{if(F===void 0)return;const g=o+p;let A=a[F];typeof d[u]=="string"&&(A=C.call(this,d[u])),E.call(this,d.$anchor),E.call(this,d.$dynamicAnchor),a[p]=A;function C(v){const S=this.opts.uriResolver.resolve;if(v=Kr(A?S(A,v):v),i.has(v))throw c(v);i.add(v);let q=this.refs[v];return typeof q=="string"&&(q=this.refs[q]),typeof q=="object"?l(d,q.schema,v):v!==Kr(g)&&(v[0]==="#"?(l(d,s[v],v),s[v]=d):this.refs[v]=g),v}function E(v){if(typeof v=="string"){if(!Py.test(v))throw new Error(`invalid anchor "${v}"`);C.call(this,`#${v}`)}}}),s;function l(d,p,h){if(p!==void 0&&!_y(d,p))throw c(h)}function c(d){return new Error(`reference "${d}" resolves to more than one schema`)}}Qt.getSchemaRefs=Iy;Object.defineProperty(bu,"__esModule",{value:!0});bu.getData=bu.KeywordCxt=bu.validateFunctionCode=void 0;const gm=tn,uD=On,c0=Uu,ka=On,Oy=Na,gn=Iu,co=ur,Le=Dt,et=xu,Ry=Qt,Vu=ht,Fn=In;function xy(t){if(_m(t)&&(wm(t),Bm(t))){My(t);return}bm(t,()=>(0,gm.topBoolOrEmptySchema)(t))}bu.validateFunctionCode=xy;function bm({gen:t,validateName:e,schema:u,schemaEnv:r,opts:n},a){n.code.es5?t.func(e,(0,Le._)`${et.default.data}, ${et.default.valCxt}`,r.$async,()=>{t.code((0,Le._)`"use strict"; ${rD(u,n)}`),Ny(t,n),t.code(a)}):t.func(e,(0,Le._)`${et.default.data}, ${jy(n)}`,r.$async,()=>t.code(rD(u,n)).code(a))}function jy(t){return(0,Le._)`{${et.default.instancePath}="", ${et.default.parentData}, ${et.default.parentDataProperty}, ${et.default.rootData}=${et.default.data}${t.dynamicRef?(0,Le._)`, ${et.default.dynamicAnchors}={}`:Le.nil}}={}`}function Ny(t,e){t.if(et.default.valCxt,()=>{t.var(et.default.instancePath,(0,Le._)`${et.default.valCxt}.${et.default.instancePath}`),t.var(et.default.parentData,(0,Le._)`${et.default.valCxt}.${et.default.parentData}`),t.var(et.default.parentDataProperty,(0,Le._)`${et.default.valCxt}.${et.default.parentDataProperty}`),t.var(et.default.rootData,(0,Le._)`${et.default.valCxt}.${et.default.rootData}`),e.dynamicRef&&t.var(et.default.dynamicAnchors,(0,Le._)`${et.default.valCxt}.${et.default.dynamicAnchors}`)},()=>{t.var(et.default.instancePath,(0,Le._)`""`),t.var(et.default.parentData,(0,Le._)`undefined`),t.var(et.default.parentDataProperty,(0,Le._)`undefined`),t.var(et.default.rootData,et.default.data),e.dynamicRef&&t.var(et.default.dynamicAnchors,(0,Le._)`{}`)})}function My(t){const{schema:e,opts:u,gen:r}=t;bm(t,()=>{u.$comment&&e.$comment&&$m(t),zy(t),r.let(et.default.vErrors,null),r.let(et.default.errors,0),u.unevaluated&&Ly(t),Sm(t),Jy(t)})}function Ly(t){const{gen:e,validateName:u}=t;t.evaluated=e.const("evaluated",(0,Le._)`${u}.evaluated`),e.if((0,Le._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,Le._)`${t.evaluated}.props`,(0,Le._)`undefined`)),e.if((0,Le._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,Le._)`${t.evaluated}.items`,(0,Le._)`undefined`))}function rD(t,e){const u=typeof t=="object"&&t[e.schemaId];return u&&(e.code.source||e.code.process)?(0,Le._)`/*# sourceURL=${u} */`:Le.nil}function Uy(t,e){if(_m(t)&&(wm(t),Bm(t))){Vy(t,e);return}(0,gm.boolOrEmptySchema)(t,e)}function Bm({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const u in t)if(e.RULES.all[u])return!0;return!1}function _m(t){return typeof t.schema!="boolean"}function Vy(t,e){const{schema:u,gen:r,opts:n}=t;n.$comment&&u.$comment&&$m(t),Gy(t),Hy(t);const a=r.const("_errs",et.default.errors);Sm(t,a),r.var(e,(0,Le._)`${a} === ${et.default.errors}`)}function wm(t){(0,Vu.checkUnknownRules)(t),Wy(t)}function Sm(t,e){if(t.opts.jtd)return nD(t,[],!1,e);const u=(0,uD.getSchemaTypes)(t.schema),r=(0,uD.coerceAndCheckDataType)(t,u);nD(t,u,!r,e)}function Wy(t){const{schema:e,errSchemaPath:u,opts:r,self:n}=t;e.$ref&&r.ignoreKeywordsWithRef&&(0,Vu.schemaHasRulesButRef)(e,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${u}"`)}function zy(t){const{schema:e,opts:u}=t;e.default!==void 0&&u.useDefaults&&u.strictSchema&&(0,Vu.checkStrictMode)(t,"default is ignored in the schema root")}function Gy(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,Ry.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function Hy(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function $m({gen:t,schemaEnv:e,schema:u,errSchemaPath:r,opts:n}){const a=u.$comment;if(n.$comment===!0)t.code((0,Le._)`${et.default.self}.logger.log(${a})`);else if(typeof n.$comment=="function"){const o=(0,Le.str)`${r}/$comment`,s=t.scopeValue("root",{ref:e.root});t.code((0,Le._)`${et.default.self}.opts.$comment(${a}, ${o}, ${s}.schema)`)}}function Jy(t){const{gen:e,schemaEnv:u,validateName:r,ValidationError:n,opts:a}=t;u.$async?e.if((0,Le._)`${et.default.errors} === 0`,()=>e.return(et.default.data),()=>e.throw((0,Le._)`new ${n}(${et.default.vErrors})`)):(e.assign((0,Le._)`${r}.errors`,et.default.vErrors),a.unevaluated&&Zy(t),e.return((0,Le._)`${et.default.errors} === 0`))}function Zy({gen:t,evaluated:e,props:u,items:r}){u instanceof Le.Name&&t.assign((0,Le._)`${e}.props`,u),r instanceof Le.Name&&t.assign((0,Le._)`${e}.items`,r)}function nD(t,e,u,r){const{gen:n,schema:a,data:o,allErrors:s,opts:i,self:l}=t,{RULES:c}=l;if(a.$ref&&(i.ignoreKeywordsWithRef||!(0,Vu.schemaHasRulesButRef)(a,c))){n.block(()=>Tm(t,"$ref",c.all.$ref.definition));return}i.jtd||Ky(t,e),n.block(()=>{for(const p of c.rules)d(p);d(c.post)});function d(p){(0,c0.shouldUseGroup)(a,p)&&(p.type?(n.if((0,ka.checkDataType)(p.type,o,i.strictNumbers)),aD(t,p),e.length===1&&e[0]===p.type&&u&&(n.else(),(0,ka.reportTypeError)(t)),n.endIf()):aD(t,p),s||n.if((0,Le._)`${et.default.errors} === ${r||0}`))}}function aD(t,e){const{gen:u,schema:r,opts:{useDefaults:n}}=t;n&&(0,Oy.assignDefaults)(t,e.type),u.block(()=>{for(const a of e.rules)(0,c0.shouldUseRule)(r,a)&&Tm(t,a.keyword,a.definition,e.type)})}function Ky(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(Qy(t,e),t.opts.allowUnionTypes||Yy(t,e),Xy(t,t.dataTypes))}function Qy(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(u=>{km(t.dataTypes,u)||l0(t,`type "${u}" not allowed by context "${t.dataTypes.join(",")}"`)}),tg(t,e)}}function Yy(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&l0(t,"use allowUnionTypes to allow union type keyword")}function Xy(t,e){const u=t.self.RULES.all;for(const r in u){const n=u[r];if(typeof n=="object"&&(0,c0.shouldUseRule)(t.schema,n)){const{type:a}=n.definition;a.length&&!a.some(o=>eg(e,o))&&l0(t,`missing type "${a.join(",")}" for keyword "${r}"`)}}}function eg(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function km(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function tg(t,e){const u=[];for(const r of t.dataTypes)km(e,r)?u.push(r):e.includes("integer")&&r==="number"&&u.push("integer");t.dataTypes=u}function l0(t,e){const u=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${u}" (strictTypes)`,(0,Vu.checkStrictMode)(t,e,t.opts.strictTypes)}class qm{constructor(e,u,r){if((0,gn.validateKeywordUsage)(e,u,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=u.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Vu.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=u.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=u,this.$data)this.schemaCode=e.gen.const("vSchema",Pm(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,gn.validSchemaType)(this.schema,u.schemaType,u.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(u.schemaType)}`);("code"in u?u.trackErrors:u.errors!==!1)&&(this.errsCount=e.gen.const("_errs",et.default.errors))}result(e,u,r){this.failResult((0,Le.not)(e),u,r)}failResult(e,u,r){this.gen.if(e),r?r():this.error(),u?(this.gen.else(),u(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,u){this.failResult((0,Le.not)(e),void 0,u)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:u}=this;this.fail((0,Le._)`${u} !== undefined && (${(0,Le.or)(this.invalid$data(),e)})`)}error(e,u,r){if(u){this.setParams(u),this._error(e,r),this.setParams({});return}this._error(e,r)}_error(e,u){(e?Fn.reportExtraError:Fn.reportError)(this,this.def.error,u)}$dataError(){(0,Fn.reportError)(this,this.def.$dataError||Fn.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Fn.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,u){u?Object.assign(this.params,e):this.params=e}block$data(e,u,r=Le.nil){this.gen.block(()=>{this.check$data(e,r),u()})}check$data(e=Le.nil,u=Le.nil){if(!this.$data)return;const{gen:r,schemaCode:n,schemaType:a,def:o}=this;r.if((0,Le.or)((0,Le._)`${n} === undefined`,u)),e!==Le.nil&&r.assign(e,!0),(a.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==Le.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:u,schemaType:r,def:n,it:a}=this;return(0,Le.or)(o(),s());function o(){if(r.length){if(!(u instanceof Le.Name))throw new Error("ajv implementation error");const i=Array.isArray(r)?r:[r];return(0,Le._)`${(0,ka.checkDataTypes)(i,u,a.opts.strictNumbers,ka.DataType.Wrong)}`}return Le.nil}function s(){if(n.validateSchema){const i=e.scopeValue("validate$data",{ref:n.validateSchema});return(0,Le._)`!${i}(${u})`}return Le.nil}}subschema(e,u){const r=(0,co.getSubschema)(this.it,e);(0,co.extendSubschemaData)(r,this.it,e),(0,co.extendSubschemaMode)(r,e);const n={...this.it,...r,items:void 0,props:void 0};return Uy(n,u),n}mergeEvaluated(e,u){const{it:r,gen:n}=this;r.opts.unevaluated&&(r.props!==!0&&e.props!==void 0&&(r.props=Vu.mergeEvaluated.props(n,e.props,r.props,u)),r.items!==!0&&e.items!==void 0&&(r.items=Vu.mergeEvaluated.items(n,e.items,r.items,u)))}mergeValidEvaluated(e,u){const{it:r,gen:n}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return n.if(u,()=>this.mergeEvaluated(e,Le.Name)),!0}}bu.KeywordCxt=qm;function Tm(t,e,u,r){const n=new qm(t,u,e);"code"in u?u.code(n,r):n.$data&&u.validate?(0,gn.funcKeywordCode)(n,u):"macro"in u?(0,gn.macroKeywordCode)(n,u):(u.compile||u.validate)&&(0,gn.funcKeywordCode)(n,u)}const ug=/^\/(?:[^~]|~0|~1)*$/,rg=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Pm(t,{dataLevel:e,dataNames:u,dataPathArr:r}){let n,a;if(t==="")return et.default.rootData;if(t[0]==="/"){if(!ug.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);n=t,a=et.default.rootData}else{const l=rg.exec(t);if(!l)throw new Error(`Invalid JSON-pointer: ${t}`);const c=+l[1];if(n=l[2],n==="#"){if(c>=e)throw new Error(i("property/index",c));return r[e-c]}if(c>e)throw new Error(i("data",c));if(a=u[e-c],!n)return a}let o=a;const s=n.split("/");for(const l of s)l&&(a=(0,Le._)`${a}${(0,Le.getProperty)((0,Vu.unescapeJsonPointer)(l))}`,o=(0,Le._)`${o} && ${a}`);return o;function i(l,c){return`Cannot access ${l} ${c} levels up, current level is ${e}`}}bu.getData=Pm;var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});class ng extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}Rn.default=ng;var xn={};Object.defineProperty(xn,"__esModule",{value:!0});const lo=Qt;class ag extends Error{constructor(e,u,r,n){super(n||`can't resolve reference ${r} from id ${u}`),this.missingRef=(0,lo.resolveUrl)(e,u,r),this.missingSchema=(0,lo.normalizeId)((0,lo.getFullPath)(e,this.missingRef))}}xn.default=ag;var su={};Object.defineProperty(su,"__esModule",{value:!0});su.resolveSchema=su.getCompilingSchema=su.resolveRef=su.compileSchema=su.SchemaEnv=void 0;const Au=Dt,og=Rn,fr=xu,yu=Qt,oD=ht,sg=bu;class Ma{constructor(e){var u;this.refs={},this.dynamicAnchors={};let r;typeof e.schema=="object"&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(u=e.baseId)!==null&&u!==void 0?u:(0,yu.normalizeId)(r==null?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}su.SchemaEnv=Ma;function D0(t){const e=Im.call(this,t);if(e)return e;const u=(0,yu.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:r,lines:n}=this.opts.code,{ownProperties:a}=this.opts,o=new Au.CodeGen(this.scope,{es5:r,lines:n,ownProperties:a});let s;t.$async&&(s=o.scopeValue("Error",{ref:og.default,code:(0,Au._)`require("ajv/dist/runtime/validation_error").default`}));const i=o.scopeName("validate");t.validateName=i;const l={gen:o,allErrors:this.opts.allErrors,data:fr.default.data,parentData:fr.default.parentData,parentDataProperty:fr.default.parentDataProperty,dataNames:[fr.default.data],dataPathArr:[Au.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Au.stringify)(t.schema)}:{ref:t.schema}),validateName:i,ValidationError:s,schema:t.schema,schemaEnv:t,rootId:u,baseId:t.baseId||u,schemaPath:Au.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Au._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(t),(0,sg.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const d=o.toString();c=`${o.scopeRefs(fr.default.scope)}return ${d}`,this.opts.code.process&&(c=this.opts.code.process(c,t));const h=new Function(`${fr.default.self}`,`${fr.default.scope}`,c)(this,this.scope.get());if(this.scope.value(i,{ref:h}),h.errors=null,h.schema=t.schema,h.schemaEnv=t,t.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:i,validateCode:d,scopeValues:o._values}),this.opts.unevaluated){const{props:F,items:g}=l;h.evaluated={props:F instanceof Au.Name?void 0:F,items:g instanceof Au.Name?void 0:g,dynamicProps:F instanceof Au.Name,dynamicItems:g instanceof Au.Name},h.source&&(h.source.evaluated=(0,Au.stringify)(h.evaluated))}return t.validate=h,t}catch(d){throw delete t.validate,delete t.validateName,c&&this.logger.error("Error compiling schema, function code:",c),d}finally{this._compilations.delete(t)}}su.compileSchema=D0;function ig(t,e,u){var r;u=(0,yu.resolveUrl)(this.opts.uriResolver,e,u);const n=t.refs[u];if(n)return n;let a=Dg.call(this,t,u);if(a===void 0){const o=(r=t.localRefs)===null||r===void 0?void 0:r[u],{schemaId:s}=this.opts;o&&(a=new Ma({schema:o,schemaId:s,root:t,baseId:e}))}if(a!==void 0)return t.refs[u]=cg.call(this,a)}su.resolveRef=ig;function cg(t){return(0,yu.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:D0.call(this,t)}function Im(t){for(const e of this._compilations)if(lg(e,t))return e}su.getCompilingSchema=Im;function lg(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function Dg(t,e){let u;for(;typeof(u=this.refs[e])=="string";)e=u;return u||this.schemas[e]||La.call(this,t,e)}function La(t,e){const u=this.opts.uriResolver.parse(e),r=(0,yu._getFullPath)(this.opts.uriResolver,u);let n=(0,yu.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&r===n)return Do.call(this,u,t);const a=(0,yu.normalizeId)(r),o=this.refs[a]||this.schemas[a];if(typeof o=="string"){const s=La.call(this,t,o);return typeof(s==null?void 0:s.schema)!="object"?void 0:Do.call(this,u,s)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||D0.call(this,o),a===(0,yu.normalizeId)(e)){const{schema:s}=o,{schemaId:i}=this.opts,l=s[i];return l&&(n=(0,yu.resolveUrl)(this.opts.uriResolver,n,l)),new Ma({schema:s,schemaId:i,root:t,baseId:n})}return Do.call(this,u,o)}}su.resolveSchema=La;const fg=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Do(t,{baseId:e,schema:u,root:r}){var n;if(((n=t.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(const s of t.fragment.slice(1).split("/")){if(typeof u=="boolean")return;const i=u[(0,oD.unescapeFragment)(s)];if(i===void 0)return;u=i;const l=typeof u=="object"&&u[this.opts.schemaId];!fg.has(s)&&l&&(e=(0,yu.resolveUrl)(this.opts.uriResolver,e,l))}let a;if(typeof u!="boolean"&&u.$ref&&!(0,oD.schemaHasRulesButRef)(u,this.RULES)){const s=(0,yu.resolveUrl)(this.opts.uriResolver,e,u.$ref);a=La.call(this,r,s)}const{schemaId:o}=this.opts;if(a=a||new Ma({schema:u,schemaId:o,root:r,baseId:e}),a.schema!==a.root.schema)return a}const dg="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",pg="Meta-schema for $data reference (JSON AnySchema extension proposal)",hg="object",Fg=["$data"],mg={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Eg=!1,Cg={$id:dg,description:pg,type:hg,required:Fg,properties:mg,additionalProperties:Eg};var f0={},Zc={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(u,r){r(e)})(Zr,function(u){function r(){for(var j=arguments.length,k=Array(j),W=0;W<j;W++)k[W]=arguments[W];if(k.length>1){k[0]=k[0].slice(0,-1);for(var ee=k.length-1,te=1;te<ee;++te)k[te]=k[te].slice(1,-1);return k[ee]=k[ee].slice(1),k.join("")}else return k[0]}function n(j){return"(?:"+j+")"}function a(j){return j===void 0?"undefined":j===null?"null":Object.prototype.toString.call(j).split(" ").pop().split("]").shift().toLowerCase()}function o(j){return j.toUpperCase()}function s(j){return j!=null?j instanceof Array?j:typeof j.length!="number"||j.split||j.setInterval||j.call?[j]:Array.prototype.slice.call(j):[]}function i(j,k){var W=j;if(k)for(var ee in k)W[ee]=k[ee];return W}function l(j){var k="[A-Za-z]",W="[0-9]",ee=r(W,"[A-Fa-f]"),te=n(n("%[EFef]"+ee+"%"+ee+ee+"%"+ee+ee)+"|"+n("%[89A-Fa-f]"+ee+"%"+ee+ee)+"|"+n("%"+ee+ee)),Me="[\\:\\/\\?\\#\\[\\]\\@]",Ue="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",pt=r(Me,Ue),vt=j?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",$t=j?"[\\uE000-\\uF8FF]":"[]",at=r(k,W,"[\\-\\.\\_\\~]",vt);n(k+r(k,W,"[\\+\\-\\.]")+"*"),n(n(te+"|"+r(at,Ue,"[\\:]"))+"*");var pe=n(n("25[0-5]")+"|"+n("2[0-4]"+W)+"|"+n("1"+W+W)+"|"+n("0?[1-9]"+W)+"|0?0?"+W),P=n(pe+"\\."+pe+"\\."+pe+"\\."+pe),re=n(ee+"{1,4}"),Be=n(n(re+"\\:"+re)+"|"+P),Pe=n(n(re+"\\:")+"{6}"+Be),Oe=n("\\:\\:"+n(re+"\\:")+"{5}"+Be),mt=n(n(re)+"?\\:\\:"+n(re+"\\:")+"{4}"+Be),Ct=n(n(n(re+"\\:")+"{0,1}"+re)+"?\\:\\:"+n(re+"\\:")+"{3}"+Be),qt=n(n(n(re+"\\:")+"{0,2}"+re)+"?\\:\\:"+n(re+"\\:")+"{2}"+Be),wu=n(n(n(re+"\\:")+"{0,3}"+re)+"?\\:\\:"+re+"\\:"+Be),du=n(n(n(re+"\\:")+"{0,4}"+re)+"?\\:\\:"+Be),pu=n(n(n(re+"\\:")+"{0,5}"+re)+"?\\:\\:"+re),Su=n(n(n(re+"\\:")+"{0,6}"+re)+"?\\:\\:"),Dr=n([Pe,Oe,mt,Ct,qt,wu,du,pu,Su].join("|")),Mu=n(n(at+"|"+te)+"+");n("[vV]"+ee+"+\\."+r(at,Ue,"[\\:]")+"+"),n(n(te+"|"+r(at,Ue))+"*");var pn=n(te+"|"+r(at,Ue,"[\\:\\@]"));return n(n(te+"|"+r(at,Ue,"[\\@]"))+"+"),n(n(pn+"|"+r("[\\/\\?]",$t))+"*"),{NOT_SCHEME:new RegExp(r("[^]",k,W,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",at,Ue),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",at,Ue),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",at,Ue),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",at,Ue),"g"),NOT_QUERY:new RegExp(r("[^\\%]",at,Ue,"[\\:\\@\\/\\?]",$t),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",at,Ue,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",at,Ue),"g"),UNRESERVED:new RegExp(at,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",at,pt),"g"),PCT_ENCODED:new RegExp(te,"g"),IPV4ADDRESS:new RegExp("^("+P+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Dr+")"+n(n("\\%25|\\%(?!"+ee+"{2})")+"("+Mu+")")+"?\\]?$")}}var c=l(!1),d=l(!0),p=function(){function j(k,W){var ee=[],te=!0,Me=!1,Ue=void 0;try{for(var pt=k[Symbol.iterator](),vt;!(te=(vt=pt.next()).done)&&(ee.push(vt.value),!(W&&ee.length===W));te=!0);}catch($t){Me=!0,Ue=$t}finally{try{!te&&pt.return&&pt.return()}finally{if(Me)throw Ue}}return ee}return function(k,W){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return j(k,W);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(j){if(Array.isArray(j)){for(var k=0,W=Array(j.length);k<j.length;k++)W[k]=j[k];return W}else return Array.from(j)},F=2147483647,g=36,A=1,C=26,E=38,v=700,S=72,q=128,_="-",T=/^xn--/,R=/[^\0-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,J={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},U=g-A,K=Math.floor,oe=String.fromCharCode;function Q(j){throw new RangeError(J[j])}function Ce(j,k){for(var W=[],ee=j.length;ee--;)W[ee]=k(j[ee]);return W}function X(j,k){var W=j.split("@"),ee="";W.length>1&&(ee=W[0]+"@",j=W[1]),j=j.replace(L,".");var te=j.split("."),Me=Ce(te,k).join(".");return ee+Me}function Ee(j){for(var k=[],W=0,ee=j.length;W<ee;){var te=j.charCodeAt(W++);if(te>=55296&&te<=56319&&W<ee){var Me=j.charCodeAt(W++);(Me&64512)==56320?k.push(((te&1023)<<10)+(Me&1023)+65536):(k.push(te),W--)}else k.push(te)}return k}var ye=function(k){return String.fromCodePoint.apply(String,h(k))},we=function(k){return k-48<10?k-22:k-65<26?k-65:k-97<26?k-97:g},ae=function(k,W){return k+22+75*(k<26)-((W!=0)<<5)},N=function(k,W,ee){var te=0;for(k=ee?K(k/v):k>>1,k+=K(k/W);k>U*C>>1;te+=g)k=K(k/U);return K(te+(U+1)*k/(k+E))},G=function(k){var W=[],ee=k.length,te=0,Me=q,Ue=S,pt=k.lastIndexOf(_);pt<0&&(pt=0);for(var vt=0;vt<pt;++vt)k.charCodeAt(vt)>=128&&Q("not-basic"),W.push(k.charCodeAt(vt));for(var $t=pt>0?pt+1:0;$t<ee;){for(var at=te,pe=1,P=g;;P+=g){$t>=ee&&Q("invalid-input");var re=we(k.charCodeAt($t++));(re>=g||re>K((F-te)/pe))&&Q("overflow"),te+=re*pe;var Be=P<=Ue?A:P>=Ue+C?C:P-Ue;if(re<Be)break;var Pe=g-Be;pe>K(F/Pe)&&Q("overflow"),pe*=Pe}var Oe=W.length+1;Ue=N(te-at,Oe,at==0),K(te/Oe)>F-Me&&Q("overflow"),Me+=K(te/Oe),te%=Oe,W.splice(te++,0,Me)}return String.fromCodePoint.apply(String,W)},z=function(k){var W=[];k=Ee(k);var ee=k.length,te=q,Me=0,Ue=S,pt=!0,vt=!1,$t=void 0;try{for(var at=k[Symbol.iterator](),pe;!(pt=(pe=at.next()).done);pt=!0){var P=pe.value;P<128&&W.push(oe(P))}}catch(hn){vt=!0,$t=hn}finally{try{!pt&&at.return&&at.return()}finally{if(vt)throw $t}}var re=W.length,Be=re;for(re&&W.push(_);Be<ee;){var Pe=F,Oe=!0,mt=!1,Ct=void 0;try{for(var qt=k[Symbol.iterator](),wu;!(Oe=(wu=qt.next()).done);Oe=!0){var du=wu.value;du>=te&&du<Pe&&(Pe=du)}}catch(hn){mt=!0,Ct=hn}finally{try{!Oe&&qt.return&&qt.return()}finally{if(mt)throw Ct}}var pu=Be+1;Pe-te>K((F-Me)/pu)&&Q("overflow"),Me+=(Pe-te)*pu,te=Pe;var Su=!0,Dr=!1,Mu=void 0;try{for(var pn=k[Symbol.iterator](),fl;!(Su=(fl=pn.next()).done);Su=!0){var dl=fl.value;if(dl<te&&++Me>F&&Q("overflow"),dl==te){for(var Zn=Me,Kn=g;;Kn+=g){var Qn=Kn<=Ue?A:Kn>=Ue+C?C:Kn-Ue;if(Zn<Qn)break;var pl=Zn-Qn,hl=g-Qn;W.push(oe(ae(Qn+pl%hl,0))),Zn=K(pl/hl)}W.push(oe(ae(Zn,0))),Ue=N(Me,pu,Be==re),Me=0,++Be}}}catch(hn){Dr=!0,Mu=hn}finally{try{!Su&&pn.return&&pn.return()}finally{if(Dr)throw Mu}}++Me,++te}return W.join("")},y=function(k){return X(k,function(W){return T.test(W)?G(W.slice(4).toLowerCase()):W})},I=function(k){return X(k,function(W){return R.test(W)?"xn--"+z(W):W})},H={version:"2.1.0",ucs2:{decode:Ee,encode:ye},decode:G,encode:z,toASCII:I,toUnicode:y},me={};function De(j){var k=j.charCodeAt(0),W=void 0;return k<16?W="%0"+k.toString(16).toUpperCase():k<128?W="%"+k.toString(16).toUpperCase():k<2048?W="%"+(k>>6|192).toString(16).toUpperCase()+"%"+(k&63|128).toString(16).toUpperCase():W="%"+(k>>12|224).toString(16).toUpperCase()+"%"+(k>>6&63|128).toString(16).toUpperCase()+"%"+(k&63|128).toString(16).toUpperCase(),W}function ce(j){for(var k="",W=0,ee=j.length;W<ee;){var te=parseInt(j.substr(W+1,2),16);if(te<128)k+=String.fromCharCode(te),W+=3;else if(te>=194&&te<224){if(ee-W>=6){var Me=parseInt(j.substr(W+4,2),16);k+=String.fromCharCode((te&31)<<6|Me&63)}else k+=j.substr(W,6);W+=6}else if(te>=224){if(ee-W>=9){var Ue=parseInt(j.substr(W+4,2),16),pt=parseInt(j.substr(W+7,2),16);k+=String.fromCharCode((te&15)<<12|(Ue&63)<<6|pt&63)}else k+=j.substr(W,9);W+=9}else k+=j.substr(W,3),W+=3}return k}function Se(j,k){function W(ee){var te=ce(ee);return te.match(k.UNRESERVED)?te:ee}return j.scheme&&(j.scheme=String(j.scheme).replace(k.PCT_ENCODED,W).toLowerCase().replace(k.NOT_SCHEME,"")),j.userinfo!==void 0&&(j.userinfo=String(j.userinfo).replace(k.PCT_ENCODED,W).replace(k.NOT_USERINFO,De).replace(k.PCT_ENCODED,o)),j.host!==void 0&&(j.host=String(j.host).replace(k.PCT_ENCODED,W).toLowerCase().replace(k.NOT_HOST,De).replace(k.PCT_ENCODED,o)),j.path!==void 0&&(j.path=String(j.path).replace(k.PCT_ENCODED,W).replace(j.scheme?k.NOT_PATH:k.NOT_PATH_NOSCHEME,De).replace(k.PCT_ENCODED,o)),j.query!==void 0&&(j.query=String(j.query).replace(k.PCT_ENCODED,W).replace(k.NOT_QUERY,De).replace(k.PCT_ENCODED,o)),j.fragment!==void 0&&(j.fragment=String(j.fragment).replace(k.PCT_ENCODED,W).replace(k.NOT_FRAGMENT,De).replace(k.PCT_ENCODED,o)),j}function Re(j){return j.replace(/^0*(.*)/,"$1")||"0"}function ct(j,k){var W=j.match(k.IPV4ADDRESS)||[],ee=p(W,2),te=ee[1];return te?te.split(".").map(Re).join("."):j}function Xe(j,k){var W=j.match(k.IPV6ADDRESS)||[],ee=p(W,3),te=ee[1],Me=ee[2];if(te){for(var Ue=te.toLowerCase().split("::").reverse(),pt=p(Ue,2),vt=pt[0],$t=pt[1],at=$t?$t.split(":").map(Re):[],pe=vt.split(":").map(Re),P=k.IPV4ADDRESS.test(pe[pe.length-1]),re=P?7:8,Be=pe.length-re,Pe=Array(re),Oe=0;Oe<re;++Oe)Pe[Oe]=at[Oe]||pe[Be+Oe]||"";P&&(Pe[re-1]=ct(Pe[re-1],k));var mt=Pe.reduce(function(pu,Su,Dr){if(!Su||Su==="0"){var Mu=pu[pu.length-1];Mu&&Mu.index+Mu.length===Dr?Mu.length++:pu.push({index:Dr,length:1})}return pu},[]),Ct=mt.sort(function(pu,Su){return Su.length-pu.length})[0],qt=void 0;if(Ct&&Ct.length>1){var wu=Pe.slice(0,Ct.index),du=Pe.slice(Ct.index+Ct.length);qt=wu.join(":")+"::"+du.join(":")}else qt=Pe.join(":");return Me&&(qt+="%"+Me),qt}else return j}var rt=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,At="".match(/(){0}/)[1]===void 0;function ft(j){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W={},ee=k.iri!==!1?d:c;k.reference==="suffix"&&(j=(k.scheme?k.scheme+":":"")+"//"+j);var te=j.match(rt);if(te){At?(W.scheme=te[1],W.userinfo=te[3],W.host=te[4],W.port=parseInt(te[5],10),W.path=te[6]||"",W.query=te[7],W.fragment=te[8],isNaN(W.port)&&(W.port=te[5])):(W.scheme=te[1]||void 0,W.userinfo=j.indexOf("@")!==-1?te[3]:void 0,W.host=j.indexOf("//")!==-1?te[4]:void 0,W.port=parseInt(te[5],10),W.path=te[6]||"",W.query=j.indexOf("?")!==-1?te[7]:void 0,W.fragment=j.indexOf("#")!==-1?te[8]:void 0,isNaN(W.port)&&(W.port=j.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?te[4]:void 0)),W.host&&(W.host=Xe(ct(W.host,ee),ee)),W.scheme===void 0&&W.userinfo===void 0&&W.host===void 0&&W.port===void 0&&!W.path&&W.query===void 0?W.reference="same-document":W.scheme===void 0?W.reference="relative":W.fragment===void 0?W.reference="absolute":W.reference="uri",k.reference&&k.reference!=="suffix"&&k.reference!==W.reference&&(W.error=W.error||"URI is not a "+k.reference+" reference.");var Me=me[(k.scheme||W.scheme||"").toLowerCase()];if(!k.unicodeSupport&&(!Me||!Me.unicodeSupport)){if(W.host&&(k.domainHost||Me&&Me.domainHost))try{W.host=H.toASCII(W.host.replace(ee.PCT_ENCODED,ce).toLowerCase())}catch(Ue){W.error=W.error||"Host's domain name can not be converted to ASCII via punycode: "+Ue}Se(W,c)}else Se(W,ee);Me&&Me.parse&&Me.parse(W,k)}else W.error=W.error||"URI can not be parsed.";return W}function dt(j,k){var W=k.iri!==!1?d:c,ee=[];return j.userinfo!==void 0&&(ee.push(j.userinfo),ee.push("@")),j.host!==void 0&&ee.push(Xe(ct(String(j.host),W),W).replace(W.IPV6ADDRESS,function(te,Me,Ue){return"["+Me+(Ue?"%25"+Ue:"")+"]"})),(typeof j.port=="number"||typeof j.port=="string")&&(ee.push(":"),ee.push(String(j.port))),ee.length?ee.join(""):void 0}var wt=/^\.\.?\//,nt=/^\/\.(\/|$)/,tt=/^\/\.\.(\/|$)/,kt=/^\/?(?:.|\n)*?(?=\/|$)/;function ie(j){for(var k=[];j.length;)if(j.match(wt))j=j.replace(wt,"");else if(j.match(nt))j=j.replace(nt,"/");else if(j.match(tt))j=j.replace(tt,"/"),k.pop();else if(j==="."||j==="..")j="";else{var W=j.match(kt);if(W){var ee=W[0];j=j.slice(ee.length),k.push(ee)}else throw new Error("Unexpected dot segment condition")}return k.join("")}function Ft(j){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=k.iri?d:c,ee=[],te=me[(k.scheme||j.scheme||"").toLowerCase()];if(te&&te.serialize&&te.serialize(j,k),j.host&&!W.IPV6ADDRESS.test(j.host)){if(k.domainHost||te&&te.domainHost)try{j.host=k.iri?H.toUnicode(j.host):H.toASCII(j.host.replace(W.PCT_ENCODED,ce).toLowerCase())}catch(pt){j.error=j.error||"Host's domain name can not be converted to "+(k.iri?"Unicode":"ASCII")+" via punycode: "+pt}}Se(j,W),k.reference!=="suffix"&&j.scheme&&(ee.push(j.scheme),ee.push(":"));var Me=dt(j,k);if(Me!==void 0&&(k.reference!=="suffix"&&ee.push("//"),ee.push(Me),j.path&&j.path.charAt(0)!=="/"&&ee.push("/")),j.path!==void 0){var Ue=j.path;!k.absolutePath&&(!te||!te.absolutePath)&&(Ue=ie(Ue)),Me===void 0&&(Ue=Ue.replace(/^\/\//,"/%2F")),ee.push(Ue)}return j.query!==void 0&&(ee.push("?"),ee.push(j.query)),j.fragment!==void 0&&(ee.push("#"),ee.push(j.fragment)),ee.join("")}function x(j,k){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ee=arguments[3],te={};return ee||(j=ft(Ft(j,W),W),k=ft(Ft(k,W),W)),W=W||{},!W.tolerant&&k.scheme?(te.scheme=k.scheme,te.userinfo=k.userinfo,te.host=k.host,te.port=k.port,te.path=ie(k.path||""),te.query=k.query):(k.userinfo!==void 0||k.host!==void 0||k.port!==void 0?(te.userinfo=k.userinfo,te.host=k.host,te.port=k.port,te.path=ie(k.path||""),te.query=k.query):(k.path?(k.path.charAt(0)==="/"?te.path=ie(k.path):((j.userinfo!==void 0||j.host!==void 0||j.port!==void 0)&&!j.path?te.path="/"+k.path:j.path?te.path=j.path.slice(0,j.path.lastIndexOf("/")+1)+k.path:te.path=k.path,te.path=ie(te.path)),te.query=k.query):(te.path=j.path,k.query!==void 0?te.query=k.query:te.query=j.query),te.userinfo=j.userinfo,te.host=j.host,te.port=j.port),te.scheme=j.scheme),te.fragment=k.fragment,te}function Z(j,k,W){var ee=i({scheme:"null"},W);return Ft(x(ft(j,ee),ft(k,ee),ee,!0),ee)}function ne(j,k){return typeof j=="string"?j=Ft(ft(j,k),k):a(j)==="object"&&(j=ft(Ft(j,k),k)),j}function m(j,k,W){return typeof j=="string"?j=Ft(ft(j,W),W):a(j)==="object"&&(j=Ft(j,W)),typeof k=="string"?k=Ft(ft(k,W),W):a(k)==="object"&&(k=Ft(k,W)),j===k}function D(j,k){return j&&j.toString().replace(!k||!k.iri?c.ESCAPE:d.ESCAPE,De)}function f(j,k){return j&&j.toString().replace(!k||!k.iri?c.PCT_ENCODED:d.PCT_ENCODED,ce)}var b={scheme:"http",domainHost:!0,parse:function(k,W){return k.host||(k.error=k.error||"HTTP URIs must have a host."),k},serialize:function(k,W){var ee=String(k.scheme).toLowerCase()==="https";return(k.port===(ee?443:80)||k.port==="")&&(k.port=void 0),k.path||(k.path="/"),k}},$={scheme:"https",domainHost:b.domainHost,parse:b.parse,serialize:b.serialize};function w(j){return typeof j.secure=="boolean"?j.secure:String(j.scheme).toLowerCase()==="wss"}var M={scheme:"ws",domainHost:!0,parse:function(k,W){var ee=k;return ee.secure=w(ee),ee.resourceName=(ee.path||"/")+(ee.query?"?"+ee.query:""),ee.path=void 0,ee.query=void 0,ee},serialize:function(k,W){if((k.port===(w(k)?443:80)||k.port==="")&&(k.port=void 0),typeof k.secure=="boolean"&&(k.scheme=k.secure?"wss":"ws",k.secure=void 0),k.resourceName){var ee=k.resourceName.split("?"),te=p(ee,2),Me=te[0],Ue=te[1];k.path=Me&&Me!=="/"?Me:void 0,k.query=Ue,k.resourceName=void 0}return k.fragment=void 0,k}},fe={scheme:"wss",domainHost:M.domainHost,parse:M.parse,serialize:M.serialize},be={},qe="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Te="[0-9A-Fa-f]",Je=n(n("%[EFef]"+Te+"%"+Te+Te+"%"+Te+Te)+"|"+n("%[89A-Fa-f]"+Te+"%"+Te+Te)+"|"+n("%"+Te+Te)),St="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",cu="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Nu=r(cu,'[\\"\\\\]'),Sr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",$r=new RegExp(qe,"g"),Zu=new RegExp(Je,"g"),no=new RegExp(r("[^]",St,"[\\.]",'[\\"]',Nu),"g"),dn=new RegExp(r("[^]",qe,Sr),"g"),V=dn;function Ae(j){var k=ce(j);return k.match($r)?k:j}var ve={scheme:"mailto",parse:function(k,W){var ee=k,te=ee.to=ee.path?ee.path.split(","):[];if(ee.path=void 0,ee.query){for(var Me=!1,Ue={},pt=ee.query.split("&"),vt=0,$t=pt.length;vt<$t;++vt){var at=pt[vt].split("=");switch(at[0]){case"to":for(var pe=at[1].split(","),P=0,re=pe.length;P<re;++P)te.push(pe[P]);break;case"subject":ee.subject=f(at[1],W);break;case"body":ee.body=f(at[1],W);break;default:Me=!0,Ue[f(at[0],W)]=f(at[1],W);break}}Me&&(ee.headers=Ue)}ee.query=void 0;for(var Be=0,Pe=te.length;Be<Pe;++Be){var Oe=te[Be].split("@");if(Oe[0]=f(Oe[0]),W.unicodeSupport)Oe[1]=f(Oe[1],W).toLowerCase();else try{Oe[1]=H.toASCII(f(Oe[1],W).toLowerCase())}catch(mt){ee.error=ee.error||"Email address's domain name can not be converted to ASCII via punycode: "+mt}te[Be]=Oe.join("@")}return ee},serialize:function(k,W){var ee=k,te=s(k.to);if(te){for(var Me=0,Ue=te.length;Me<Ue;++Me){var pt=String(te[Me]),vt=pt.lastIndexOf("@"),$t=pt.slice(0,vt).replace(Zu,Ae).replace(Zu,o).replace(no,De),at=pt.slice(vt+1);try{at=W.iri?H.toUnicode(at):H.toASCII(f(at,W).toLowerCase())}catch(Be){ee.error=ee.error||"Email address's domain name can not be converted to "+(W.iri?"Unicode":"ASCII")+" via punycode: "+Be}te[Me]=$t+"@"+at}ee.path=te.join(",")}var pe=k.headers=k.headers||{};k.subject&&(pe.subject=k.subject),k.body&&(pe.body=k.body);var P=[];for(var re in pe)pe[re]!==be[re]&&P.push(re.replace(Zu,Ae).replace(Zu,o).replace(dn,De)+"="+pe[re].replace(Zu,Ae).replace(Zu,o).replace(V,De));return P.length&&(ee.query=P.join("&")),ee}},$e=/^([^\:]+)\:(.*)/,ke={scheme:"urn",parse:function(k,W){var ee=k.path&&k.path.match($e),te=k;if(ee){var Me=W.scheme||te.scheme||"urn",Ue=ee[1].toLowerCase(),pt=ee[2],vt=Me+":"+(W.nid||Ue),$t=me[vt];te.nid=Ue,te.nss=pt,te.path=void 0,$t&&(te=$t.parse(te,W))}else te.error=te.error||"URN can not be parsed.";return te},serialize:function(k,W){var ee=W.scheme||k.scheme||"urn",te=k.nid,Me=ee+":"+(W.nid||te),Ue=me[Me];Ue&&(k=Ue.serialize(k,W));var pt=k,vt=k.nss;return pt.path=(te||W.nid)+":"+vt,pt}},ut=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,He={scheme:"urn:uuid",parse:function(k,W){var ee=k;return ee.uuid=ee.nss,ee.nss=void 0,!W.tolerant&&(!ee.uuid||!ee.uuid.match(ut))&&(ee.error=ee.error||"UUID is not valid."),ee},serialize:function(k,W){var ee=k;return ee.nss=(k.uuid||"").toLowerCase(),ee}};me[b.scheme]=b,me[$.scheme]=$,me[M.scheme]=M,me[fe.scheme]=fe,me[ve.scheme]=ve,me[ke.scheme]=ke,me[He.scheme]=He,u.SCHEMES=me,u.pctEncChar=De,u.pctDecChars=ce,u.parse=ft,u.removeDotSegments=ie,u.serialize=Ft,u.resolveComponents=x,u.resolve=Z,u.normalize=ne,u.equal=m,u.escapeComponent=D,u.unescapeComponent=f,Object.defineProperty(u,"__esModule",{value:!0})})})(Zc,Zc.exports);var Ag=Zc.exports;Object.defineProperty(f0,"__esModule",{value:!0});const Om=Ag;Om.code='require("ajv/dist/runtime/uri").default';f0.default=Om;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=bu;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var u=Dt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});const r=Rn,n=xn,a=vr,o=su,s=Dt,i=Qt,l=On,c=ht,d=Cg,p=f0,h=(ae,N)=>new RegExp(ae,N);h.code="new RegExp";const F=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),A={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},C={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function v(ae){var N,G,z,y,I,H,me,De,ce,Se,Re,ct,Xe,rt,At,ft,dt,wt,nt,tt,kt,ie,Ft,x,Z;const ne=ae.strict,m=(N=ae.code)===null||N===void 0?void 0:N.optimize,D=m===!0||m===void 0?1:m||0,f=(z=(G=ae.code)===null||G===void 0?void 0:G.regExp)!==null&&z!==void 0?z:h,b=(y=ae.uriResolver)!==null&&y!==void 0?y:p.default;return{strictSchema:(H=(I=ae.strictSchema)!==null&&I!==void 0?I:ne)!==null&&H!==void 0?H:!0,strictNumbers:(De=(me=ae.strictNumbers)!==null&&me!==void 0?me:ne)!==null&&De!==void 0?De:!0,strictTypes:(Se=(ce=ae.strictTypes)!==null&&ce!==void 0?ce:ne)!==null&&Se!==void 0?Se:"log",strictTuples:(ct=(Re=ae.strictTuples)!==null&&Re!==void 0?Re:ne)!==null&&ct!==void 0?ct:"log",strictRequired:(rt=(Xe=ae.strictRequired)!==null&&Xe!==void 0?Xe:ne)!==null&&rt!==void 0?rt:!1,code:ae.code?{...ae.code,optimize:D,regExp:f}:{optimize:D,regExp:f},loopRequired:(At=ae.loopRequired)!==null&&At!==void 0?At:E,loopEnum:(ft=ae.loopEnum)!==null&&ft!==void 0?ft:E,meta:(dt=ae.meta)!==null&&dt!==void 0?dt:!0,messages:(wt=ae.messages)!==null&&wt!==void 0?wt:!0,inlineRefs:(nt=ae.inlineRefs)!==null&&nt!==void 0?nt:!0,schemaId:(tt=ae.schemaId)!==null&&tt!==void 0?tt:"$id",addUsedSchema:(kt=ae.addUsedSchema)!==null&&kt!==void 0?kt:!0,validateSchema:(ie=ae.validateSchema)!==null&&ie!==void 0?ie:!0,validateFormats:(Ft=ae.validateFormats)!==null&&Ft!==void 0?Ft:!0,unicodeRegExp:(x=ae.unicodeRegExp)!==null&&x!==void 0?x:!0,int32range:(Z=ae.int32range)!==null&&Z!==void 0?Z:!0,uriResolver:b}}class S{constructor(N={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,N=this.opts={...N,...v(N)};const{es5:G,lines:z}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:g,es5:G,lines:z}),this.logger=K(N.logger);const y=N.validateFormats;N.validateFormats=!1,this.RULES=(0,a.getRules)(),q.call(this,A,N,"NOT SUPPORTED"),q.call(this,C,N,"DEPRECATED","warn"),this._metaOpts=J.call(this),N.formats&&R.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),N.keywords&&L.call(this,N.keywords),typeof N.meta=="object"&&this.addMetaSchema(N.meta),T.call(this),N.validateFormats=y}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:N,meta:G,schemaId:z}=this.opts;let y=d;z==="id"&&(y={...d},y.id=y.$id,delete y.$id),G&&N&&this.addMetaSchema(y,y[z],!1)}defaultMeta(){const{meta:N,schemaId:G}=this.opts;return this.opts.defaultMeta=typeof N=="object"?N[G]||N:void 0}validate(N,G){let z;if(typeof N=="string"){if(z=this.getSchema(N),!z)throw new Error(`no schema with key or ref "${N}"`)}else z=this.compile(N);const y=z(G);return"$async"in z||(this.errors=z.errors),y}compile(N,G){const z=this._addSchema(N,G);return z.validate||this._compileSchemaEnv(z)}compileAsync(N,G){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:z}=this.opts;return y.call(this,N,G);async function y(Se,Re){await I.call(this,Se.$schema);const ct=this._addSchema(Se,Re);return ct.validate||H.call(this,ct)}async function I(Se){Se&&!this.getSchema(Se)&&await y.call(this,{$ref:Se},!0)}async function H(Se){try{return this._compileSchemaEnv(Se)}catch(Re){if(!(Re instanceof n.default))throw Re;return me.call(this,Re),await De.call(this,Re.missingSchema),H.call(this,Se)}}function me({missingSchema:Se,missingRef:Re}){if(this.refs[Se])throw new Error(`AnySchema ${Se} is loaded but ${Re} cannot be resolved`)}async function De(Se){const Re=await ce.call(this,Se);this.refs[Se]||await I.call(this,Re.$schema),this.refs[Se]||this.addSchema(Re,Se,G)}async function ce(Se){const Re=this._loading[Se];if(Re)return Re;try{return await(this._loading[Se]=z(Se))}finally{delete this._loading[Se]}}}addSchema(N,G,z,y=this.opts.validateSchema){if(Array.isArray(N)){for(const H of N)this.addSchema(H,void 0,z,y);return this}let I;if(typeof N=="object"){const{schemaId:H}=this.opts;if(I=N[H],I!==void 0&&typeof I!="string")throw new Error(`schema ${H} must be string`)}return G=(0,i.normalizeId)(G||I),this._checkUnique(G),this.schemas[G]=this._addSchema(N,z,G,y,!0),this}addMetaSchema(N,G,z=this.opts.validateSchema){return this.addSchema(N,G,!0,z),this}validateSchema(N,G){if(typeof N=="boolean")return!0;let z;if(z=N.$schema,z!==void 0&&typeof z!="string")throw new Error("$schema must be a string");if(z=z||this.opts.defaultMeta||this.defaultMeta(),!z)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const y=this.validate(z,N);if(!y&&G){const I="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(I);else throw new Error(I)}return y}getSchema(N){let G;for(;typeof(G=_.call(this,N))=="string";)N=G;if(G===void 0){const{schemaId:z}=this.opts,y=new o.SchemaEnv({schema:{},schemaId:z});if(G=o.resolveSchema.call(this,y,N),!G)return;this.refs[N]=G}return G.validate||this._compileSchemaEnv(G)}removeSchema(N){if(N instanceof RegExp)return this._removeAllSchemas(this.schemas,N),this._removeAllSchemas(this.refs,N),this;switch(typeof N){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const G=_.call(this,N);return typeof G=="object"&&this._cache.delete(G.schema),delete this.schemas[N],delete this.refs[N],this}case"object":{const G=N;this._cache.delete(G);let z=N[this.opts.schemaId];return z&&(z=(0,i.normalizeId)(z),delete this.schemas[z],delete this.refs[z]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(N){for(const G of N)this.addKeyword(G);return this}addKeyword(N,G){let z;if(typeof N=="string")z=N,typeof G=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),G.keyword=z);else if(typeof N=="object"&&G===void 0){if(G=N,z=G.keyword,Array.isArray(z)&&!z.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Q.call(this,z,G),!G)return(0,c.eachItem)(z,I=>Ce.call(this,I)),this;Ee.call(this,G);const y={...G,type:(0,l.getJSONTypes)(G.type),schemaType:(0,l.getJSONTypes)(G.schemaType)};return(0,c.eachItem)(z,y.type.length===0?I=>Ce.call(this,I,y):I=>y.type.forEach(H=>Ce.call(this,I,y,H))),this}getKeyword(N){const G=this.RULES.all[N];return typeof G=="object"?G.definition:!!G}removeKeyword(N){const{RULES:G}=this;delete G.keywords[N],delete G.all[N];for(const z of G.rules){const y=z.rules.findIndex(I=>I.keyword===N);y>=0&&z.rules.splice(y,1)}return this}addFormat(N,G){return typeof G=="string"&&(G=new RegExp(G)),this.formats[N]=G,this}errorsText(N=this.errors,{separator:G=", ",dataVar:z="data"}={}){return!N||N.length===0?"No errors":N.map(y=>`${z}${y.instancePath} ${y.message}`).reduce((y,I)=>y+G+I)}$dataMetaSchema(N,G){const z=this.RULES.all;N=JSON.parse(JSON.stringify(N));for(const y of G){const I=y.split("/").slice(1);let H=N;for(const me of I)H=H[me];for(const me in z){const De=z[me];if(typeof De!="object")continue;const{$data:ce}=De.definition,Se=H[me];ce&&Se&&(H[me]=we(Se))}}return N}_removeAllSchemas(N,G){for(const z in N){const y=N[z];(!G||G.test(z))&&(typeof y=="string"?delete N[z]:y&&!y.meta&&(this._cache.delete(y.schema),delete N[z]))}}_addSchema(N,G,z,y=this.opts.validateSchema,I=this.opts.addUsedSchema){let H;const{schemaId:me}=this.opts;if(typeof N=="object")H=N[me];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof N!="boolean")throw new Error("schema must be object or boolean")}let De=this._cache.get(N);if(De!==void 0)return De;z=(0,i.normalizeId)(H||z);const ce=i.getSchemaRefs.call(this,N,z);return De=new o.SchemaEnv({schema:N,schemaId:me,meta:G,baseId:z,localRefs:ce}),this._cache.set(De.schema,De),I&&!z.startsWith("#")&&(z&&this._checkUnique(z),this.refs[z]=De),y&&this.validateSchema(N,!0),De}_checkUnique(N){if(this.schemas[N]||this.refs[N])throw new Error(`schema with key or id "${N}" already exists`)}_compileSchemaEnv(N){if(N.meta?this._compileMetaSchema(N):o.compileSchema.call(this,N),!N.validate)throw new Error("ajv implementation error");return N.validate}_compileMetaSchema(N){const G=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,N)}finally{this.opts=G}}}t.default=S,S.ValidationError=r.default,S.MissingRefError=n.default;function q(ae,N,G,z="error"){for(const y in ae){const I=y;I in N&&this.logger[z](`${G}: option ${y}. ${ae[I]}`)}}function _(ae){return ae=(0,i.normalizeId)(ae),this.schemas[ae]||this.refs[ae]}function T(){const ae=this.opts.schemas;if(ae)if(Array.isArray(ae))this.addSchema(ae);else for(const N in ae)this.addSchema(ae[N],N)}function R(){for(const ae in this.opts.formats){const N=this.opts.formats[ae];N&&this.addFormat(ae,N)}}function L(ae){if(Array.isArray(ae)){this.addVocabulary(ae);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const N in ae){const G=ae[N];G.keyword||(G.keyword=N),this.addKeyword(G)}}function J(){const ae={...this.opts};for(const N of F)delete ae[N];return ae}const U={log(){},warn(){},error(){}};function K(ae){if(ae===!1)return U;if(ae===void 0)return console;if(ae.log&&ae.warn&&ae.error)return ae;throw new Error("logger must implement log, warn and error methods")}const oe=/^[a-z_$][a-z0-9_$:-]*$/i;function Q(ae,N){const{RULES:G}=this;if((0,c.eachItem)(ae,z=>{if(G.keywords[z])throw new Error(`Keyword ${z} is already defined`);if(!oe.test(z))throw new Error(`Keyword ${z} has invalid name`)}),!!N&&N.$data&&!("code"in N||"validate"in N))throw new Error('$data keyword must have "code" or "validate" function')}function Ce(ae,N,G){var z;const y=N==null?void 0:N.post;if(G&&y)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:I}=this;let H=y?I.post:I.rules.find(({type:De})=>De===G);if(H||(H={type:G,rules:[]},I.rules.push(H)),I.keywords[ae]=!0,!N)return;const me={keyword:ae,definition:{...N,type:(0,l.getJSONTypes)(N.type),schemaType:(0,l.getJSONTypes)(N.schemaType)}};N.before?X.call(this,H,me,N.before):H.rules.push(me),I.all[ae]=me,(z=N.implements)===null||z===void 0||z.forEach(De=>this.addKeyword(De))}function X(ae,N,G){const z=ae.rules.findIndex(y=>y.keyword===G);z>=0?ae.rules.splice(z,0,N):(ae.rules.push(N),this.logger.warn(`rule ${G} is not defined`))}function Ee(ae){let{metaSchema:N}=ae;N!==void 0&&(ae.$data&&this.opts.$data&&(N=we(N)),ae.validateSchema=this.compile(N,!0))}const ye={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function we(ae){return{anyOf:[ae,ye]}}})(lm);var d0={},p0={},h0={};Object.defineProperty(h0,"__esModule",{value:!0});const vg={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};h0.default=vg;var yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.callRef=yr.getValidate=void 0;const yg=xn,sD=lt,ou=Dt,Tr=xu,iD=su,Xn=ht,gg={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:u,it:r}=t,{baseId:n,schemaEnv:a,validateName:o,opts:s,self:i}=r,{root:l}=a;if((u==="#"||u==="#/")&&n===l.baseId)return d();const c=iD.resolveRef.call(i,l,n,u);if(c===void 0)throw new yg.default(r.opts.uriResolver,n,u);if(c instanceof iD.SchemaEnv)return p(c);return h(c);function d(){if(a===l)return Ca(t,o,a,a.$async);const F=e.scopeValue("root",{ref:l});return Ca(t,(0,ou._)`${F}.validate`,l,l.$async)}function p(F){const g=Rm(t,F);Ca(t,g,F,F.$async)}function h(F){const g=e.scopeValue("schema",s.code.source===!0?{ref:F,code:(0,ou.stringify)(F)}:{ref:F}),A=e.name("valid"),C=t.subschema({schema:F,dataTypes:[],schemaPath:ou.nil,topSchemaRef:g,errSchemaPath:u},A);t.mergeEvaluated(C),t.ok(A)}}};function Rm(t,e){const{gen:u}=t;return e.validate?u.scopeValue("validate",{ref:e.validate}):(0,ou._)`${u.scopeValue("wrapper",{ref:e})}.validate`}yr.getValidate=Rm;function Ca(t,e,u,r){const{gen:n,it:a}=t,{allErrors:o,schemaEnv:s,opts:i}=a,l=i.passContext?Tr.default.this:ou.nil;r?c():d();function c(){if(!s.$async)throw new Error("async schema referenced by sync schema");const F=n.let("valid");n.try(()=>{n.code((0,ou._)`await ${(0,sD.callValidateCode)(t,e,l)}`),h(e),o||n.assign(F,!0)},g=>{n.if((0,ou._)`!(${g} instanceof ${a.ValidationError})`,()=>n.throw(g)),p(g),o||n.assign(F,!1)}),t.ok(F)}function d(){t.result((0,sD.callValidateCode)(t,e,l),()=>h(e),()=>p(e))}function p(F){const g=(0,ou._)`${F}.errors`;n.assign(Tr.default.vErrors,(0,ou._)`${Tr.default.vErrors} === null ? ${g} : ${Tr.default.vErrors}.concat(${g})`),n.assign(Tr.default.errors,(0,ou._)`${Tr.default.vErrors}.length`)}function h(F){var g;if(!a.opts.unevaluated)return;const A=(g=u==null?void 0:u.validate)===null||g===void 0?void 0:g.evaluated;if(a.props!==!0)if(A&&!A.dynamicProps)A.props!==void 0&&(a.props=Xn.mergeEvaluated.props(n,A.props,a.props));else{const C=n.var("props",(0,ou._)`${F}.evaluated.props`);a.props=Xn.mergeEvaluated.props(n,C,a.props,ou.Name)}if(a.items!==!0)if(A&&!A.dynamicItems)A.items!==void 0&&(a.items=Xn.mergeEvaluated.items(n,A.items,a.items));else{const C=n.var("items",(0,ou._)`${F}.evaluated.items`);a.items=Xn.mergeEvaluated.items(n,C,a.items,ou.Name)}}}yr.callRef=Ca;yr.default=gg;Object.defineProperty(p0,"__esModule",{value:!0});const bg=h0,Bg=yr,_g=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",bg.default,Bg.default];p0.default=_g;var F0={},m0={};Object.defineProperty(m0,"__esModule",{value:!0});const qa=Dt,Yu=qa.operators,Ta={maximum:{okStr:"<=",ok:Yu.LTE,fail:Yu.GT},minimum:{okStr:">=",ok:Yu.GTE,fail:Yu.LT},exclusiveMaximum:{okStr:"<",ok:Yu.LT,fail:Yu.GTE},exclusiveMinimum:{okStr:">",ok:Yu.GT,fail:Yu.LTE}},wg={message:({keyword:t,schemaCode:e})=>(0,qa.str)`must be ${Ta[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,qa._)`{comparison: ${Ta[t].okStr}, limit: ${e}}`},Sg={keyword:Object.keys(Ta),type:"number",schemaType:"number",$data:!0,error:wg,code(t){const{keyword:e,data:u,schemaCode:r}=t;t.fail$data((0,qa._)`${u} ${Ta[e].fail} ${r} || isNaN(${u})`)}};m0.default=Sg;var E0={};Object.defineProperty(E0,"__esModule",{value:!0});const bn=Dt,$g={message:({schemaCode:t})=>(0,bn.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,bn._)`{multipleOf: ${t}}`},kg={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:$g,code(t){const{gen:e,data:u,schemaCode:r,it:n}=t,a=n.opts.multipleOfPrecision,o=e.let("res"),s=a?(0,bn._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:(0,bn._)`${o} !== parseInt(${o})`;t.fail$data((0,bn._)`(${r} === 0 || (${o} = ${u}/${r}, ${s}))`)}};E0.default=kg;var C0={},A0={};Object.defineProperty(A0,"__esModule",{value:!0});function xm(t){const e=t.length;let u=0,r=0,n;for(;r<e;)u++,n=t.charCodeAt(r++),n>=55296&&n<=56319&&r<e&&(n=t.charCodeAt(r),(n&64512)===56320&&r++);return u}A0.default=xm;xm.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(C0,"__esModule",{value:!0});const hr=Dt,qg=ht,Tg=A0,Pg={message({keyword:t,schemaCode:e}){const u=t==="maxLength"?"more":"fewer";return(0,hr.str)`must NOT have ${u} than ${e} characters`},params:({schemaCode:t})=>(0,hr._)`{limit: ${t}}`},Ig={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Pg,code(t){const{keyword:e,data:u,schemaCode:r,it:n}=t,a=e==="maxLength"?hr.operators.GT:hr.operators.LT,o=n.opts.unicode===!1?(0,hr._)`${u}.length`:(0,hr._)`${(0,qg.useFunc)(t.gen,Tg.default)}(${u})`;t.fail$data((0,hr._)`${o} ${a} ${r}`)}};C0.default=Ig;var v0={};Object.defineProperty(v0,"__esModule",{value:!0});const Og=lt,Pa=Dt,Rg={message:({schemaCode:t})=>(0,Pa.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Pa._)`{pattern: ${t}}`},xg={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Rg,code(t){const{data:e,$data:u,schema:r,schemaCode:n,it:a}=t,o=a.opts.unicodeRegExp?"u":"",s=u?(0,Pa._)`(new RegExp(${n}, ${o}))`:(0,Og.usePattern)(t,r);t.fail$data((0,Pa._)`!${s}.test(${e})`)}};v0.default=xg;var y0={};Object.defineProperty(y0,"__esModule",{value:!0});const Bn=Dt,jg={message({keyword:t,schemaCode:e}){const u=t==="maxProperties"?"more":"fewer";return(0,Bn.str)`must NOT have ${u} than ${e} properties`},params:({schemaCode:t})=>(0,Bn._)`{limit: ${t}}`},Ng={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:jg,code(t){const{keyword:e,data:u,schemaCode:r}=t,n=e==="maxProperties"?Bn.operators.GT:Bn.operators.LT;t.fail$data((0,Bn._)`Object.keys(${u}).length ${n} ${r}`)}};y0.default=Ng;var g0={};Object.defineProperty(g0,"__esModule",{value:!0});const mn=lt,_n=Dt,Mg=ht,Lg={message:({params:{missingProperty:t}})=>(0,_n.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,_n._)`{missingProperty: ${t}}`},Ug={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Lg,code(t){const{gen:e,schema:u,schemaCode:r,data:n,$data:a,it:o}=t,{opts:s}=o;if(!a&&u.length===0)return;const i=u.length>=s.loopRequired;if(o.allErrors?l():c(),s.strictRequired){const h=t.parentSchema.properties,{definedProperties:F}=t.it;for(const g of u)if((h==null?void 0:h[g])===void 0&&!F.has(g)){const A=o.schemaEnv.baseId+o.errSchemaPath,C=`required property "${g}" is not defined at "${A}" (strictRequired)`;(0,Mg.checkStrictMode)(o,C,o.opts.strictRequired)}}function l(){if(i||a)t.block$data(_n.nil,d);else for(const h of u)(0,mn.checkReportMissingProp)(t,h)}function c(){const h=e.let("missing");if(i||a){const F=e.let("valid",!0);t.block$data(F,()=>p(h,F)),t.ok(F)}else e.if((0,mn.checkMissingProp)(t,u,h)),(0,mn.reportMissingProp)(t,h),e.else()}function d(){e.forOf("prop",r,h=>{t.setParams({missingProperty:h}),e.if((0,mn.noPropertyInData)(e,n,h,s.ownProperties),()=>t.error())})}function p(h,F){t.setParams({missingProperty:h}),e.forOf(h,r,()=>{e.assign(F,(0,mn.propertyInData)(e,n,h,s.ownProperties)),e.if((0,_n.not)(F),()=>{t.error(),e.break()})},_n.nil)}}};g0.default=Ug;var b0={};Object.defineProperty(b0,"__esModule",{value:!0});const wn=Dt,Vg={message({keyword:t,schemaCode:e}){const u=t==="maxItems"?"more":"fewer";return(0,wn.str)`must NOT have ${u} than ${e} items`},params:({schemaCode:t})=>(0,wn._)`{limit: ${t}}`},Wg={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Vg,code(t){const{keyword:e,data:u,schemaCode:r}=t,n=e==="maxItems"?wn.operators.GT:wn.operators.LT;t.fail$data((0,wn._)`${u}.length ${n} ${r}`)}};b0.default=Wg;var B0={},jn={};Object.defineProperty(jn,"__esModule",{value:!0});const jm=Em;jm.code='require("ajv/dist/runtime/equal").default';jn.default=jm;Object.defineProperty(B0,"__esModule",{value:!0});const fo=On,Ht=Dt,zg=ht,Gg=jn,Hg={message:({params:{i:t,j:e}})=>(0,Ht.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Ht._)`{i: ${t}, j: ${e}}`},Jg={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Hg,code(t){const{gen:e,data:u,$data:r,schema:n,parentSchema:a,schemaCode:o,it:s}=t;if(!r&&!n)return;const i=e.let("valid"),l=a.items?(0,fo.getSchemaTypes)(a.items):[];t.block$data(i,c,(0,Ht._)`${o} === false`),t.ok(i);function c(){const F=e.let("i",(0,Ht._)`${u}.length`),g=e.let("j");t.setParams({i:F,j:g}),e.assign(i,!0),e.if((0,Ht._)`${F} > 1`,()=>(d()?p:h)(F,g))}function d(){return l.length>0&&!l.some(F=>F==="object"||F==="array")}function p(F,g){const A=e.name("item"),C=(0,fo.checkDataTypes)(l,A,s.opts.strictNumbers,fo.DataType.Wrong),E=e.const("indices",(0,Ht._)`{}`);e.for((0,Ht._)`;${F}--;`,()=>{e.let(A,(0,Ht._)`${u}[${F}]`),e.if(C,(0,Ht._)`continue`),l.length>1&&e.if((0,Ht._)`typeof ${A} == "string"`,(0,Ht._)`${A} += "_"`),e.if((0,Ht._)`typeof ${E}[${A}] == "number"`,()=>{e.assign(g,(0,Ht._)`${E}[${A}]`),t.error(),e.assign(i,!1).break()}).code((0,Ht._)`${E}[${A}] = ${F}`)})}function h(F,g){const A=(0,zg.useFunc)(e,Gg.default),C=e.name("outer");e.label(C).for((0,Ht._)`;${F}--;`,()=>e.for((0,Ht._)`${g} = ${F}; ${g}--;`,()=>e.if((0,Ht._)`${A}(${u}[${F}], ${u}[${g}])`,()=>{t.error(),e.assign(i,!1).break(C)})))}}};B0.default=Jg;var _0={};Object.defineProperty(_0,"__esModule",{value:!0});const Kc=Dt,Zg=ht,Kg=jn,Qg={message:"must be equal to constant",params:({schemaCode:t})=>(0,Kc._)`{allowedValue: ${t}}`},Yg={keyword:"const",$data:!0,error:Qg,code(t){const{gen:e,data:u,$data:r,schemaCode:n,schema:a}=t;r||a&&typeof a=="object"?t.fail$data((0,Kc._)`!${(0,Zg.useFunc)(e,Kg.default)}(${u}, ${n})`):t.fail((0,Kc._)`${a} !== ${u}`)}};_0.default=Yg;var w0={};Object.defineProperty(w0,"__esModule",{value:!0});const Cn=Dt,Xg=ht,e8=jn,t8={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Cn._)`{allowedValues: ${t}}`},u8={keyword:"enum",schemaType:"array",$data:!0,error:t8,code(t){const{gen:e,data:u,$data:r,schema:n,schemaCode:a,it:o}=t;if(!r&&n.length===0)throw new Error("enum must have non-empty array");const s=n.length>=o.opts.loopEnum;let i;const l=()=>i??(i=(0,Xg.useFunc)(e,e8.default));let c;if(s||r)c=e.let("valid"),t.block$data(c,d);else{if(!Array.isArray(n))throw new Error("ajv implementation error");const h=e.const("vSchema",a);c=(0,Cn.or)(...n.map((F,g)=>p(h,g)))}t.pass(c);function d(){e.assign(c,!1),e.forOf("v",a,h=>e.if((0,Cn._)`${l()}(${u}, ${h})`,()=>e.assign(c,!0).break()))}function p(h,F){const g=n[F];return typeof g=="object"&&g!==null?(0,Cn._)`${l()}(${u}, ${h}[${F}])`:(0,Cn._)`${u} === ${g}`}}};w0.default=u8;Object.defineProperty(F0,"__esModule",{value:!0});const r8=m0,n8=E0,a8=C0,o8=v0,s8=y0,i8=g0,c8=b0,l8=B0,D8=_0,f8=w0,d8=[r8.default,n8.default,a8.default,o8.default,s8.default,i8.default,c8.default,l8.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},D8.default,f8.default];F0.default=d8;var S0={},rn={};Object.defineProperty(rn,"__esModule",{value:!0});rn.validateAdditionalItems=void 0;const Fr=Dt,Qc=ht,p8={message:({params:{len:t}})=>(0,Fr.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Fr._)`{limit: ${t}}`},h8={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:p8,code(t){const{parentSchema:e,it:u}=t,{items:r}=e;if(!Array.isArray(r)){(0,Qc.checkStrictMode)(u,'"additionalItems" is ignored when "items" is not an array of schemas');return}Nm(t,r)}};function Nm(t,e){const{gen:u,schema:r,data:n,keyword:a,it:o}=t;o.items=!0;const s=u.const("len",(0,Fr._)`${n}.length`);if(r===!1)t.setParams({len:e.length}),t.pass((0,Fr._)`${s} <= ${e.length}`);else if(typeof r=="object"&&!(0,Qc.alwaysValidSchema)(o,r)){const l=u.var("valid",(0,Fr._)`${s} <= ${e.length}`);u.if((0,Fr.not)(l),()=>i(l)),t.ok(l)}function i(l){u.forRange("i",e.length,s,c=>{t.subschema({keyword:a,dataProp:c,dataPropType:Qc.Type.Num},l),o.allErrors||u.if((0,Fr.not)(l),()=>u.break())})}}rn.validateAdditionalItems=Nm;rn.default=h8;var $0={},nn={};Object.defineProperty(nn,"__esModule",{value:!0});nn.validateTuple=void 0;const cD=Dt,Aa=ht,F8=lt,m8={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:u}=t;if(Array.isArray(e))return Mm(t,"additionalItems",e);u.items=!0,!(0,Aa.alwaysValidSchema)(u,e)&&t.ok((0,F8.validateArray)(t))}};function Mm(t,e,u=t.schema){const{gen:r,parentSchema:n,data:a,keyword:o,it:s}=t;c(n),s.opts.unevaluated&&u.length&&s.items!==!0&&(s.items=Aa.mergeEvaluated.items(r,u.length,s.items));const i=r.name("valid"),l=r.const("len",(0,cD._)`${a}.length`);u.forEach((d,p)=>{(0,Aa.alwaysValidSchema)(s,d)||(r.if((0,cD._)`${l} > ${p}`,()=>t.subschema({keyword:o,schemaProp:p,dataProp:p},i)),t.ok(i))});function c(d){const{opts:p,errSchemaPath:h}=s,F=u.length,g=F===d.minItems&&(F===d.maxItems||d[e]===!1);if(p.strictTuples&&!g){const A=`"${o}" is ${F}-tuple, but minItems or maxItems/${e} are not specified or different at path "${h}"`;(0,Aa.checkStrictMode)(s,A,p.strictTuples)}}}nn.validateTuple=Mm;nn.default=m8;Object.defineProperty($0,"__esModule",{value:!0});const E8=nn,C8={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,E8.validateTuple)(t,"items")};$0.default=C8;var k0={};Object.defineProperty(k0,"__esModule",{value:!0});const lD=Dt,A8=ht,v8=lt,y8=rn,g8={message:({params:{len:t}})=>(0,lD.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,lD._)`{limit: ${t}}`},b8={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:g8,code(t){const{schema:e,parentSchema:u,it:r}=t,{prefixItems:n}=u;r.items=!0,!(0,A8.alwaysValidSchema)(r,e)&&(n?(0,y8.validateAdditionalItems)(t,n):t.ok((0,v8.validateArray)(t)))}};k0.default=b8;var q0={};Object.defineProperty(q0,"__esModule",{value:!0});const Fu=Dt,ea=ht,B8={message:({params:{min:t,max:e}})=>e===void 0?(0,Fu.str)`must contain at least ${t} valid item(s)`:(0,Fu.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Fu._)`{minContains: ${t}}`:(0,Fu._)`{minContains: ${t}, maxContains: ${e}}`},_8={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:B8,code(t){const{gen:e,schema:u,parentSchema:r,data:n,it:a}=t;let o,s;const{minContains:i,maxContains:l}=r;a.opts.next?(o=i===void 0?1:i,s=l):o=1;const c=e.const("len",(0,Fu._)`${n}.length`);if(t.setParams({min:o,max:s}),s===void 0&&o===0){(0,ea.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&o>s){(0,ea.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,ea.alwaysValidSchema)(a,u)){let g=(0,Fu._)`${c} >= ${o}`;s!==void 0&&(g=(0,Fu._)`${g} && ${c} <= ${s}`),t.pass(g);return}a.items=!0;const d=e.name("valid");s===void 0&&o===1?h(d,()=>e.if(d,()=>e.break())):o===0?(e.let(d,!0),s!==void 0&&e.if((0,Fu._)`${n}.length > 0`,p)):(e.let(d,!1),p()),t.result(d,()=>t.reset());function p(){const g=e.name("_valid"),A=e.let("count",0);h(g,()=>e.if(g,()=>F(A)))}function h(g,A){e.forRange("i",0,c,C=>{t.subschema({keyword:"contains",dataProp:C,dataPropType:ea.Type.Num,compositeRule:!0},g),A()})}function F(g){e.code((0,Fu._)`${g}++`),s===void 0?e.if((0,Fu._)`${g} >= ${o}`,()=>e.assign(d,!0).break()):(e.if((0,Fu._)`${g} > ${s}`,()=>e.assign(d,!1).break()),o===1?e.assign(d,!0):e.if((0,Fu._)`${g} >= ${o}`,()=>e.assign(d,!0)))}}};q0.default=_8;var Lm={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=Dt,u=ht,r=lt;t.error={message:({params:{property:i,depsCount:l,deps:c}})=>{const d=l===1?"property":"properties";return(0,e.str)`must have ${d} ${c} when property ${i} is present`},params:({params:{property:i,depsCount:l,deps:c,missingProperty:d}})=>(0,e._)`{property: ${i},
    missingProperty: ${d},
    depsCount: ${l},
    deps: ${c}}`};const n={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(i){const[l,c]=a(i);o(i,l),s(i,c)}};function a({schema:i}){const l={},c={};for(const d in i){if(d==="__proto__")continue;const p=Array.isArray(i[d])?l:c;p[d]=i[d]}return[l,c]}function o(i,l=i.schema){const{gen:c,data:d,it:p}=i;if(Object.keys(l).length===0)return;const h=c.let("missing");for(const F in l){const g=l[F];if(g.length===0)continue;const A=(0,r.propertyInData)(c,d,F,p.opts.ownProperties);i.setParams({property:F,depsCount:g.length,deps:g.join(", ")}),p.allErrors?c.if(A,()=>{for(const C of g)(0,r.checkReportMissingProp)(i,C)}):(c.if((0,e._)`${A} && (${(0,r.checkMissingProp)(i,g,h)})`),(0,r.reportMissingProp)(i,h),c.else())}}t.validatePropertyDeps=o;function s(i,l=i.schema){const{gen:c,data:d,keyword:p,it:h}=i,F=c.name("valid");for(const g in l)(0,u.alwaysValidSchema)(h,l[g])||(c.if((0,r.propertyInData)(c,d,g,h.opts.ownProperties),()=>{const A=i.subschema({keyword:p,schemaProp:g},F);i.mergeValidEvaluated(A,F)},()=>c.var(F,!0)),i.ok(F))}t.validateSchemaDeps=s,t.default=n})(Lm);var T0={};Object.defineProperty(T0,"__esModule",{value:!0});const Um=Dt,w8=ht,S8={message:"property name must be valid",params:({params:t})=>(0,Um._)`{propertyName: ${t.propertyName}}`},$8={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:S8,code(t){const{gen:e,schema:u,data:r,it:n}=t;if((0,w8.alwaysValidSchema)(n,u))return;const a=e.name("valid");e.forIn("key",r,o=>{t.setParams({propertyName:o}),t.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},a),e.if((0,Um.not)(a),()=>{t.error(!0),n.allErrors||e.break()})}),t.ok(a)}};T0.default=$8;var Ua={};Object.defineProperty(Ua,"__esModule",{value:!0});const ta=lt,vu=Dt,k8=xu,ua=ht,q8={message:"must NOT have additional properties",params:({params:t})=>(0,vu._)`{additionalProperty: ${t.additionalProperty}}`},T8={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:q8,code(t){const{gen:e,schema:u,parentSchema:r,data:n,errsCount:a,it:o}=t;if(!a)throw new Error("ajv implementation error");const{allErrors:s,opts:i}=o;if(o.props=!0,i.removeAdditional!=="all"&&(0,ua.alwaysValidSchema)(o,u))return;const l=(0,ta.allSchemaProperties)(r.properties),c=(0,ta.allSchemaProperties)(r.patternProperties);d(),t.ok((0,vu._)`${a} === ${k8.default.errors}`);function d(){e.forIn("key",n,A=>{!l.length&&!c.length?F(A):e.if(p(A),()=>F(A))})}function p(A){let C;if(l.length>8){const E=(0,ua.schemaRefOrVal)(o,r.properties,"properties");C=(0,ta.isOwnProperty)(e,E,A)}else l.length?C=(0,vu.or)(...l.map(E=>(0,vu._)`${A} === ${E}`)):C=vu.nil;return c.length&&(C=(0,vu.or)(C,...c.map(E=>(0,vu._)`${(0,ta.usePattern)(t,E)}.test(${A})`))),(0,vu.not)(C)}function h(A){e.code((0,vu._)`delete ${n}[${A}]`)}function F(A){if(i.removeAdditional==="all"||i.removeAdditional&&u===!1){h(A);return}if(u===!1){t.setParams({additionalProperty:A}),t.error(),s||e.break();return}if(typeof u=="object"&&!(0,ua.alwaysValidSchema)(o,u)){const C=e.name("valid");i.removeAdditional==="failing"?(g(A,C,!1),e.if((0,vu.not)(C),()=>{t.reset(),h(A)})):(g(A,C),s||e.if((0,vu.not)(C),()=>e.break()))}}function g(A,C,E){const v={keyword:"additionalProperties",dataProp:A,dataPropType:ua.Type.Str};E===!1&&Object.assign(v,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(v,C)}}};Ua.default=T8;var P0={};Object.defineProperty(P0,"__esModule",{value:!0});const P8=bu,DD=lt,po=ht,fD=Ua,I8={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:u,parentSchema:r,data:n,it:a}=t;a.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&fD.default.code(new P8.KeywordCxt(a,fD.default,"additionalProperties"));const o=(0,DD.allSchemaProperties)(u);for(const d of o)a.definedProperties.add(d);a.opts.unevaluated&&o.length&&a.props!==!0&&(a.props=po.mergeEvaluated.props(e,(0,po.toHash)(o),a.props));const s=o.filter(d=>!(0,po.alwaysValidSchema)(a,u[d]));if(s.length===0)return;const i=e.name("valid");for(const d of s)l(d)?c(d):(e.if((0,DD.propertyInData)(e,n,d,a.opts.ownProperties)),c(d),a.allErrors||e.else().var(i,!0),e.endIf()),t.it.definedProperties.add(d),t.ok(i);function l(d){return a.opts.useDefaults&&!a.compositeRule&&u[d].default!==void 0}function c(d){t.subschema({keyword:"properties",schemaProp:d,dataProp:d},i)}}};P0.default=I8;var I0={};Object.defineProperty(I0,"__esModule",{value:!0});const dD=lt,ra=Dt,pD=ht,hD=ht,O8={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:u,data:r,parentSchema:n,it:a}=t,{opts:o}=a,s=(0,dD.allSchemaProperties)(u),i=s.filter(g=>(0,pD.alwaysValidSchema)(a,u[g]));if(s.length===0||i.length===s.length&&(!a.opts.unevaluated||a.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&n.properties,c=e.name("valid");a.props!==!0&&!(a.props instanceof ra.Name)&&(a.props=(0,hD.evaluatedPropsToName)(e,a.props));const{props:d}=a;p();function p(){for(const g of s)l&&h(g),a.allErrors?F(g):(e.var(c,!0),F(g),e.if(c))}function h(g){for(const A in l)new RegExp(g).test(A)&&(0,pD.checkStrictMode)(a,`property ${A} matches pattern ${g} (use allowMatchingProperties)`)}function F(g){e.forIn("key",r,A=>{e.if((0,ra._)`${(0,dD.usePattern)(t,g)}.test(${A})`,()=>{const C=i.includes(g);C||t.subschema({keyword:"patternProperties",schemaProp:g,dataProp:A,dataPropType:hD.Type.Str},c),a.opts.unevaluated&&d!==!0?e.assign((0,ra._)`${d}[${A}]`,!0):!C&&!a.allErrors&&e.if((0,ra.not)(c),()=>e.break())})})}}};I0.default=O8;var O0={};Object.defineProperty(O0,"__esModule",{value:!0});const R8=ht,x8={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:u,it:r}=t;if((0,R8.alwaysValidSchema)(r,u)){t.fail();return}const n=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),t.failResult(n,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};O0.default=x8;var R0={};Object.defineProperty(R0,"__esModule",{value:!0});const j8=lt,N8={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:j8.validateUnion,error:{message:"must match a schema in anyOf"}};R0.default=N8;var x0={};Object.defineProperty(x0,"__esModule",{value:!0});const va=Dt,M8=ht,L8={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,va._)`{passingSchemas: ${t.passing}}`},U8={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:L8,code(t){const{gen:e,schema:u,parentSchema:r,it:n}=t;if(!Array.isArray(u))throw new Error("ajv implementation error");if(n.opts.discriminator&&r.discriminator)return;const a=u,o=e.let("valid",!1),s=e.let("passing",null),i=e.name("_valid");t.setParams({passing:s}),e.block(l),t.result(o,()=>t.reset(),()=>t.error(!0));function l(){a.forEach((c,d)=>{let p;(0,M8.alwaysValidSchema)(n,c)?e.var(i,!0):p=t.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},i),d>0&&e.if((0,va._)`${i} && ${o}`).assign(o,!1).assign(s,(0,va._)`[${s}, ${d}]`).else(),e.if(i,()=>{e.assign(o,!0),e.assign(s,d),p&&t.mergeEvaluated(p,va.Name)})})}}};x0.default=U8;var j0={};Object.defineProperty(j0,"__esModule",{value:!0});const V8=ht,W8={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:u,it:r}=t;if(!Array.isArray(u))throw new Error("ajv implementation error");const n=e.name("valid");u.forEach((a,o)=>{if((0,V8.alwaysValidSchema)(r,a))return;const s=t.subschema({keyword:"allOf",schemaProp:o},n);t.ok(n),t.mergeEvaluated(s)})}};j0.default=W8;var N0={};Object.defineProperty(N0,"__esModule",{value:!0});const Ia=Dt,Vm=ht,z8={message:({params:t})=>(0,Ia.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,Ia._)`{failingKeyword: ${t.ifClause}}`},G8={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:z8,code(t){const{gen:e,parentSchema:u,it:r}=t;u.then===void 0&&u.else===void 0&&(0,Vm.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const n=FD(r,"then"),a=FD(r,"else");if(!n&&!a)return;const o=e.let("valid",!0),s=e.name("_valid");if(i(),t.reset(),n&&a){const c=e.let("ifClause");t.setParams({ifClause:c}),e.if(s,l("then",c),l("else",c))}else n?e.if(s,l("then")):e.if((0,Ia.not)(s),l("else"));t.pass(o,()=>t.error(!0));function i(){const c=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);t.mergeEvaluated(c)}function l(c,d){return()=>{const p=t.subschema({keyword:c},s);e.assign(o,s),t.mergeValidEvaluated(p,o),d?e.assign(d,(0,Ia._)`${c}`):t.setParams({ifClause:c})}}}};function FD(t,e){const u=t.schema[e];return u!==void 0&&!(0,Vm.alwaysValidSchema)(t,u)}N0.default=G8;var M0={};Object.defineProperty(M0,"__esModule",{value:!0});const H8=ht,J8={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:u}){e.if===void 0&&(0,H8.checkStrictMode)(u,`"${t}" without "if" is ignored`)}};M0.default=J8;Object.defineProperty(S0,"__esModule",{value:!0});const Z8=rn,K8=$0,Q8=nn,Y8=k0,X8=q0,e3=Lm,t3=T0,u3=Ua,r3=P0,n3=I0,a3=O0,o3=R0,s3=x0,i3=j0,c3=N0,l3=M0;function D3(t=!1){const e=[a3.default,o3.default,s3.default,i3.default,c3.default,l3.default,t3.default,u3.default,e3.default,r3.default,n3.default];return t?e.push(K8.default,Y8.default):e.push(Z8.default,Q8.default),e.push(X8.default),e}S0.default=D3;var L0={},U0={};Object.defineProperty(U0,"__esModule",{value:!0});const xt=Dt,f3={message:({schemaCode:t})=>(0,xt.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,xt._)`{format: ${t}}`},d3={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:f3,code(t,e){const{gen:u,data:r,$data:n,schema:a,schemaCode:o,it:s}=t,{opts:i,errSchemaPath:l,schemaEnv:c,self:d}=s;if(!i.validateFormats)return;n?p():h();function p(){const F=u.scopeValue("formats",{ref:d.formats,code:i.code.formats}),g=u.const("fDef",(0,xt._)`${F}[${o}]`),A=u.let("fType"),C=u.let("format");u.if((0,xt._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>u.assign(A,(0,xt._)`${g}.type || "string"`).assign(C,(0,xt._)`${g}.validate`),()=>u.assign(A,(0,xt._)`"string"`).assign(C,g)),t.fail$data((0,xt.or)(E(),v()));function E(){return i.strictSchema===!1?xt.nil:(0,xt._)`${o} && !${C}`}function v(){const S=c.$async?(0,xt._)`(${g}.async ? await ${C}(${r}) : ${C}(${r}))`:(0,xt._)`${C}(${r})`,q=(0,xt._)`(typeof ${C} == "function" ? ${S} : ${C}.test(${r}))`;return(0,xt._)`${C} && ${C} !== true && ${A} === ${e} && !${q}`}}function h(){const F=d.formats[a];if(!F){E();return}if(F===!0)return;const[g,A,C]=v(F);g===e&&t.pass(S());function E(){if(i.strictSchema===!1){d.logger.warn(q());return}throw new Error(q());function q(){return`unknown format "${a}" ignored in schema at path "${l}"`}}function v(q){const _=q instanceof RegExp?(0,xt.regexpCode)(q):i.code.formats?(0,xt._)`${i.code.formats}${(0,xt.getProperty)(a)}`:void 0,T=u.scopeValue("formats",{key:a,ref:q,code:_});return typeof q=="object"&&!(q instanceof RegExp)?[q.type||"string",q.validate,(0,xt._)`${T}.validate`]:["string",q,T]}function S(){if(typeof F=="object"&&!(F instanceof RegExp)&&F.async){if(!c.$async)throw new Error("async format in sync schema");return(0,xt._)`await ${C}(${r})`}return typeof A=="function"?(0,xt._)`${C}(${r})`:(0,xt._)`${C}.test(${r})`}}}};U0.default=d3;Object.defineProperty(L0,"__esModule",{value:!0});const p3=U0,h3=[p3.default];L0.default=h3;var un={};Object.defineProperty(un,"__esModule",{value:!0});un.contentVocabulary=un.metadataVocabulary=void 0;un.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];un.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(d0,"__esModule",{value:!0});const F3=p0,m3=F0,E3=S0,C3=L0,mD=un,A3=[F3.default,m3.default,(0,E3.default)(),C3.default,mD.metadataVocabulary,mD.contentVocabulary];d0.default=A3;var V0={},Wm={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))})(Wm);Object.defineProperty(V0,"__esModule",{value:!0});const Gr=Dt,Yc=Wm,ED=su,v3=ht,y3={message:({params:{discrError:t,tagName:e}})=>t===Yc.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:u}})=>(0,Gr._)`{error: ${t}, tag: ${u}, tagValue: ${e}}`},g3={keyword:"discriminator",type:"object",schemaType:"object",error:y3,code(t){const{gen:e,data:u,schema:r,parentSchema:n,it:a}=t,{oneOf:o}=n;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const s=r.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const i=e.let("valid",!1),l=e.const("tag",(0,Gr._)`${u}${(0,Gr.getProperty)(s)}`);e.if((0,Gr._)`typeof ${l} == "string"`,()=>c(),()=>t.error(!1,{discrError:Yc.DiscrError.Tag,tag:l,tagName:s})),t.ok(i);function c(){const h=p();e.if(!1);for(const F in h)e.elseIf((0,Gr._)`${l} === ${F}`),e.assign(i,d(h[F]));e.else(),t.error(!1,{discrError:Yc.DiscrError.Mapping,tag:l,tagName:s}),e.endIf()}function d(h){const F=e.name("valid"),g=t.subschema({keyword:"oneOf",schemaProp:h},F);return t.mergeEvaluated(g,Gr.Name),F}function p(){var h;const F={},g=C(n);let A=!0;for(let S=0;S<o.length;S++){let q=o[S];q!=null&&q.$ref&&!(0,v3.schemaHasRulesButRef)(q,a.self.RULES)&&(q=ED.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,q==null?void 0:q.$ref),q instanceof ED.SchemaEnv&&(q=q.schema));const _=(h=q==null?void 0:q.properties)===null||h===void 0?void 0:h[s];if(typeof _!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);A=A&&(g||C(q)),E(_,S)}if(!A)throw new Error(`discriminator: "${s}" must be required`);return F;function C({required:S}){return Array.isArray(S)&&S.includes(s)}function E(S,q){if(S.const)v(S.const,q);else if(S.enum)for(const _ of S.enum)v(_,q);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function v(S,q){if(typeof S!="string"||S in F)throw new Error(`discriminator: "${s}" values must be unique strings`);F[S]=q}}}};V0.default=g3;const b3="http://json-schema.org/draft-07/schema#",B3="http://json-schema.org/draft-07/schema#",_3="Core schema meta-schema",w3={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},S3=["object","boolean"],$3={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},k3={$schema:b3,$id:B3,title:_3,definitions:w3,type:S3,properties:$3,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const u=lm,r=d0,n=V0,a=k3,o=["/properties"],s="http://json-schema.org/draft-07/schema";class i extends u.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(F=>this.addVocabulary(F)),this.opts.discriminator&&this.addKeyword(n.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const F=this.opts.$data?this.$dataMetaSchema(a,o):a;this.addMetaSchema(F,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}t.exports=e=i,Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var l=bu;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=Dt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var d=Rn;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return d.default}});var p=xn;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return p.default}})})(Gc,Gc.exports);var q3=Gc.exports;const T3="Root",P3="object",I3="Root Element",O3={base64String:{type:"string",pattern:"^[A-Za-z0-9/+=]*$"},tagString:{type:"string",pattern:"^[a-z][a-z0-9]*(:.+)?$"}},R3={id:{type:"string"},metadata:{type:"object",properties:{selectors:{type:"object",additionalProperties:{type:"string"}}},required:["selectors"],additionalProperties:!1},tags:{type:"array",items:{type:"string",$ref:"#/definitions/tagString"}},enums:{type:"object",properties:{ids:{$ref:"#/definitions/base64String"},wordLike:{$ref:"#/definitions/base64String"},notWordLike:{$ref:"#/definitions/base64String"},scopeBits:{$ref:"#/definitions/base64String"},graftTypes:{$ref:"#/definitions/base64String"}},required:["ids","wordLike","notWordLike","scopeBits","graftTypes"],additionalProperties:!1},docs:{type:"object",propertyNames:{type:"string"},additionalProperties:{type:"object",properties:{sequences:{type:"object",additionalProperties:{type:"object",properties:{type:{type:"string"},blocks:{type:"array",items:{type:"object",properties:{bs:{type:"string"},bg:{type:"string"},c:{type:"string"},is:{type:"string"},os:{type:"string"},nt:{type:"string"}},required:["bs","bg","c","is","os","nt"],additionalProperties:!1}},tags:{type:"array",items:{type:"string",$ref:"#/definitions/tagString"}},chapters:{type:"object",additionalProperties:{type:"string"}},chapterVerses:{type:"object",additionalProperties:{type:"string"}},tokensPresent:{type:"string"}},required:["blocks","tags"],additionalProperties:!1}},headers:{type:"object",additionalProperties:{type:"string"}},mainId:{type:"string"},tags:{type:"array",items:{type:"string",$ref:"#/definitions/tagString"}}},required:["sequences","headers","mainId","tags"],additionalProperties:!1}},additionalProperties:!1},x3=["id","enums","docs","tags"],j3=!1,N3={title:T3,type:P3,description:I3,definitions:O3,properties:R3,required:x3,additionalProperties:j3},M3="version 0.1.0",L3="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/document_structure.json",U3="Document (Structure)",V3="A document, typically corresponding to a single USFM or USX book",W3="object",z3={schema:{type:"object",properties:{structure:{description:"The basic 'shape' of the content",type:"string",enum:["flat","nested"]},structure_version:{description:"the semantic version of the structure schema",type:"string"},constraints:{type:"array",items:{type:"object",properties:{name:{type:"string",enum:["perf","sofria"]},version:{description:"the semantic version of the constraint schema",type:"string"}},additionalProperties:!1,required:["name","version"]}}},required:["structure","structure_version","constraints"],additionalProperties:!1},metadata:{description:"Metadata describing the document and the translation it belongs to",type:"object",properties:{translation:{type:"object",description:"Metadata concerning the translation to which the document belongs",properties:{tags:{description:"Tags attached to the translation",type:"array",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the translation",additionalProperties:{type:"string"}},selectors:{type:"object",description:"Proskomma selectors for the translation that, together, provide a primary key in the translation store",additionalProperties:{type:"string"}}},additionalProperties:{type:"string"},required:["id"]},document:{type:"object",description:"Metadata concerning the document itself",properties:{tags:{type:"array",description:"Tags attached to the document",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the document",additionalProperties:{type:"string"}},chapters:{type:"string",pattern:"^[1-9][0-9]*(-[1-9][0-9]*)?$"}},additionalProperties:{type:"string"}}},additionalProperties:!1},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./sequence_structure.json"}},sequence:{$ref:"./sequence_structure.json"},main_sequence_id:{type:"string"}},G3=["schema","metadata"],H3=!1,J3={required:["sequences","main_sequence_id"],not:{required:["sequence"]}},Z3={$comment:M3,$id:L3,title:U3,description:V3,type:W3,properties:z3,required:G3,additionalProperties:H3,if:{properties:{schema:{type:"object",properties:{structure:{enum:["flat"]}}}}},then:J3,else:{required:["sequence"],allOf:[{not:{required:["sequences"]}},{not:{required:["main_sequence_id"]}}]}},K3="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/sequence_structure.json",Q3="Sequence (Structure)",Y3="A sequence contains a 'flow' of one or more blocks",X3="object",eb={type:{description:"The type of sequence",type:"string"},preview_text:{description:"An optional field to provide some kind of printable label",type:"string"},blocks:{type:"array",description:"The blocks that, together, represent the 'flow' of the sequence",items:{$ref:"./block_structure.json"}}},tb=["type"],ub=!1,rb={$id:K3,title:Q3,description:Y3,type:X3,properties:eb,required:tb,additionalProperties:ub},nb="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/block_structure.json",ab="Block (Structure)",ob="A block, which represents either a paragraph of text or a graft",sb="object",ib={type:{type:"string",description:"The type of block",enum:["paragraph","graft"]},subtype:{description:"A type-specific subtype",type:"string"},target:{description:"The id of the sequence containing graft content",type:"string"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{description:"If present and true, is interpreted as a request for the server to create a new graft",type:"boolean"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},content:{type:"array",description:"The content of the block",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}}},cb=["type"],lb=!1,Db={required:["content"],allOf:[{not:{required:["new"]}},{not:{required:["preview_text"]}},{not:{required:["target"]}}]},fb={$id:nb,title:ab,description:ob,type:sb,properties:ib,required:cb,additionalProperties:lb,if:{properties:{type:{enum:["paragraph"]}}},then:Db,else:{if:{required:["new"],properties:{new:{enum:[!0]}}},then:{allOf:[{oneOf:[{required:["subtype"]},{required:["sequence"]}]},{not:{required:["target"]}},{not:{required:["preview_text"]}},{not:{required:["content"]}}]},else:{oneOf:[{required:["target"]},{required:["sequence"]}]}}},db="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/contentElement_structure.json",pb="Content Element (Structure)",hb="A content element, ie some form of (possibly nested) markup",Fb="object",mb={type:{type:"string",description:"The type of element",enum:["mark","wrapper","start_milestone","end_milestone","graft"]},subtype:{description:"The subtype of the element, which is context-dependent",type:"string"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},target:{type:"string",description:"The id of the sequence containing graft content"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{type:"boolean",description:"If present and true, is interpreted as a request for the server to create a new graft"},content:{type:"array",description:"Nested content within the content element",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},meta_content:{type:"array",description:"Non-Scripture content related to the content element, such as checking data or related resources",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}}},Eb=["type"],Cb=!1,Ab={$id:db,title:pb,description:hb,type:Fb,properties:mb,required:Eb,additionalProperties:Cb},vb="version 0.2.0",yb="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_document_constraint.json",gb="object",bb={sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./perf_sequence_constraint.json"}}},Bb={$comment:vb,$id:yb,type:gb,properties:bb},_b="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_sequence_constraint.json",wb="object",Sb={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./perf_block_constraint.json"}}},$b={$id:_b,type:wb,properties:Sb},kb="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_block_constraint.json",qb="object",Tb={type:{type:"string",enum:["paragraph","graft"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}},Pb={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},Ib={$id:kb,type:qb,properties:Tb,if:{properties:{type:{enum:["graft"]}}},then:Pb,else:{properties:{subtype:{type:"string",pattern:"^usfm:"}}}},Ob="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_contentElement_constraint.json",Rb="object",xb=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["target"]},{required:["preview_text"]}]}},else:{required:["target"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter","verses"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],jb={$id:Ob,type:Rb,allOf:xb},Nb="version 0.2.0",Mb="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_document_constraint.json",Lb="object",Ub={sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./sofria_sequence_constraint.json"}}},Vb={$comment:Nb,$id:Mb,type:Lb,properties:Ub},Wb="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_sequence_constraint.json",zb="object",Gb={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./sofria_block_constraint.json"}}},Hb={$id:Wb,type:zb,properties:Gb},Jb="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_block_constraint.json",Zb="object",Kb={type:{type:"string",enum:["paragraph","graft"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}},Qb={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},Yb={$id:Jb,type:Zb,properties:Kb,if:{properties:{type:{enum:["graft"]}}},then:Qb,else:{properties:{subtype:{type:"string",pattern:"^usfm:"}}}},Xb="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_contentElement_constraint.json",eB="object",tB=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["block"]},{required:["preview_text"]}]}},else:{required:["block"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter_label","verses_label"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content","chapter","verses"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],uB={$id:Xb,type:eB,allOf:tB},rB="version 0.1.0",nB="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/document_structure.json",aB="Document (Structure)",oB="A document, typically corresponding to a single USFM or USX book",sB="object",iB={schema:{type:"object",properties:{structure:{description:"The basic 'shape' of the content",type:"string",enum:["flat","nested"]},structure_version:{description:"the semantic version of the structure schema",type:"string"},constraints:{type:"array",items:{type:"object",properties:{name:{type:"string",enum:["perf","sofria"]},version:{description:"the semantic version of the constraint schema",type:"string"}},additionalProperties:!1,required:["name","version"]}}},required:["structure","structure_version","constraints"],additionalProperties:!1},metadata:{description:"Metadata describing the document and the translation it belongs to",type:"object",properties:{translation:{type:"object",description:"Metadata concerning the translation to which the document belongs",properties:{tags:{description:"Tags attached to the translation",type:"array",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the translation",additionalProperties:{type:"string"}},selectors:{type:"object",description:"Proskomma selectors for the translation that, together, provide a primary key in the translation store",additionalProperties:{type:"string"}}},additionalProperties:{type:"string"},required:["id"]},document:{type:"object",description:"Metadata concerning the document itself",properties:{tags:{type:"array",description:"Tags attached to the document",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the document",additionalProperties:{type:"string"}},chapters:{type:"string",pattern:"^[1-9][0-9]*(-[1-9][0-9]*)?$"}},additionalProperties:{type:"string"}}},additionalProperties:!1},hooks:{type:"array",$ref:"./hook_structure.json"},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./sequence_structure.json"}},sequence:{$ref:"./sequence_structure.json"},main_sequence_id:{type:"string"}},cB=["schema","metadata"],lB=!1,DB={required:["sequences","main_sequence_id"],not:{required:["sequence"]}},fB={$comment:rB,$id:nB,title:aB,description:oB,type:sB,properties:iB,required:cB,additionalProperties:lB,if:{properties:{schema:{type:"object",properties:{structure:{enum:["flat"]}}}}},then:DB,else:{required:["sequence"],allOf:[{not:{required:["sequences"]}},{not:{required:["main_sequence_id"]}}]}},dB="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/sequence_structure.json",pB="Sequence (Structure)",hB="A sequence contains a 'flow' of one or more blocks",FB="object",mB={type:{description:"The type of sequence",type:"string"},preview_text:{description:"An optional field to provide some kind of printable label",type:"string"},blocks:{type:"array",description:"The blocks that, together, represent the 'flow' of the sequence",items:{$ref:"./block_structure.json"}},hooks:{type:"array",$ref:"./hook_structure.json"}},EB=["type"],CB=!1,AB={$id:dB,title:pB,description:hB,type:FB,properties:mB,required:EB,additionalProperties:CB},vB="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/block_structure.json",yB="Block (Structure)",gB="A block, which represents either a paragraph of text or a graft",bB="object",BB={type:{type:"string",description:"The type of block",enum:["paragraph","row","node","lookup","graft"]},subtype:{description:"A type-specific subtype",type:"string"},target:{description:"The id of the sequence containing graft content",type:"string"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{description:"If present and true, is interpreted as a request for the server to create a new graft",type:"boolean"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},content:{type:"array",description:"The content of the block",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},hooks:{type:"array",$ref:"./hook_structure.json"}},_B=["type"],wB=!1,SB={required:["content"],allOf:[{not:{required:["new"]}},{not:{required:["preview_text"]}},{not:{required:["target"]}}]},$B={$id:vB,title:yB,description:gB,type:bB,properties:BB,required:_B,additionalProperties:wB,if:{properties:{type:{enum:["paragraph","row","node","lookup"]}}},then:SB,else:{if:{required:["new"],properties:{new:{enum:[!0]}}},then:{allOf:[{oneOf:[{required:["subtype"]},{required:["sequence"]}]},{not:{required:["target"]}},{not:{required:["preview_text"]}},{not:{required:["content"]}}]},else:{oneOf:[{required:["target"]},{required:["sequence"]}]}}},kB="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/contentElement_structure.json",qB="Content Element (Structure)",TB="A content element, ie some form of (possibly nested) markup",PB="object",IB={type:{type:"string",description:"The type of element",enum:["mark","wrapper","start_milestone","end_milestone","graft"]},subtype:{description:"The subtype of the element, which is context-dependent",type:"string"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},target:{type:"string",description:"The id of the sequence containing graft content"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{type:"boolean",description:"If present and true, is interpreted as a request for the server to create a new graft"},content:{type:"array",description:"Nested content within the content element",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},meta_content:{type:"array",description:"Non-Scripture content related to the content element, such as checking data or related resources",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},hooks:{type:"array",$ref:"./hook_structure.json"}},OB=["type"],RB=!1,xB={$id:kB,title:qB,description:TB,type:PB,properties:IB,required:OB,additionalProperties:RB},jB="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/hook_structure.json",NB="Hook (Structure)",MB="Hooks, ie typed labels that may be used to link documents",LB="array",UB={type:"array",items:[{type:"string",oneOf:[{enum:["bcv_ref","book_ref"]},{pattern:"^x-(app|publisher)-[a-z][a-z0-9]+-\\S{2,256}$"},{pattern:"^x-local-\\S{2,256}$"}]},{type:"string",oneOf:[{enum:["label"]},{pattern:"^\\w{1,255}$"}]}],minItems:2,maxItems:2},VB={$id:jB,title:NB,description:MB,type:LB,items:UB},WB="version 0.3.0",zB="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_document_constraint.json",GB="object",HB={hooks:{type:"array"},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./perf_sequence_constraint.json"}}},JB={$comment:WB,$id:zB,type:GB,properties:HB},ZB="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_sequence_constraint.json",KB="object",QB={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./perf_block_constraint.json"}}},YB={$id:ZB,type:KB,properties:QB},XB="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_block_constraint.json",e6="object",t6={type:{type:"string",enum:["paragraph","graft","row","node","lookup"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}},u6={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},r6={$id:XB,type:e6,properties:t6,if:{properties:{type:{enum:["graft"]}}},then:u6,else:{if:{properties:{type:{enum:["row"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["row:heading","row:body"]}]}}},else:{if:{properties:{type:{enum:["node"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["node"]},{pattern:"^x-\\S{1,256}$"}]},atts:{type:"object",properties:{id:{type:"string"},parent:{type:"string"},children:{type:"array",items:{type:"string"}}},required:["id"],additionalProperties:!1}}},else:{if:{properties:{type:{enum:["lookup"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["lookup"]},{pattern:"^x-\\S{1,256}$"}]},atts:{type:"object",properties:{primary:{type:"string"},secondary:{type:"array",items:{type:"string"}}},required:["primary"],additionalProperties:!1}}},else:{properties:{subtype:{type:"string",oneOf:[{pattern:"^usfm:"},{pattern:"^x-\\S{1,256}$"}]}}}}}}},n6="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_contentElement_constraint.json",a6="object",o6=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["target"]},{required:["preview_text"]}]}},else:{required:["target"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter","verses","alt_chapter","alt_verse","pub_chapter","pub_verse"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],s6={$id:n6,type:a6,allOf:o6},i6="version 0.3.0",c6="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_document_constraint.json",l6="object",D6={sequence:{$ref:"./sofria_sequence_constraint.json"}},f6={$comment:i6,$id:c6,type:l6,properties:D6},d6="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_sequence_constraint.json",p6="object",h6={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./sofria_block_constraint.json"}}},F6={$id:d6,type:p6,properties:h6},m6="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_block_constraint.json",E6="object",C6={type:{type:"string",enum:["paragraph","graft"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}},A6={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},v6={$id:m6,type:E6,properties:C6,if:{properties:{type:{enum:["graft"]}}},then:A6,else:{properties:{subtype:{type:"string",pattern:"^usfm:"}}}},y6="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_contentElement_constraint.json",g6="object",b6=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["blocks"]},{required:["preview_text"]}]}},else:{required:["sequence"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter_label","verses_label","alt_chapter","alt_verse","pub_chapter","pub_verse"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content","chapter","verses"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],B6={$id:y6,type:g6,allOf:b6},_6="version 0.1.0",w6="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_4_0/document_structure.json",S6="Document (Structure)",$6="A document, typically corresponding to a single USFM or USX book",k6="object",q6={schema:{type:"object",properties:{structure:{description:"The basic 'shape' of the content",type:"string",enum:["flat","nested"]},structure_version:{description:"the semantic version of the structure schema",type:"string"},constraints:{type:"array",items:{type:"object",properties:{name:{type:"string",enum:["perf","sofria"]},version:{description:"the semantic version of the constraint schema",type:"string"}},additionalProperties:!1,required:["name","version"]}}},required:["structure","structure_version","constraints"],additionalProperties:!1},metadata:{description:"Metadata describing the document and the translation it belongs to",type:"object",properties:{translation:{type:"object",description:"Metadata concerning the translation to which the document belongs",properties:{tags:{description:"Tags attached to the translation",type:"array",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the translation",additionalProperties:{type:"string"}},selectors:{type:"object",description:"Proskomma selectors for the translation that, together, provide a primary key in the translation store",additionalProperties:{type:"string"}}},additionalProperties:{type:"string"},required:["id"]},document:{type:"object",description:"Metadata concerning the document itself",properties:{tags:{type:"array",description:"Tags attached to the document",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the document",additionalProperties:{type:"string"}},chapters:{type:"string",pattern:"^[1-9][0-9]*(-[1-9][0-9]*)?$"}},additionalProperties:{type:"string"}}},additionalProperties:!1},hooks:{type:"array",$ref:"./hook_structure.json"},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./sequence_structure.json"}},sequence:{$ref:"./sequence_structure.json"},main_sequence_id:{type:"string"}},T6=["schema","metadata"],P6=!1,I6={required:["sequences","main_sequence_id"],not:{required:["sequence"]}},O6={$comment:_6,$id:w6,title:S6,description:$6,type:k6,properties:q6,required:T6,additionalProperties:P6,if:{properties:{schema:{type:"object",properties:{structure:{enum:["flat"]}}}}},then:I6,else:{required:["sequence"],allOf:[{not:{required:["sequences"]}},{not:{required:["main_sequence_id"]}}]}},R6="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_4_0/sequence_structure.json",x6="Sequence (Structure)",j6="A sequence contains a 'flow' of one or more blocks",N6="object",M6={type:{description:"The type of sequence",type:"string"},preview_text:{description:"An optional field to provide some kind of printable label",type:"string"},blocks:{type:"array",description:"The blocks that, together, represent the 'flow' of the sequence",items:{$ref:"./block_structure.json"}},hooks:{type:"array",$ref:"./hook_structure.json"}},L6=["type"],U6=!1,V6={$id:R6,title:x6,description:j6,type:N6,properties:M6,required:L6,additionalProperties:U6},W6="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_4_0/block_structure.json",z6="Block (Structure)",G6="A block, which represents either a paragraph of text or a graft",H6="object",J6={type:{type:"string",description:"The type of block",enum:["paragraph","row","graft"]},subtype:{description:"A type-specific subtype",type:"string"},target:{description:"The id of the sequence containing graft content",type:"string"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{description:"If present and true, is interpreted as a request for the server to create a new graft",type:"boolean"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},content:{type:"array",description:"The content of the block",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},hooks:{type:"array",$ref:"./hook_structure.json"}},Z6=["type"],K6=!1,Q6={required:["content"],allOf:[{not:{required:["new"]}},{not:{required:["preview_text"]}},{not:{required:["target"]}}]},Y6={$id:W6,title:z6,description:G6,type:H6,properties:J6,required:Z6,additionalProperties:K6,if:{properties:{type:{enum:["paragraph","row"]}}},then:Q6,else:{if:{required:["new"],properties:{new:{enum:[!0]}}},then:{allOf:[{oneOf:[{required:["subtype"]},{required:["sequence"]}]},{not:{required:["target"]}},{not:{required:["preview_text"]}},{not:{required:["content"]}}]},else:{oneOf:[{required:["target"]},{required:["sequence"]}]}}},X6="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_4_0/contentElement_structure.json",e_="Content Element (Structure)",t_="A content element, ie some form of (possibly nested) markup",u_="object",r_={type:{type:"string",description:"The type of element",enum:["mark","wrapper","start_milestone","end_milestone","graft"]},subtype:{description:"The subtype of the element, which is context-dependent",type:"string"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"},{type:"number"}]}},target:{type:"string",description:"The id of the sequence containing graft content"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{type:"boolean",description:"If present and true, is interpreted as a request for the server to create a new graft"},content:{type:"array",description:"Nested content within the content element",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},meta_content:{type:"array",description:"Non-Scripture content related to the content element, such as checking data or related resources",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},hooks:{type:"array",$ref:"./hook_structure.json"}},n_=["type"],a_=!1,o_={$id:X6,title:e_,description:t_,type:u_,properties:r_,required:n_,additionalProperties:a_},s_="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_4_0/hook_structure.json",i_="Hook (Structure)",c_="Hooks, ie typed labels that may be used to link documents",l_="array",D_={type:"array",items:[{type:"string",oneOf:[{enum:["bcv_ref","book_ref"]},{pattern:"^x-(app|publisher)-[a-z][a-z0-9]+-\\S{2,256}$"},{pattern:"^x-local-\\S{2,256}$"}]},{type:"string",oneOf:[{enum:["label"]},{pattern:"^\\w{1,255}$"}]}],minItems:2,maxItems:2},f_={$id:s_,title:i_,description:c_,type:l_,items:D_},d_="version 0.3.0",p_="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_4_0/perf_document_constraint.json",h_="object",F_={hooks:{type:"array"},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./perf_sequence_constraint.json"}}},m_={$comment:d_,$id:p_,type:h_,properties:F_},E_="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_4_0/perf_sequence_constraint.json",C_="object",A_={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./perf_block_constraint.json"}}},v_={$id:E_,type:C_,properties:A_},y_="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_4_0/perf_block_constraint.json",g_="object",b_={type:{type:"string",enum:["paragraph","graft","row","node","lookup"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}},B_={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},__={$id:y_,type:g_,properties:b_,if:{properties:{type:{enum:["graft"]}}},then:B_,else:{if:{properties:{type:{enum:["row"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["row:heading","row:body"]}]}}},else:{if:{properties:{type:{enum:["node"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["node"]},{pattern:"^x-\\S{1,256}$"}]},atts:{type:"object",properties:{id:{type:"string"},parent:{type:"string"},children:{type:"array",items:{type:"string"}}},required:["id"],additionalProperties:!1}}},else:{if:{properties:{type:{enum:["lookup"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["lookup"]},{pattern:"^x-\\S{1,256}$"}]},atts:{type:"object",properties:{primary:{type:"string"},secondary:{type:"array",items:{type:"string"}}},required:["primary"],additionalProperties:!1}}},else:{properties:{subtype:{type:"string",oneOf:[{pattern:"^usfm:"},{pattern:"^x-\\S{1,256}$"}]}}}}}}},w_="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_4_0/perf_contentElement_constraint.json",S_="object",$_=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["target"]},{required:["preview_text"]}]}},else:{required:["target"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter","verses","alt_chapter","alt_verse","pub_chapter","pub_verse"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],k_={$id:w_,type:S_,allOf:$_},q_="version 0.3.0",T_="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_4_0/sofria_document_constraint.json",P_="object",I_={sequence:{$ref:"./sofria_sequence_constraint.json"}},O_={$comment:q_,$id:T_,type:P_,properties:I_},R_="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_4_0/sofria_sequence_constraint.json",x_="object",j_={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./sofria_block_constraint.json"}}},N_={$id:R_,type:x_,properties:j_},M_="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_4_0/sofria_block_constraint.json",L_="object",U_={type:{type:"string",enum:["paragraph","graft","row"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}},V_={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},W_={$id:M_,type:L_,properties:U_,if:{properties:{type:{enum:["graft"]}}},then:V_,else:{if:{properties:{type:{enum:["row"]}}},then:{properties:{subtype:{type:"string",enum:["usfm:tr","pk"]}}},else:{properties:{subtype:{type:"string",pattern:"^usfm:"}}}}},z_="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_4_0/sofria_contentElement_constraint.json",G_="object",H_=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["blocks"]},{required:["preview_text"]}]}},else:{required:["sequence"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter_label","verses_label","alt_chapter","alt_verse","pub_chapter","pub_verse"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content","chapter","verses","cell"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],J_={$id:z_,type:G_,allOf:H_};var Et=q3,Z_=N3,ho=Z3,Pr=rb,Ir=fb,Or=Ab,K_=Bb,CD=$b,AD=Ib,vD=jb,Q_=Vb,yD=Hb,gD=Yb,bD=uB,Fo=fB,Rr=AB,xr=$B,jr=xB,$u=VB,Y_=JB,BD=YB,_D=r6,wD=s6,X_=f6,SD=F6,$D=v6,kD=B6,mo=O6,Nr=V6,Mr=Y6,Lr=o_,ku=f_,e7=m_,qD=v_,TD=__,PD=k_,t7=O_,ID=N_,OD=W_,RD=J_;let u7=class{constructor(){this.schema={structure:{},constraint:{},proskomma:{}};for(var[e,u]of[["succinct",{"0.2.0":[{name:"Proskomma Serialized Succinct",validator:new Et().compile(Z_)}]}]])this.schema.proskomma[e]=u;for(var[r,n]of[["document",{"0.2.1":[{name:"Document Structure",validator:new Et().addSchema(Or).addSchema(Ir).addSchema(Pr).compile(ho)}],"0.3.0":[{name:"Document Structure",validator:new Et().addSchema($u).addSchema(jr).addSchema(xr).addSchema(Rr).compile(Fo)}],"0.4.0":[{name:"Document Structure",validator:new Et().addSchema(ku).addSchema(Lr).addSchema(Mr).addSchema(Nr).compile(mo)}]}],["sequence",{"0.2.1":[{name:"Sequence Structure",validator:new Et().addSchema(Or).addSchema(Ir).compile(Pr)}],"0.3.0":[{name:"Sequence Structure",validator:new Et().addSchema($u).addSchema(jr).addSchema(xr).compile(Rr)}],"0.4.0":[{name:"Sequence Structure",validator:new Et().addSchema(ku).addSchema(Lr).addSchema(Mr).compile(Nr)}]}]])this.schema.structure[r]=n;for(var[a,o]of[["perfDocument",{"0.2.1":[{name:"Document Structure",validator:new Et().addSchema(Or).addSchema(Ir).addSchema(Pr).compile(ho)},{name:"PERF Document",validator:new Et().addSchema(vD).addSchema(AD).addSchema(CD).compile(K_)}],"0.3.0":[{name:"Document Structure",validator:new Et().addSchema($u).addSchema(jr).addSchema(xr).addSchema(Rr).compile(Fo)},{name:"PERF Document",validator:new Et().addSchema($u).addSchema(wD).addSchema(_D).addSchema(BD).compile(Y_)}],"0.4.0":[{name:"Document Structure",validator:new Et().addSchema(ku).addSchema(Lr).addSchema(Mr).addSchema(Nr).compile(mo)},{name:"PERF Document",validator:new Et().addSchema(ku).addSchema(PD).addSchema(TD).addSchema(qD).compile(e7)}]}],["perfSequence",{"0.2.1":[{name:"Sequence Structure",validator:new Et().addSchema(Or).addSchema(Ir).compile(Pr)},{name:"PERF Sequence",validator:new Et().addSchema(vD).addSchema(AD).compile(CD)}],"0.3.0":[{name:"Sequence Structure",validator:new Et().addSchema($u).addSchema(jr).addSchema(xr).compile(Rr)},{name:"PERF Sequence",validator:new Et().addSchema($u).addSchema(wD).addSchema(_D).compile(BD)}],"0.4.0":[{name:"Sequence Structure",validator:new Et().addSchema(ku).addSchema(Lr).addSchema(Mr).compile(Nr)},{name:"PERF Sequence",validator:new Et().addSchema(ku).addSchema(PD).addSchema(TD).compile(qD)}]}],["sofriaDocument",{"0.2.1":[{name:"Document Structure",validator:new Et().addSchema(Or).addSchema(Ir).addSchema(Pr).compile(ho)},{name:"SOFRIA Document",validator:new Et().addSchema(bD).addSchema(gD).addSchema(yD).compile(Q_)}],"0.3.0":[{name:"Document Structure",validator:new Et().addSchema($u).addSchema(jr).addSchema(xr).addSchema(Rr).compile(Fo)},{name:"SOFRIA Document",validator:new Et().addSchema($u).addSchema(kD).addSchema($D).addSchema(SD).compile(X_)}],"0.4.0":[{name:"Document Structure",validator:new Et().addSchema(ku).addSchema(Lr).addSchema(Mr).addSchema(Nr).compile(mo)},{name:"SOFRIA Document",validator:new Et().addSchema(ku).addSchema(RD).addSchema(OD).addSchema(ID).compile(t7)}]}],["sofriaSequence",{"0.2.1":[{name:"Sequence Structure",validator:new Et().addSchema(Or).addSchema(Ir).compile(Pr)},{name:"SOFRIA Sequence",validator:new Et().addSchema(bD).addSchema(gD).compile(yD)}],"0.3.0":[{name:"Sequence Structure",validator:new Et().addSchema($u).addSchema(jr).addSchema(xr).compile(Rr)},{name:"SOFRIA Sequence",validator:new Et().addSchema($u).addSchema(kD).addSchema($D).compile(SD)}],"0.4.0":[{name:"Sequence Structure",validator:new Et().addSchema(ku).addSchema(Lr).addSchema(Mr).compile(Nr)},{name:"SOFRIA Sequence",validator:new Et().addSchema(ku).addSchema(RD).addSchema(OD).compile(ID)}]}]])this.schema.constraint[a]=o}schemaInfo(){var e={};for(var[u,r]of Object.entries(this.schema)){e[u]={};for(var[n,a]of Object.entries(r)){e[u][n]={};for(var[o,s]of Object.entries(a))e[u][n][o]=s.map(i=>i.name)}}return e}validate(e,u,r,n){if(n===void 0)throw new Error("data argument is missing. Usage: validate(schemaType, schemaKey, schemaVersion, data)");if(n===null)throw new Error("Data argument is null");var a=Object.keys(this.schema);if(!a.includes(e))throw new Error("Schema type must be one of ".concat(a.map(c=>"'".concat(c,"'")).join(", "),", not '").concat(e,"'"));if(!this.schema[e][u])throw new Error("Unknown ".concat(e," schema key ").concat(u));if(!this.schema[e][u][r])throw new Error("Unknown version ".concat(r," for ").concat(e," schema key ").concat(u));var o=this.schema[e][u][r],s;for(var{name:i,validator:l}of o)if(s={validatorName:i,isValid:l(n),errors:l.errors},!s.isValid)break;return{requested:{schemaType:e,schemaKey:u,schemaVersion:r},lastSchema:s.validatorName,isValid:s.isValid,errors:s.errors}}};var r7=u7,n7=["qs","qac","litl","lik","liv","fr","fq","fqa","fk","fl","fw","fp","fv","ft","fdc","fm","xo","xk","xq","xt","xta","xop","xot","xnt","xdc","rq","add","bk","dc","k","nd","ord","pn","png","qt","sig","sls","tl","wj","em","bd","it","bdit","no","sc","sup","ior","iqt","th","thr","tc","tcr"],a7=["ms","mr","s","sr","r","qa","sp","sd"],o7=["cd","p","m","po","pr","cls","pmo","pm","pmc","pmr","pi","mi","nb","pc","ph","b","q","qr","qc","qa","qm","qd","lh","li","lf","lim","d"],s7=["imt","is","imte"],i7=["ip","ipi","im","imi","ipq","imq","ipr","iq","ib","ili","iot","io","iex"],c7={characterTags:n7,bodyTags:o7,headingTags:a7,introHeadingTags:s7,introBodyTags:i7},zm=t=>{var e=[];for(var u of t)if(u.tag&&u.tag==="zaln")if(u.children[0].tag==="w")e.push(u);else{var r=zm(u.children),n=r[r.length-1].children;for(var a of[u,...r])a.children=n,e.push(a)}return e},l7=t=>{var e={};for(var[u,r]of Object.entries(t.chapters)){e[u]={};for(var[n,a]of Object.entries(r)){e[u][n]={before:{},after:{}};for(var o of zm(a.verseObjects)){var s="".concat(o.children[0].text,"_").concat(o.children[0].occurrence);s in e[u][n].before||(e[u][n].before[s]=[]);var i={strong:o.strong,lemma:o.lemma,morph:o.morph,occurrence:o.occurrence,occurrences:o.occurrences,content:o.content};e[u][n].before[s].push(i);var l="".concat(o.children[o.children.length-1].text,"_").concat(o.children[o.children.length-1].occurrence);l in e[u][n].after||(e[u][n].after[l]=[]),i={strong:o.strong,lemma:o.lemma,morph:o.morph,occurrence:o.occurrence,occurrences:o.occurrences,content:o.content},e[u][n].after[l].unshift(i)}}}return e},Gm={alignmentLookupFromUsfmJs:l7},Xc={exports:{}},Hm={exports:{}},na=function(t){return t&&t.Math===Math&&t},tu=na(typeof globalThis=="object"&&globalThis)||na(typeof window=="object"&&window)||na(typeof self=="object"&&self)||na(typeof Zr=="object"&&Zr)||function(){return this}()||Zr||Function("return this")(),Vt=function(t){try{return!!t()}catch{return!0}},D7=Vt,Va=!D7(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),f7=Va,Jm=Function.prototype,xD=Jm.apply,jD=Jm.call,Zm=typeof Reflect=="object"&&Reflect.apply||(f7?jD.bind(xD):function(){return jD.apply(xD,arguments)}),Eo,ND;function Nt(){if(ND)return Eo;ND=1;var t=Va,e=Function.prototype,u=e.call,r=t&&e.bind.bind(u,u);return Eo=t?r:function(n){return function(){return u.apply(n,arguments)}},Eo}var Co,MD;function Br(){if(MD)return Co;MD=1;var t=Nt(),e=t({}.toString),u=t("".slice);return Co=function(r){return u(e(r),8,-1)},Co}var d7=Br(),p7=Nt(),W0=function(t){if(d7(t)==="Function")return p7(t)},e0=typeof document=="object"&&document.all,h7=typeof e0>"u"&&e0!==void 0,Km={all:e0,IS_HTMLDDA:h7},Qm=Km,F7=Qm.all,Yt=Qm.IS_HTMLDDA?function(t){return typeof t=="function"||t===F7}:function(t){return typeof t=="function"},z0={},m7=Vt,mu=!m7(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),E7=Va,aa=Function.prototype.call,Bu=E7?aa.bind(aa):function(){return aa.apply(aa,arguments)},G0={},Ym={}.propertyIsEnumerable,Xm=Object.getOwnPropertyDescriptor,C7=Xm&&!Ym.call({1:2},1);G0.f=C7?function(e){var u=Xm(this,e);return!!u&&u.enumerable}:Ym;var Nn=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},A7=Nt(),v7=Vt,y7=Br(),Ao=Object,g7=A7("".split),H0=v7(function(){return!Ao("z").propertyIsEnumerable(0)})?function(t){return y7(t)==="String"?g7(t,""):Ao(t)}:Ao,J0=function(t){return t==null},b7=J0,B7=TypeError,Wa=function(t){if(b7(t))throw new B7("Can't call method on "+t);return t},_7=H0,w7=Wa,nr=function(t){return _7(w7(t))},LD=Yt,eE=Km,S7=eE.all,Wu=eE.IS_HTMLDDA?function(t){return typeof t=="object"?t!==null:LD(t)||t===S7}:function(t){return typeof t=="object"?t!==null:LD(t)},ju={},vo,UD;function zu(){if(UD)return vo;UD=1;var t=ju,e=tu,u=Yt,r=function(n){return u(n)?n:void 0};return vo=function(n,a){return arguments.length<2?r(t[n])||r(e[n]):t[n]&&t[n][a]||e[n]&&e[n][a]},vo}var yo,VD;function Eu(){if(VD)return yo;VD=1;var t=Nt();return yo=t({}.isPrototypeOf),yo}var go,WD;function za(){return WD||(WD=1,go=typeof navigator<"u"&&String(navigator.userAgent)||""),go}var bo,zD;function Mn(){if(zD)return bo;zD=1;var t=tu,e=za(),u=t.process,r=t.Deno,n=u&&u.versions||r&&r.version,a=n&&n.v8,o,s;return a&&(o=a.split("."),s=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!s&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(s=+o[1]))),bo=s,bo}var Bo,GD;function an(){if(GD)return Bo;GD=1;var t=Mn(),e=Vt,u=tu,r=u.String;return Bo=!!Object.getOwnPropertySymbols&&!e(function(){var n=Symbol("symbol detection");return!r(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&t&&t<41}),Bo}var _o,HD;function tE(){if(HD)return _o;HD=1;var t=an();return _o=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",_o}var $7=zu(),k7=Yt,q7=Eu(),T7=tE(),P7=Object,Ln=T7?function(t){return typeof t=="symbol"}:function(t){var e=$7("Symbol");return k7(e)&&q7(e.prototype,P7(t))},I7=String,Ga=function(t){try{return I7(t)}catch{return"Object"}},O7=Yt,R7=Ga,x7=TypeError,on=function(t){if(O7(t))return t;throw new x7(R7(t)+" is not a function")},j7=on,N7=J0,Z0=function(t,e){var u=t[e];return N7(u)?void 0:j7(u)},wo=Bu,So=Yt,$o=Wu,M7=TypeError,L7=function(t,e){var u,r;if(e==="string"&&So(u=t.toString)&&!$o(r=wo(u,t))||So(u=t.valueOf)&&!$o(r=wo(u,t))||e!=="string"&&So(u=t.toString)&&!$o(r=wo(u,t)))return r;throw new M7("Can't convert object to primitive value")},ko={exports:{}},qo,JD;function Un(){return JD||(JD=1,qo=!0),qo}var To,ZD;function U7(){if(ZD)return To;ZD=1;var t=tu,e=Object.defineProperty;return To=function(u,r){try{e(t,u,{value:r,configurable:!0,writable:!0})}catch{t[u]=r}return r},To}var Po,KD;function K0(){if(KD)return Po;KD=1;var t=tu,e=U7(),u="__core-js_shared__",r=t[u]||e(u,{});return Po=r,Po}var QD;function sn(){if(QD)return ko.exports;QD=1;var t=Un(),e=K0();return(ko.exports=function(u,r){return e[u]||(e[u]=r!==void 0?r:{})})("versions",[]).push({version:"3.33.2",mode:t?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"}),ko.exports}var Io,YD;function Gu(){if(YD)return Io;YD=1;var t=Wa,e=Object;return Io=function(u){return e(t(u))},Io}var Oo,XD;function iu(){if(XD)return Oo;XD=1;var t=Nt(),e=Gu(),u=t({}.hasOwnProperty);return Oo=Object.hasOwn||function(n,a){return u(e(n),a)},Oo}var Ro,ef;function Q0(){if(ef)return Ro;ef=1;var t=Nt(),e=0,u=Math.random(),r=t(1 .toString);return Ro=function(n){return"Symbol("+(n===void 0?"":n)+")_"+r(++e+u,36)},Ro}var xo,tf;function Wt(){if(tf)return xo;tf=1;var t=tu,e=sn(),u=iu(),r=Q0(),n=an(),a=tE(),o=t.Symbol,s=e("wks"),i=a?o.for||o:o&&o.withoutSetter||r;return xo=function(l){return u(s,l)||(s[l]=n&&u(o,l)?o[l]:i("Symbol."+l)),s[l]},xo}var V7=Bu,uf=Wu,rf=Ln,W7=Z0,z7=L7,G7=Wt(),H7=TypeError,J7=G7("toPrimitive"),Z7=function(t,e){if(!uf(t)||rf(t))return t;var u=W7(t,J7),r;if(u){if(e===void 0&&(e="default"),r=V7(u,t,e),!uf(r)||rf(r))return r;throw new H7("Can't convert object to primitive value")}return e===void 0&&(e="number"),z7(t,e)},K7=Z7,Q7=Ln,Ha=function(t){var e=K7(t,"string");return Q7(e)?e:e+""},Y7=tu,nf=Wu,t0=Y7.document,X7=nf(t0)&&nf(t0.createElement),uE=function(t){return X7?t0.createElement(t):{}},e4=mu,t4=Vt,u4=uE,rE=!e4&&!t4(function(){return Object.defineProperty(u4("div"),"a",{get:function(){return 7}}).a!==7}),r4=mu,n4=Bu,a4=G0,o4=Nn,s4=nr,i4=Ha,c4=iu(),l4=rE,af=Object.getOwnPropertyDescriptor;z0.f=r4?af:function(e,u){if(e=s4(e),u=i4(u),l4)try{return af(e,u)}catch{}if(c4(e,u))return o4(!n4(a4.f,e,u),e[u])};var D4=Vt,f4=Yt,d4=/#|\.prototype\./,Vn=function(t,e){var u=h4[p4(t)];return u===m4?!0:u===F4?!1:f4(e)?D4(e):!!e},p4=Vn.normalize=function(t){return String(t).replace(d4,".").toLowerCase()},h4=Vn.data={},F4=Vn.NATIVE="N",m4=Vn.POLYFILL="P",E4=Vn,of=W0,C4=on,A4=Va,v4=of(of.bind),Y0=function(t,e){return C4(t),e===void 0?t:A4?v4(t,e):function(){return t.apply(e,arguments)}},_u={},y4=mu,g4=Vt,nE=y4&&g4(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),b4=Wu,B4=String,_4=TypeError,Hu=function(t){if(b4(t))return t;throw new _4(B4(t)+" is not an object")},w4=mu,S4=rE,$4=nE,oa=Hu,sf=Ha,k4=TypeError,jo=Object.defineProperty,q4=Object.getOwnPropertyDescriptor,No="enumerable",Mo="configurable",Lo="writable";_u.f=w4?$4?function(e,u,r){if(oa(e),u=sf(u),oa(r),typeof e=="function"&&u==="prototype"&&"value"in r&&Lo in r&&!r[Lo]){var n=q4(e,u);n&&n[Lo]&&(e[u]=r.value,r={configurable:Mo in r?r[Mo]:n[Mo],enumerable:No in r?r[No]:n[No],writable:!1})}return jo(e,u,r)}:jo:function(e,u,r){if(oa(e),u=sf(u),oa(r),S4)try{return jo(e,u,r)}catch{}if("get"in r||"set"in r)throw new k4("Accessors not supported");return"value"in r&&(e[u]=r.value),e};var T4=mu,P4=_u,I4=Nn,cn=T4?function(t,e,u){return P4.f(t,e,I4(1,u))}:function(t,e,u){return t[e]=u,t},sa=tu,O4=Zm,R4=W0,x4=Yt,j4=z0.f,N4=E4,Ur=ju,M4=Y0,Vr=cn,cf=iu(),L4=function(t){var e=function(u,r,n){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(u);case 2:return new t(u,r)}return new t(u,r,n)}return O4(t,this,arguments)};return e.prototype=t.prototype,e},Tt=function(t,e){var u=t.target,r=t.global,n=t.stat,a=t.proto,o=r?sa:n?sa[u]:(sa[u]||{}).prototype,s=r?Ur:Ur[u]||Vr(Ur,u,{})[u],i=s.prototype,l,c,d,p,h,F,g,A,C;for(p in e)l=N4(r?p:u+(n?".":"#")+p,t.forced),c=!l&&o&&cf(o,p),F=s[p],c&&(t.dontCallGetSet?(C=j4(o,p),g=C&&C.value):g=o[p]),h=c&&g?g:e[p],!(c&&typeof F==typeof h)&&(t.bind&&c?A=M4(h,sa):t.wrap&&c?A=L4(h):a&&x4(h)?A=R4(h):A=h,(t.sham||h&&h.sham||F&&F.sham)&&Vr(A,"sham",!0),Vr(s,p,A),a&&(d=u+"Prototype",cf(Ur,d)||Vr(Ur,d,{}),Vr(Ur[d],p,h),t.real&&i&&(l||!i[p])&&Vr(i,p,h)))},U4=Tt,V4=mu,lf=_u.f;U4({target:"Object",stat:!0,forced:Object.defineProperty!==lf,sham:!V4},{defineProperty:lf});var W4=ju,aE=W4.Object,z4=Hm.exports=function(e,u,r){return aE.defineProperty(e,u,r)};aE.defineProperty.sham&&(z4.sham=!0);var G4=Hm.exports,H4=G4,J4=H4,ar=J4,oE={exports:{}};(function(t){function e(u){return u&&u.__esModule?u:{default:u}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(oE);var or=oE.exports,ia={exports:{}},Df={},Uo,ff;function ln(){if(ff)return Uo;ff=1;var t=Br();return Uo=Array.isArray||function(u){return t(u)==="Array"},Uo}var Vo,df;function X0(){if(df)return Vo;df=1;var t=Wt(),e=t("toStringTag"),u={};return u[e]="z",Vo=String(u)==="[object z]",Vo}var Wo,pf;function Dn(){if(pf)return Wo;pf=1;var t=X0(),e=Yt,u=Br(),r=Wt(),n=r("toStringTag"),a=Object,o=u(function(){return arguments}())==="Arguments",s=function(i,l){try{return i[l]}catch{}};return Wo=t?u:function(i){var l,c,d;return i===void 0?"Undefined":i===null?"Null":typeof(c=s(l=a(i),n))=="string"?c:o?u(l):(d=u(l))==="Object"&&e(l.callee)?"Arguments":d},Wo}var zo,hf;function Z4(){if(hf)return zo;hf=1;var t=Nt(),e=Yt,u=K0(),r=t(Function.toString);return e(u.inspectSource)||(u.inspectSource=function(n){return r(n)}),zo=u.inspectSource,zo}var Go,Ff;function el(){if(Ff)return Go;Ff=1;var t=Nt(),e=Vt,u=Yt,r=Dn(),n=zu(),a=Z4(),o=function(){},s=[],i=n("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=t(l.exec),d=!l.test(o),p=function(g){if(!u(g))return!1;try{return i(o,s,g),!0}catch{return!1}},h=function(g){if(!u(g))return!1;switch(r(g)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(l,a(g))}catch{return!0}};return h.sham=!0,Go=!i||e(function(){var F;return p(p.call)||!p(Object)||!p(function(){F=!0})||F})?h:p,Go}var Ho,mf;function K4(){if(mf)return Ho;mf=1;var t=Math.ceil,e=Math.floor;return Ho=Math.trunc||function(r){var n=+r;return(n>0?e:t)(n)},Ho}var Jo,Ef;function tl(){if(Ef)return Jo;Ef=1;var t=K4();return Jo=function(e){var u=+e;return u!==u||u===0?0:t(u)},Jo}var Zo,Cf;function ul(){if(Cf)return Zo;Cf=1;var t=tl(),e=Math.max,u=Math.min;return Zo=function(r,n){var a=t(r);return a<0?e(a+n,0):u(a,n)},Zo}var Ko,Af;function Q4(){if(Af)return Ko;Af=1;var t=tl(),e=Math.min;return Ko=function(u){return u>0?e(t(u),9007199254740991):0},Ko}var Qo,vf;function Ju(){if(vf)return Qo;vf=1;var t=Q4();return Qo=function(e){return t(e.length)},Qo}var Yo,yf;function Ja(){if(yf)return Yo;yf=1;var t=Ha,e=_u,u=Nn;return Yo=function(r,n,a){var o=t(n);o in r?e.f(r,o,u(0,a)):r[o]=a},Yo}var Xo,gf;function rl(){if(gf)return Xo;gf=1;var t=Vt,e=Wt(),u=Mn(),r=e("species");return Xo=function(n){return u>=51||!t(function(){var a=[],o=a.constructor={};return o[r]=function(){return{foo:1}},a[n](Boolean).foo!==1})},Xo}var es,bf;function sE(){if(bf)return es;bf=1;var t=Nt();return es=t([].slice),es}var Bf;function Y4(){if(Bf)return Df;Bf=1;var t=Tt,e=ln(),u=el(),r=Wu,n=ul(),a=Ju(),o=nr,s=Ja(),i=Wt(),l=rl(),c=sE(),d=l("slice"),p=i("species"),h=Array,F=Math.max;return t({target:"Array",proto:!0,forced:!d},{slice:function(A,C){var E=o(this),v=a(E),S=n(A,v),q=n(C===void 0?v:C,v),_,T,R;if(e(E)&&(_=E.constructor,u(_)&&(_===h||e(_.prototype))?_=void 0:r(_)&&(_=_[p],_===null&&(_=void 0)),_===h||_===void 0))return c(E,S,q);for(T=new(_===void 0?h:_)(F(q-S,0)),R=0;S<q;S++,R++)S in E&&s(T,R,E[S]);return T.length=R,T}}),Df}var ts,_f;function sr(){if(_f)return ts;_f=1;var t=tu,e=ju;return ts=function(u,r){var n=e[u+"Prototype"],a=n&&n[r];if(a)return a;var o=t[u],s=o&&o.prototype;return s&&s[r]},ts}var us,wf;function X4(){if(wf)return us;wf=1,Y4();var t=sr();return us=t("Array","slice"),us}var rs,Sf;function e5(){if(Sf)return rs;Sf=1;var t=Eu(),e=X4(),u=Array.prototype;return rs=function(r){var n=r.slice;return r===u||t(u,r)&&n===u.slice?e:n},rs}var ns,$f;function iE(){if($f)return ns;$f=1;var t=e5();return ns=t,ns}var as,kf;function Oa(){return kf||(kf=1,as=iE()),as}var qf={},os,Tf;function ir(){if(Tf)return os;Tf=1;var t=Dn(),e=String;return os=function(u){if(t(u)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(u)},os}var ss,Pf;function t5(){if(Pf)return ss;Pf=1;var t=Nt(),e=tl(),u=ir(),r=Wa,n=t("".charAt),a=t("".charCodeAt),o=t("".slice),s=function(i){return function(l,c){var d=u(r(l)),p=e(c),h=d.length,F,g;return p<0||p>=h?i?"":void 0:(F=a(d,p),F<55296||F>56319||p+1===h||(g=a(d,p+1))<56320||g>57343?i?n(d,p):F:i?o(d,p,p+2):(F-55296<<10)+(g-56320)+65536)}};return ss={codeAt:s(!1),charAt:s(!0)},ss}var is,If;function u5(){if(If)return is;If=1;var t=tu,e=Yt,u=t.WeakMap;return is=e(u)&&/native code/.test(String(u)),is}var cs,Of;function Za(){if(Of)return cs;Of=1;var t=sn(),e=Q0(),u=t("keys");return cs=function(r){return u[r]||(u[r]=e(r))},cs}var ls,Rf;function Ka(){return Rf||(Rf=1,ls={}),ls}var Ds,xf;function nl(){if(xf)return Ds;xf=1;var t=u5(),e=tu,u=Wu,r=cn,n=iu(),a=K0(),o=Za(),s=Ka(),i="Object already initialized",l=e.TypeError,c=e.WeakMap,d,p,h,F=function(E){return h(E)?p(E):d(E,{})},g=function(E){return function(v){var S;if(!u(v)||(S=p(v)).type!==E)throw new l("Incompatible receiver, "+E+" required");return S}};if(t||a.state){var A=a.state||(a.state=new c);A.get=A.get,A.has=A.has,A.set=A.set,d=function(E,v){if(A.has(E))throw new l(i);return v.facade=E,A.set(E,v),v},p=function(E){return A.get(E)||{}},h=function(E){return A.has(E)}}else{var C=o("state");s[C]=!0,d=function(E,v){if(n(E,C))throw new l(i);return v.facade=E,r(E,C,v),v},p=function(E){return n(E,C)?E[C]:{}},h=function(E){return n(E,C)}}return Ds={set:d,get:p,has:h,enforce:F,getterFor:g},Ds}var fs,jf;function r5(){if(jf)return fs;jf=1;var t=mu,e=iu(),u=Function.prototype,r=t&&Object.getOwnPropertyDescriptor,n=e(u,"name"),a=n&&(function(){}).name==="something",o=n&&(!t||t&&r(u,"name").configurable);return fs={EXISTS:n,PROPER:a,CONFIGURABLE:o},fs}var ds={},ps,Nf;function cE(){if(Nf)return ps;Nf=1;var t=nr,e=ul(),u=Ju(),r=function(n){return function(a,o,s){var i=t(a),l=u(i),c=e(s,l),d;if(n&&o!==o){for(;l>c;)if(d=i[c++],d!==d)return!0}else for(;l>c;c++)if((n||c in i)&&i[c]===o)return n||c||0;return!n&&-1}};return ps={includes:r(!0),indexOf:r(!1)},ps}var hs,Mf;function lE(){if(Mf)return hs;Mf=1;var t=Nt(),e=iu(),u=nr,r=cE().indexOf,n=Ka(),a=t([].push);return hs=function(o,s){var i=u(o),l=0,c=[],d;for(d in i)!e(n,d)&&e(i,d)&&a(c,d);for(;s.length>l;)e(i,d=s[l++])&&(~r(c,d)||a(c,d));return c},hs}var Fs,Lf;function al(){return Lf||(Lf=1,Fs=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Fs}var ms,Uf;function DE(){if(Uf)return ms;Uf=1;var t=lE(),e=al();return ms=Object.keys||function(r){return t(r,e)},ms}var Vf;function fE(){if(Vf)return ds;Vf=1;var t=mu,e=nE,u=_u,r=Hu,n=nr,a=DE();return ds.f=t&&!e?Object.defineProperties:function(s,i){r(s);for(var l=n(i),c=a(i),d=c.length,p=0,h;d>p;)u.f(s,h=c[p++],l[h]);return s},ds}var Es,Wf;function n5(){if(Wf)return Es;Wf=1;var t=zu();return Es=t("document","documentElement"),Es}var Cs,zf;function Qa(){if(zf)return Cs;zf=1;var t=Hu,e=fE(),u=al(),r=Ka(),n=n5(),a=uE,o=Za(),s=">",i="<",l="prototype",c="script",d=o("IE_PROTO"),p=function(){},h=function(E){return i+c+s+E+i+"/"+c+s},F=function(E){E.write(h("")),E.close();var v=E.parentWindow.Object;return E=null,v},g=function(){var E=a("iframe"),v="java"+c+":",S;return E.style.display="none",n.appendChild(E),E.src=String(v),S=E.contentWindow.document,S.open(),S.write(h("document.F=Object")),S.close(),S.F},A,C=function(){try{A=new ActiveXObject("htmlfile")}catch{}C=typeof document<"u"?document.domain&&A?F(A):g():F(A);for(var E=u.length;E--;)delete C[l][u[E]];return C()};return r[d]=!0,Cs=Object.create||function(v,S){var q;return v!==null?(p[l]=t(v),q=new p,p[l]=null,q[d]=v):q=C(),S===void 0?q:e.f(q,S)},Cs}var As,Gf;function a5(){if(Gf)return As;Gf=1;var t=Vt;return As=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),As}var vs,Hf;function dE(){if(Hf)return vs;Hf=1;var t=iu(),e=Yt,u=Gu(),r=Za(),n=a5(),a=r("IE_PROTO"),o=Object,s=o.prototype;return vs=n?o.getPrototypeOf:function(i){var l=u(i);if(t(l,a))return l[a];var c=l.constructor;return e(c)&&l instanceof c?c.prototype:l instanceof o?s:null},vs}var ys,Jf;function Ya(){if(Jf)return ys;Jf=1;var t=cn;return ys=function(e,u,r,n){return n&&n.enumerable?e[u]=r:t(e,u,r),e},ys}var gs,Zf;function pE(){if(Zf)return gs;Zf=1;var t=Vt,e=Yt,u=Wu,r=Qa(),n=dE(),a=Ya(),o=Wt(),s=Un(),i=o("iterator"),l=!1,c,d,p;[].keys&&(p=[].keys(),"next"in p?(d=n(n(p)),d!==Object.prototype&&(c=d)):l=!0);var h=!u(c)||t(function(){var F={};return c[i].call(F)!==F});return h?c={}:s&&(c=r(c)),e(c[i])||a(c,i,function(){return this}),gs={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:l},gs}var bs,Kf;function o5(){if(Kf)return bs;Kf=1;var t=X0(),e=Dn();return bs=t?{}.toString:function(){return"[object "+e(this)+"]"},bs}var Bs,Qf;function Wn(){if(Qf)return Bs;Qf=1;var t=X0(),e=_u.f,u=cn,r=iu(),n=o5(),a=Wt(),o=a("toStringTag");return Bs=function(s,i,l,c){if(s){var d=l?s:s.prototype;r(d,o)||e(d,o,{configurable:!0,value:i}),c&&!t&&u(d,"toString",n)}},Bs}var _s,Yf;function fn(){return Yf||(Yf=1,_s={}),_s}var ws,Xf;function s5(){if(Xf)return ws;Xf=1;var t=pE().IteratorPrototype,e=Qa(),u=Nn,r=Wn(),n=fn(),a=function(){return this};return ws=function(o,s,i,l){var c=s+" Iterator";return o.prototype=e(t,{next:u(+!l,i)}),r(o,c,!1,!0),n[c]=a,o},ws}var Ss,ed;function i5(){if(ed)return Ss;ed=1;var t=Nt(),e=on;return Ss=function(u,r,n){try{return t(e(Object.getOwnPropertyDescriptor(u,r)[n]))}catch{}},Ss}var $s,td;function c5(){if(td)return $s;td=1;var t=Yt,e=String,u=TypeError;return $s=function(r){if(typeof r=="object"||t(r))return r;throw new u("Can't set "+e(r)+" as a prototype")},$s}var ks,ud;function l5(){if(ud)return ks;ud=1;var t=i5(),e=Hu,u=c5();return ks=Object.setPrototypeOf||("__proto__"in{}?function(){var r=!1,n={},a;try{a=t(Object.prototype,"__proto__","set"),a(n,[]),r=n instanceof Array}catch{}return function(s,i){return e(s),u(i),r?a(s,i):s.__proto__=i,s}}():void 0),ks}var qs,rd;function hE(){if(rd)return qs;rd=1;var t=Tt,e=Bu,u=Un(),r=r5(),n=Yt,a=s5(),o=dE(),s=l5(),i=Wn(),l=cn,c=Ya(),d=Wt(),p=fn(),h=pE(),F=r.PROPER,g=r.CONFIGURABLE,A=h.IteratorPrototype,C=h.BUGGY_SAFARI_ITERATORS,E=d("iterator"),v="keys",S="values",q="entries",_=function(){return this};return qs=function(T,R,L,J,U,K,oe){a(L,R,J);var Q=function(y){if(y===U&&we)return we;if(!C&&y&&y in Ee)return Ee[y];switch(y){case v:return function(){return new L(this,y)};case S:return function(){return new L(this,y)};case q:return function(){return new L(this,y)}}return function(){return new L(this)}},Ce=R+" Iterator",X=!1,Ee=T.prototype,ye=Ee[E]||Ee["@@iterator"]||U&&Ee[U],we=!C&&ye||Q(U),ae=R==="Array"&&Ee.entries||ye,N,G,z;if(ae&&(N=o(ae.call(new T)),N!==Object.prototype&&N.next&&(!u&&o(N)!==A&&(s?s(N,A):n(N[E])||c(N,E,_)),i(N,Ce,!0,!0),u&&(p[Ce]=_))),F&&U===S&&ye&&ye.name!==S&&(!u&&g?l(Ee,"name",S):(X=!0,we=function(){return e(ye,this)})),U)if(G={values:Q(S),keys:K?we:Q(v),entries:Q(q)},oe)for(z in G)(C||X||!(z in Ee))&&c(Ee,z,G[z]);else t({target:R,proto:!0,forced:C||X},G);return(!u||oe)&&Ee[E]!==we&&c(Ee,E,we,{name:U}),p[R]=we,G},qs}var Ts,nd;function FE(){return nd||(nd=1,Ts=function(t,e){return{value:t,done:e}}),Ts}var ad;function mE(){if(ad)return qf;ad=1;var t=t5().charAt,e=ir(),u=nl(),r=hE(),n=FE(),a="String Iterator",o=u.set,s=u.getterFor(a);return r(String,"String",function(i){o(this,{type:a,string:e(i),index:0})},function(){var l=s(this),c=l.string,d=l.index,p;return d>=c.length?n(void 0,!0):(p=t(c,d),l.index+=p.length,n(p,!1))}),qf}var od={},Ps,sd;function D5(){if(sd)return Ps;sd=1;var t=Bu,e=Hu,u=Z0;return Ps=function(r,n,a){var o,s;e(r);try{if(o=u(r,"return"),!o){if(n==="throw")throw a;return a}o=t(o,r)}catch(i){s=!0,o=i}if(n==="throw")throw a;if(s)throw o;return e(o),a},Ps}var Is,id;function f5(){if(id)return Is;id=1;var t=Hu,e=D5();return Is=function(u,r,n,a){try{return a?r(t(n)[0],n[1]):r(n)}catch(o){e(u,"throw",o)}},Is}var Os,cd;function d5(){if(cd)return Os;cd=1;var t=Wt(),e=fn(),u=t("iterator"),r=Array.prototype;return Os=function(n){return n!==void 0&&(e.Array===n||r[u]===n)},Os}var Rs,ld;function ol(){if(ld)return Rs;ld=1;var t=Dn(),e=Z0,u=J0,r=fn(),n=Wt(),a=n("iterator");return Rs=function(o){if(!u(o))return e(o,a)||e(o,"@@iterator")||r[t(o)]},Rs}var xs,Dd;function p5(){if(Dd)return xs;Dd=1;var t=Bu,e=on,u=Hu,r=Ga,n=ol(),a=TypeError;return xs=function(o,s){var i=arguments.length<2?n(o):s;if(e(i))return u(t(i,o));throw new a(r(o)+" is not iterable")},xs}var js,fd;function h5(){if(fd)return js;fd=1;var t=Y0,e=Bu,u=Gu(),r=f5(),n=d5(),a=el(),o=Ju(),s=Ja(),i=p5(),l=ol(),c=Array;return js=function(p){var h=u(p),F=a(this),g=arguments.length,A=g>1?arguments[1]:void 0,C=A!==void 0;C&&(A=t(A,g>2?arguments[2]:void 0));var E=l(h),v=0,S,q,_,T,R,L;if(E&&!(this===c&&n(E)))for(T=i(h,E),R=T.next,q=F?new this:[];!(_=e(R,T)).done;v++)L=C?r(T,A,[_.value,v],!0):_.value,s(q,v,L);else for(S=o(h),q=F?new this(S):c(S);S>v;v++)L=C?A(h[v],v):h[v],s(q,v,L);return q.length=v,q},js}var Ns,dd;function F5(){if(dd)return Ns;dd=1;var t=Wt(),e=t("iterator"),u=!1;try{var r=0,n={next:function(){return{done:!!r++}},return:function(){u=!0}};n[e]=function(){return this},Array.from(n,function(){throw 2})}catch{}return Ns=function(a,o){try{if(!o&&!u)return!1}catch{return!1}var s=!1;try{var i={};i[e]=function(){return{next:function(){return{done:s=!0}}}},a(i)}catch{}return s},Ns}var pd;function m5(){if(pd)return od;pd=1;var t=Tt,e=h5(),u=F5(),r=!u(function(n){Array.from(n)});return t({target:"Array",stat:!0,forced:r},{from:e}),od}var Ms,hd;function E5(){if(hd)return Ms;hd=1,mE(),m5();var t=ju;return Ms=t.Array.from,Ms}var Ls,Fd;function EE(){if(Fd)return Ls;Fd=1;var t=E5();return Ls=t,Ls}var Us,md;function CE(){return md||(md=1,Us=EE()),Us}var Ed={},Vs,Cd;function AE(){if(Cd)return Vs;Cd=1;var t=TypeError,e=9007199254740991;return Vs=function(u){if(u>e)throw t("Maximum allowed index exceeded");return u},Vs}var Ws,Ad;function C5(){if(Ad)return Ws;Ad=1;var t=ln(),e=el(),u=Wu,r=Wt(),n=r("species"),a=Array;return Ws=function(o){var s;return t(o)&&(s=o.constructor,e(s)&&(s===a||t(s.prototype))?s=void 0:u(s)&&(s=s[n],s===null&&(s=void 0))),s===void 0?a:s},Ws}var zs,vd;function vE(){if(vd)return zs;vd=1;var t=C5();return zs=function(e,u){return new(t(e))(u===0?0:u)},zs}var yd;function yE(){if(yd)return Ed;yd=1;var t=Tt,e=Vt,u=ln(),r=Wu,n=Gu(),a=Ju(),o=AE(),s=Ja(),i=vE(),l=rl(),c=Wt(),d=Mn(),p=c("isConcatSpreadable"),h=d>=51||!e(function(){var A=[];return A[p]=!1,A.concat()[0]!==A}),F=function(A){if(!r(A))return!1;var C=A[p];return C!==void 0?!!C:u(A)},g=!h||!l("concat");return t({target:"Array",proto:!0,arity:1,forced:g},{concat:function(C){var E=n(this),v=i(E,0),S=0,q,_,T,R,L;for(q=-1,T=arguments.length;q<T;q++)if(L=q===-1?E:arguments[q],F(L))for(R=a(L),o(S+R),_=0;_<R;_++,S++)_ in L&&s(v,S,L[_]);else o(S+1),s(v,S++,L);return v.length=S,v}}),Ed}var gd={},bd={},Gs={},Bd;function gE(){if(Bd)return Gs;Bd=1;var t=lE(),e=al(),u=e.concat("length","prototype");return Gs.f=Object.getOwnPropertyNames||function(n){return t(n,u)},Gs}var Hs={},Js,_d;function bE(){if(_d)return Js;_d=1;var t=ul(),e=Ju(),u=Ja(),r=Array,n=Math.max;return Js=function(a,o,s){for(var i=e(a),l=t(o,i),c=t(s===void 0?i:s,i),d=r(n(c-l,0)),p=0;l<c;l++,p++)u(d,p,a[l]);return d.length=p,d},Js}var wd;function A5(){if(wd)return Hs;wd=1;var t=Br(),e=nr,u=gE().f,r=bE(),n=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(o){try{return u(o)}catch{return r(n)}};return Hs.f=function(s){return n&&t(s)==="Window"?a(s):u(e(s))},Hs}var Zs={},Sd;function BE(){return Sd||(Sd=1,Zs.f=Object.getOwnPropertySymbols),Zs}var Ks,$d;function v5(){if($d)return Ks;$d=1;var t=_u;return Ks=function(e,u,r){return t.f(e,u,r)},Ks}var Qs={},kd;function _E(){if(kd)return Qs;kd=1;var t=Wt();return Qs.f=t,Qs}var Ys,qd;function Ot(){if(qd)return Ys;qd=1;var t=ju,e=iu(),u=_E(),r=_u.f;return Ys=function(n){var a=t.Symbol||(t.Symbol={});e(a,n)||r(a,n,{value:u.f(n)})},Ys}var Xs,Td;function wE(){if(Td)return Xs;Td=1;var t=Bu,e=zu(),u=Wt(),r=Ya();return Xs=function(){var n=e("Symbol"),a=n&&n.prototype,o=a&&a.valueOf,s=u("toPrimitive");a&&!a[s]&&r(a,s,function(i){return t(o,this)},{arity:1})},Xs}var ei,Pd;function sl(){if(Pd)return ei;Pd=1;var t=Y0,e=Nt(),u=H0,r=Gu(),n=Ju(),a=vE(),o=e([].push),s=function(i){var l=i===1,c=i===2,d=i===3,p=i===4,h=i===6,F=i===7,g=i===5||h;return function(A,C,E,v){for(var S=r(A),q=u(S),_=t(C,E),T=n(q),R=0,L=v||a,J=l?L(A,T):c||F?L(A,0):void 0,U,K;T>R;R++)if((g||R in q)&&(U=q[R],K=_(U,R,S),i))if(l)J[R]=K;else if(K)switch(i){case 3:return!0;case 5:return U;case 6:return R;case 2:o(J,U)}else switch(i){case 4:return!1;case 7:o(J,U)}return h?-1:d||p?p:J}};return ei={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)},ei}var Id;function y5(){if(Id)return bd;Id=1;var t=Tt,e=tu,u=Bu,r=Nt(),n=Un(),a=mu,o=an(),s=Vt,i=iu(),l=Eu(),c=Hu,d=nr,p=Ha,h=ir(),F=Nn,g=Qa(),A=DE(),C=gE(),E=A5(),v=BE(),S=z0,q=_u,_=fE(),T=G0,R=Ya(),L=v5(),J=sn(),U=Za(),K=Ka(),oe=Q0(),Q=Wt(),Ce=_E(),X=Ot(),Ee=wE(),ye=Wn(),we=nl(),ae=sl().forEach,N=U("hidden"),G="Symbol",z="prototype",y=we.set,I=we.getterFor(G),H=Object[z],me=e.Symbol,De=me&&me[z],ce=e.RangeError,Se=e.TypeError,Re=e.QObject,ct=S.f,Xe=q.f,rt=E.f,At=T.f,ft=r([].push),dt=J("symbols"),wt=J("op-symbols"),nt=J("wks"),tt=!Re||!Re[z]||!Re[z].findChild,kt=function($,w,M){var fe=ct(H,w);fe&&delete H[w],Xe($,w,M),fe&&$!==H&&Xe(H,w,fe)},ie=a&&s(function(){return g(Xe({},"a",{get:function(){return Xe(this,"a",{value:7}).a}})).a!==7})?kt:Xe,Ft=function($,w){var M=dt[$]=g(De);return y(M,{type:G,tag:$,description:w}),a||(M.description=w),M},x=function(w,M,fe){w===H&&x(wt,M,fe),c(w);var be=p(M);return c(fe),i(dt,be)?(fe.enumerable?(i(w,N)&&w[N][be]&&(w[N][be]=!1),fe=g(fe,{enumerable:F(0,!1)})):(i(w,N)||Xe(w,N,F(1,{})),w[N][be]=!0),ie(w,be,fe)):Xe(w,be,fe)},Z=function(w,M){c(w);var fe=d(M),be=A(fe).concat(b(fe));return ae(be,function(qe){(!a||u(m,fe,qe))&&x(w,qe,fe[qe])}),w},ne=function(w,M){return M===void 0?g(w):Z(g(w),M)},m=function(w){var M=p(w),fe=u(At,this,M);return this===H&&i(dt,M)&&!i(wt,M)?!1:fe||!i(this,M)||!i(dt,M)||i(this,N)&&this[N][M]?fe:!0},D=function(w,M){var fe=d(w),be=p(M);if(!(fe===H&&i(dt,be)&&!i(wt,be))){var qe=ct(fe,be);return qe&&i(dt,be)&&!(i(fe,N)&&fe[N][be])&&(qe.enumerable=!0),qe}},f=function(w){var M=rt(d(w)),fe=[];return ae(M,function(be){!i(dt,be)&&!i(K,be)&&ft(fe,be)}),fe},b=function($){var w=$===H,M=rt(w?wt:d($)),fe=[];return ae(M,function(be){i(dt,be)&&(!w||i(H,be))&&ft(fe,dt[be])}),fe};return o||(me=function(){if(l(De,this))throw new Se("Symbol is not a constructor");var w=!arguments.length||arguments[0]===void 0?void 0:h(arguments[0]),M=oe(w),fe=function(be){var qe=this===void 0?e:this;qe===H&&u(fe,wt,be),i(qe,N)&&i(qe[N],M)&&(qe[N][M]=!1);var Te=F(1,be);try{ie(qe,M,Te)}catch(Je){if(!(Je instanceof ce))throw Je;kt(qe,M,Te)}};return a&&tt&&ie(H,M,{configurable:!0,set:fe}),Ft(M,w)},De=me[z],R(De,"toString",function(){return I(this).tag}),R(me,"withoutSetter",function($){return Ft(oe($),$)}),T.f=m,q.f=x,_.f=Z,S.f=D,C.f=E.f=f,v.f=b,Ce.f=function($){return Ft(Q($),$)},a&&(L(De,"description",{configurable:!0,get:function(){return I(this).description}}),n||R(H,"propertyIsEnumerable",m,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:me}),ae(A(nt),function($){X($)}),t({target:G,stat:!0,forced:!o},{useSetter:function(){tt=!0},useSimple:function(){tt=!1}}),t({target:"Object",stat:!0,forced:!o,sham:!a},{create:ne,defineProperty:x,defineProperties:Z,getOwnPropertyDescriptor:D}),t({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:f}),Ee(),ye(me,G),K[N]=!0,bd}var Od={},ti,Rd;function SE(){if(Rd)return ti;Rd=1;var t=an();return ti=t&&!!Symbol.for&&!!Symbol.keyFor,ti}var xd;function g5(){if(xd)return Od;xd=1;var t=Tt,e=zu(),u=iu(),r=ir(),n=sn(),a=SE(),o=n("string-to-symbol-registry"),s=n("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!a},{for:function(i){var l=r(i);if(u(o,l))return o[l];var c=e("Symbol")(l);return o[l]=c,s[c]=l,c}}),Od}var jd={},Nd;function b5(){if(Nd)return jd;Nd=1;var t=Tt,e=iu(),u=Ln,r=Ga,n=sn(),a=SE(),o=n("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!a},{keyFor:function(i){if(!u(i))throw new TypeError(r(i)+" is not a symbol");if(e(o,i))return o[i]}}),jd}var Md={},ui,Ld;function B5(){if(Ld)return ui;Ld=1;var t=Nt(),e=ln(),u=Yt,r=Br(),n=ir(),a=t([].push);return ui=function(o){if(u(o))return o;if(e(o)){for(var s=o.length,i=[],l=0;l<s;l++){var c=o[l];typeof c=="string"?a(i,c):(typeof c=="number"||r(c)==="Number"||r(c)==="String")&&a(i,n(c))}var d=i.length,p=!0;return function(h,F){if(p)return p=!1,F;if(e(this))return F;for(var g=0;g<d;g++)if(i[g]===h)return F}}},ui}var Ud;function _5(){if(Ud)return Md;Ud=1;var t=Tt,e=zu(),u=Zm,r=Bu,n=Nt(),a=Vt,o=Yt,s=Ln,i=sE(),l=B5(),c=an(),d=String,p=e("JSON","stringify"),h=n(/./.exec),F=n("".charAt),g=n("".charCodeAt),A=n("".replace),C=n(1 .toString),E=/[\uD800-\uDFFF]/g,v=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,q=!c||a(function(){var L=e("Symbol")("stringify detection");return p([L])!=="[null]"||p({a:L})!=="{}"||p(Object(L))!=="{}"}),_=a(function(){return p("\uDF06\uD834")!=='"\\udf06\\ud834"'||p("\uDEAD")!=='"\\udead"'}),T=function(L,J){var U=i(arguments),K=l(J);if(!(!o(K)&&(L===void 0||s(L))))return U[1]=function(oe,Q){if(o(K)&&(Q=r(K,this,d(oe),Q)),!s(Q))return Q},u(p,null,U)},R=function(L,J,U){var K=F(U,J-1),oe=F(U,J+1);return h(v,L)&&!h(S,oe)||h(S,L)&&!h(v,K)?"\\u"+C(g(L,0),16):L};return p&&t({target:"JSON",stat:!0,arity:3,forced:q||_},{stringify:function(J,U,K){var oe=i(arguments),Q=u(q?T:p,null,oe);return _&&typeof Q=="string"?A(Q,E,R):Q}}),Md}var Vd={},Wd;function w5(){if(Wd)return Vd;Wd=1;var t=Tt,e=an(),u=Vt,r=BE(),n=Gu(),a=!e||u(function(){r.f(1)});return t({target:"Object",stat:!0,forced:a},{getOwnPropertySymbols:function(s){var i=r.f;return i?i(n(s)):[]}}),Vd}var zd;function S5(){return zd||(zd=1,y5(),g5(),b5(),_5(),w5()),gd}var Gd={},Hd;function $5(){if(Hd)return Gd;Hd=1;var t=Ot();return t("asyncIterator"),Gd}var Jd={},Zd;function k5(){if(Zd)return Jd;Zd=1;var t=Ot();return t("hasInstance"),Jd}var Kd={},Qd;function q5(){if(Qd)return Kd;Qd=1;var t=Ot();return t("isConcatSpreadable"),Kd}var Yd={},Xd;function T5(){if(Xd)return Yd;Xd=1;var t=Ot();return t("iterator"),Yd}var ep={},tp;function P5(){if(tp)return ep;tp=1;var t=Ot();return t("match"),ep}var up={},rp;function I5(){if(rp)return up;rp=1;var t=Ot();return t("matchAll"),up}var np={},ap;function O5(){if(ap)return np;ap=1;var t=Ot();return t("replace"),np}var op={},sp;function R5(){if(sp)return op;sp=1;var t=Ot();return t("search"),op}var ip={},cp;function x5(){if(cp)return ip;cp=1;var t=Ot();return t("species"),ip}var lp={},Dp;function j5(){if(Dp)return lp;Dp=1;var t=Ot();return t("split"),lp}var fp={},dp;function N5(){if(dp)return fp;dp=1;var t=Ot(),e=wE();return t("toPrimitive"),e(),fp}var pp={},hp;function M5(){if(hp)return pp;hp=1;var t=zu(),e=Ot(),u=Wn();return e("toStringTag"),u(t("Symbol"),"Symbol"),pp}var Fp={},mp;function L5(){if(mp)return Fp;mp=1;var t=Ot();return t("unscopables"),Fp}var Ep={},Cp;function U5(){if(Cp)return Ep;Cp=1;var t=tu,e=Wn();return e(t.JSON,"JSON",!0),Ep}var ri,Ap;function V5(){if(Ap)return ri;Ap=1,yE(),S5(),$5(),k5(),q5(),T5(),P5(),I5(),O5(),R5(),x5(),j5(),N5(),M5(),L5(),U5();var t=ju;return ri=t.Symbol,ri}var vp={},ni,yp;function W5(){return yp||(yp=1,ni=function(){}),ni}var ai,gp;function $E(){if(gp)return ai;gp=1;var t=nr,e=W5(),u=fn(),r=nl(),n=_u.f,a=hE(),o=FE(),s=Un(),i=mu,l="Array Iterator",c=r.set,d=r.getterFor(l);ai=a(Array,"Array",function(h,F){c(this,{type:l,target:t(h),index:0,kind:F})},function(){var h=d(this),F=h.target,g=h.index++;if(!F||g>=F.length)return h.target=void 0,o(void 0,!0);switch(h.kind){case"keys":return o(g,!1);case"values":return o(F[g],!1)}return o([g,F[g]],!1)},"values");var p=u.Arguments=u.Array;if(e("keys"),e("values"),e("entries"),!s&&i&&p.name!=="values")try{n(p,"name",{value:"values"})}catch{}return ai}var oi,bp;function z5(){return bp||(bp=1,oi={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),oi}var Bp;function kE(){if(Bp)return vp;Bp=1,$E();var t=z5(),e=tu,u=Dn(),r=cn,n=fn(),a=Wt(),o=a("toStringTag");for(var s in t){var i=e[s],l=i&&i.prototype;l&&u(l)!==o&&r(l,o,s),n[s]=n.Array}return vp}var si,_p;function qE(){if(_p)return si;_p=1;var t=V5();return kE(),si=t,si}var ii,wp;function TE(){return wp||(wp=1,ii=qE()),ii}var ci,Sp;function G5(){if(Sp)return ci;Sp=1,$E(),mE();var t=ol();return ci=t,ci}var li,$p;function H5(){if($p)return li;$p=1;var t=G5();return kE(),li=t,li}var Di,kp;function J5(){if(kp)return Di;kp=1;var t=H5();return Di=t,Di}var fi,qp;function Z5(){if(qp)return fi;qp=1;var t=J5();return fi=t,fi}var di,Tp;function PE(){return Tp||(Tp=1,di=Z5()),di}var pi,Pp;function IE(){return Pp||(Pp=1,pi=PE()),pi}var Ip={},Op;function K5(){if(Op)return Ip;Op=1;var t=Tt,e=ln();return t({target:"Array",stat:!0},{isArray:e}),Ip}var hi,Rp;function Q5(){if(Rp)return hi;Rp=1,K5();var t=ju;return hi=t.Array.isArray,hi}var Fi,xp;function OE(){if(xp)return Fi;xp=1;var t=Q5();return Fi=t,Fi}var mi,jp;function RE(){return jp||(jp=1,mi=OE()),mi}var Ei={exports:{}},Ci={exports:{}},Ai,Np;function Y5(){if(Np)return Ai;Np=1;var t=OE();return Ai=t,Ai}var vi,Mp;function X5(){if(Mp)return vi;Mp=1;var t=Y5();return vi=t,vi}var yi,Lp;function e9(){return Lp||(Lp=1,yi=X5()),yi}var Up;function t9(){return Up||(Up=1,function(t){var e=e9();function u(r){if(e(r))return r}t.exports=u,t.exports.__esModule=!0,t.exports.default=t.exports}(Ci)),Ci.exports}var gi={exports:{}},Vp={},Wp;function u9(){if(Wp)return Vp;Wp=1;var t=Wt(),e=_u.f,u=t("metadata"),r=Function.prototype;return r[u]===void 0&&e(r,u,{value:null}),Vp}var zp={},Gp;function r9(){if(Gp)return zp;Gp=1;var t=Ot();return t("asyncDispose"),zp}var Hp={},Jp;function n9(){if(Jp)return Hp;Jp=1;var t=Ot();return t("dispose"),Hp}var Zp={},Kp;function a9(){if(Kp)return Zp;Kp=1;var t=Ot();return t("metadata"),Zp}var bi,Qp;function o9(){if(Qp)return bi;Qp=1;var t=qE();return u9(),r9(),n9(),a9(),bi=t,bi}var Yp={},Bi,Xp;function xE(){if(Xp)return Bi;Xp=1;var t=zu(),e=Nt(),u=t("Symbol"),r=u.keyFor,n=e(u.prototype.valueOf);return Bi=u.isRegisteredSymbol||function(o){try{return r(n(o))!==void 0}catch{return!1}},Bi}var e1;function s9(){if(e1)return Yp;e1=1;var t=Tt,e=xE();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),Yp}var t1={},_i,u1;function jE(){if(u1)return _i;u1=1;for(var t=sn(),e=zu(),u=Nt(),r=Ln,n=Wt(),a=e("Symbol"),o=a.isWellKnownSymbol,s=e("Object","getOwnPropertyNames"),i=u(a.prototype.valueOf),l=t("wks"),c=0,d=s(a),p=d.length;c<p;c++)try{var h=d[c];r(a[h])&&n(h)}catch{}return _i=function(g){if(o&&o(g))return!0;try{for(var A=i(g),C=0,E=s(l),v=E.length;C<v;C++)if(l[E[C]]==A)return!0}catch{}return!1},_i}var r1;function i9(){if(r1)return t1;r1=1;var t=Tt,e=jE();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),t1}var n1={},a1;function c9(){if(a1)return n1;a1=1;var t=Ot();return t("matcher"),n1}var o1={},s1;function l9(){if(s1)return o1;s1=1;var t=Ot();return t("observable"),o1}var i1={},c1;function D9(){if(c1)return i1;c1=1;var t=Tt,e=xE();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),i1}var l1={},D1;function f9(){if(D1)return l1;D1=1;var t=Tt,e=jE();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),l1}var f1={},d1;function d9(){if(d1)return f1;d1=1;var t=Ot();return t("metadataKey"),f1}var p1={},h1;function p9(){if(h1)return p1;h1=1;var t=Ot();return t("patternMatch"),p1}var F1={},m1;function h9(){if(m1)return F1;m1=1;var t=Ot();return t("replaceAll"),F1}var wi,E1;function F9(){if(E1)return wi;E1=1;var t=o9();return s9(),i9(),c9(),l9(),D9(),f9(),d9(),p9(),h9(),wi=t,wi}var Si,C1;function m9(){return C1||(C1=1,Si=F9()),Si}var A1={},$i,v1;function E9(){if(v1)return $i;v1=1;var t=mu,e=ln(),u=TypeError,r=Object.getOwnPropertyDescriptor,n=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(a){return a instanceof TypeError}}();return $i=n?function(a,o){if(e(a)&&!r(a,"length").writable)throw new u("Cannot set read only .length");return a.length=o}:function(a,o){return a.length=o},$i}var y1;function C9(){if(y1)return A1;y1=1;var t=Tt,e=Gu(),u=Ju(),r=E9(),n=AE(),a=Vt,o=a(function(){return[].push.call({length:4294967296},1)!==4294967297}),s=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(l){return l instanceof TypeError}},i=o||!s();return t({target:"Array",proto:!0,arity:1,forced:i},{push:function(c){var d=e(this),p=u(d),h=arguments.length;n(p+h);for(var F=0;F<h;F++)d[p]=arguments[F],p++;return r(d,p),p}}),A1}var ki,g1;function A9(){if(g1)return ki;g1=1,C9();var t=sr();return ki=t("Array","push"),ki}var qi,b1;function v9(){if(b1)return qi;b1=1;var t=Eu(),e=A9(),u=Array.prototype;return qi=function(r){var n=r.push;return r===u||t(u,r)&&n===u.push?e:n},qi}var Ti,B1;function y9(){if(B1)return Ti;B1=1;var t=v9();return Ti=t,Ti}var Pi,_1;function g9(){if(_1)return Pi;_1=1;var t=y9();return Pi=t,Pi}var Ii,w1;function b9(){if(w1)return Ii;w1=1;var t=g9();return Ii=t,Ii}var Oi,S1;function B9(){return S1||(S1=1,Oi=b9()),Oi}var $1;function _9(){return $1||($1=1,function(t){var e=m9(),u=PE(),r=B9();function n(a,o){var s=a==null?null:typeof e<"u"&&u(a)||a["@@iterator"];if(s!=null){var i,l,c,d,p=[],h=!0,F=!1;try{if(c=(s=s.call(a)).next,o===0){if(Object(s)!==s)return;h=!1}else for(;!(h=(i=c.call(s)).done)&&(r(p).call(p,i.value),p.length!==o);h=!0);}catch(g){F=!0,l=g}finally{try{if(!h&&s.return!=null&&(d=s.return(),Object(d)!==d))return}finally{if(F)throw l}}return p}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(gi)),gi.exports}var Ri={exports:{}},xi,k1;function w9(){if(k1)return xi;k1=1;var t=iE();return xi=t,xi}var ji,q1;function S9(){if(q1)return ji;q1=1;var t=w9();return ji=t,ji}var Ni,T1;function $9(){return T1||(T1=1,Ni=S9()),Ni}var Mi,P1;function k9(){if(P1)return Mi;P1=1;var t=EE();return Mi=t,Mi}var Li,I1;function q9(){if(I1)return Li;I1=1;var t=k9();return Li=t,Li}var Ui,O1;function T9(){return O1||(O1=1,Ui=q9()),Ui}var Vi={exports:{}},R1;function P9(){return R1||(R1=1,function(t){function e(u,r){(r==null||r>u.length)&&(r=u.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=u[n];return a}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Vi)),Vi.exports}var x1;function I9(){return x1||(x1=1,function(t){var e=$9(),u=T9(),r=P9();function n(a,o){var s;if(a){if(typeof a=="string")return r(a,o);var i=e(s=Object.prototype.toString.call(a)).call(s,8,-1);if(i==="Object"&&a.constructor&&(i=a.constructor.name),i==="Map"||i==="Set")return u(a);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(a,o)}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(Ri)),Ri.exports}var Wi={exports:{}},j1;function O9(){return j1||(j1=1,function(t){function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Wi)),Wi.exports}var N1;function NE(){return N1||(N1=1,function(t){var e=t9(),u=_9(),r=I9(),n=O9();function a(o,s){return e(o)||u(o,s)||r(o,s)||n()}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports}(Ei)),Ei.exports}var zi,M1;function R9(){if(M1)return zi;M1=1;var t=Hu;return zi=function(){var e=t(this),u="";return e.hasIndices&&(u+="d"),e.global&&(u+="g"),e.ignoreCase&&(u+="i"),e.multiline&&(u+="m"),e.dotAll&&(u+="s"),e.unicode&&(u+="u"),e.unicodeSets&&(u+="v"),e.sticky&&(u+="y"),u},zi}var Gi,L1;function x9(){if(L1)return Gi;L1=1;var t=Bu,e=iu(),u=Eu(),r=R9(),n=RegExp.prototype;return Gi=function(a){var o=a.flags;return o===void 0&&!("flags"in n)&&!e(a,"flags")&&u(n,a)?t(r,a):o},Gi}var Hi,U1;function j9(){if(U1)return Hi;U1=1;var t=x9();return Hi=t,Hi}var Ji,V1;function N9(){if(V1)return Ji;V1=1;var t=Eu(),e=j9(),u=RegExp.prototype;return Ji=function(r){return r===u||t(u,r)?e(r):r.flags},Ji}var Zi,W1;function M9(){if(W1)return Zi;W1=1;var t=N9();return Zi=t,Zi}var Ki,z1;function L9(){return z1||(z1=1,Ki=M9()),Ki}var G1={},Qi,H1;function U9(){if(H1)return Qi;H1=1;var t=Ga,e=TypeError;return Qi=function(u,r){if(!delete u[r])throw new e("Cannot delete property "+t(r)+" of "+t(u))},Qi}var Yi,J1;function V9(){if(J1)return Yi;J1=1;var t=bE(),e=Math.floor,u=function(a,o){var s=a.length,i=e(s/2);return s<8?r(a,o):n(a,u(t(a,0,i),o),u(t(a,i),o),o)},r=function(a,o){for(var s=a.length,i=1,l,c;i<s;){for(c=i,l=a[i];c&&o(a[c-1],l)>0;)a[c]=a[--c];c!==i++&&(a[c]=l)}return a},n=function(a,o,s,i){for(var l=o.length,c=s.length,d=0,p=0;d<l||p<c;)a[d+p]=d<l&&p<c?i(o[d],s[p])<=0?o[d++]:s[p++]:d<l?o[d++]:s[p++];return a};return Yi=u,Yi}var Xi,Z1;function Xa(){if(Z1)return Xi;Z1=1;var t=Vt;return Xi=function(e,u){var r=[][e];return!!r&&t(function(){r.call(null,u||function(){return 1},1)})},Xi}var ec,K1;function W9(){if(K1)return ec;K1=1;var t=za(),e=t.match(/firefox\/(\d+)/i);return ec=!!e&&+e[1],ec}var tc,Q1;function z9(){if(Q1)return tc;Q1=1;var t=za();return tc=/MSIE|Trident/.test(t),tc}var uc,Y1;function G9(){if(Y1)return uc;Y1=1;var t=za(),e=t.match(/AppleWebKit\/(\d+)\./);return uc=!!e&&+e[1],uc}var X1;function H9(){if(X1)return G1;X1=1;var t=Tt,e=Nt(),u=on,r=Gu(),n=Ju(),a=U9(),o=ir(),s=Vt,i=V9(),l=Xa(),c=W9(),d=z9(),p=Mn(),h=G9(),F=[],g=e(F.sort),A=e(F.push),C=s(function(){F.sort(void 0)}),E=s(function(){F.sort(null)}),v=l("sort"),S=!s(function(){if(p)return p<70;if(!(c&&c>3)){if(d)return!0;if(h)return h<603;var T="",R,L,J,U;for(R=65;R<76;R++){switch(L=String.fromCharCode(R),R){case 66:case 69:case 70:case 72:J=3;break;case 68:case 71:J=4;break;default:J=2}for(U=0;U<47;U++)F.push({k:L+U,v:J})}for(F.sort(function(K,oe){return oe.v-K.v}),U=0;U<F.length;U++)L=F[U].k.charAt(0),T.charAt(T.length-1)!==L&&(T+=L);return T!=="DGBEFHACIJK"}}),q=C||!E||!v||!S,_=function(T){return function(R,L){return L===void 0?-1:R===void 0?1:T!==void 0?+T(R,L)||0:o(R)>o(L)?1:-1}};return t({target:"Array",proto:!0,forced:q},{sort:function(R){R!==void 0&&u(R);var L=r(this);if(S)return R===void 0?g(L):g(L,R);var J=[],U=n(L),K,oe;for(oe=0;oe<U;oe++)oe in L&&A(J,L[oe]);for(i(J,_(R)),K=n(J),oe=0;oe<K;)L[oe]=J[oe++];for(;oe<U;)a(L,oe++);return L}}),G1}var rc,eh;function J9(){if(eh)return rc;eh=1,H9();var t=sr();return rc=t("Array","sort"),rc}var nc,th;function Z9(){if(th)return nc;th=1;var t=Eu(),e=J9(),u=Array.prototype;return nc=function(r){var n=r.sort;return r===u||t(u,r)&&n===u.sort?e:n},nc}var ac,uh;function K9(){if(uh)return ac;uh=1;var t=Z9();return ac=t,ac}var oc,rh;function Q9(){return rh||(rh=1,oc=K9()),oc}var nh={},sc,ah;function ME(){return ah||(ah=1,sc=`	
\v\f\r \u2028\u2029\uFEFF`),sc}var ic,oh;function Y9(){if(oh)return ic;oh=1;var t=Nt(),e=Wa,u=ir(),r=ME(),n=t("".replace),a=RegExp("^["+r+"]+"),o=RegExp("(^|[^"+r+"])["+r+"]+$"),s=function(i){return function(l){var c=u(e(l));return i&1&&(c=n(c,a,"")),i&2&&(c=n(c,o,"$1")),c}};return ic={start:s(1),end:s(2),trim:s(3)},ic}var cc,sh;function X9(){if(sh)return cc;sh=1;var t=tu,e=Vt,u=Nt(),r=ir(),n=Y9().trim,a=ME(),o=t.parseInt,s=t.Symbol,i=s&&s.iterator,l=/^[+-]?0x/i,c=u(l.exec),d=o(a+"08")!==8||o(a+"0x16")!==22||i&&!e(function(){o(Object(i))});return cc=d?function(h,F){var g=n(r(h));return o(g,F>>>0||(c(l,g)?16:10))}:o,cc}var ih;function ew(){if(ih)return nh;ih=1;var t=Tt,e=X9();return t({global:!0,forced:parseInt!==e},{parseInt:e}),nh}var lc,ch;function tw(){if(ch)return lc;ch=1,ew();var t=ju;return lc=t.parseInt,lc}var Dc,lh;function uw(){if(lh)return Dc;lh=1;var t=tw();return Dc=t,Dc}var fc,Dh;function rw(){return Dh||(Dh=1,fc=uw()),fc}var fh={},dh;function nw(){if(dh)return fh;dh=1;var t=Tt,e=W0,u=cE().indexOf,r=Xa(),n=e([].indexOf),a=!!n&&1/n([1],1,-0)<0,o=a||!r("indexOf");return t({target:"Array",proto:!0,forced:o},{indexOf:function(i){var l=arguments.length>1?arguments[1]:void 0;return a?n(this,i,l)||0:u(this,i,l)}}),fh}var dc,ph;function aw(){if(ph)return dc;ph=1,nw();var t=sr();return dc=t("Array","indexOf"),dc}var pc,hh;function ow(){if(hh)return pc;hh=1;var t=Eu(),e=aw(),u=Array.prototype;return pc=function(r){var n=r.indexOf;return r===u||t(u,r)&&n===u.indexOf?e:n},pc}var hc,Fh;function sw(){if(Fh)return hc;Fh=1;var t=ow();return hc=t,hc}var Fc,mh;function eo(){return mh||(mh=1,Fc=sw()),Fc}var Eh={},mc,Ch;function iw(){if(Ch)return mc;Ch=1;var t=sl().forEach,e=Xa(),u=e("forEach");return mc=u?[].forEach:function(n){return t(this,n,arguments.length>1?arguments[1]:void 0)},mc}var Ah;function cw(){if(Ah)return Eh;Ah=1;var t=Tt,e=iw();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),Eh}var Ec,vh;function lw(){if(vh)return Ec;vh=1,cw();var t=sr();return Ec=t("Array","forEach"),Ec}var Cc,yh;function Dw(){if(yh)return Cc;yh=1;var t=lw();return Cc=t,Cc}var Ac,gh;function fw(){if(gh)return Ac;gh=1;var t=Dn(),e=iu(),u=Eu(),r=Dw(),n=Array.prototype,a={DOMTokenList:!0,NodeList:!0};return Ac=function(o){var s=o.forEach;return o===n||u(n,o)&&s===n.forEach||e(a,t(o))?r:s},Ac}var vc,bh;function LE(){return bh||(bh=1,vc=fw()),vc}var Bh={},_h;function dw(){if(_h)return Bh;_h=1;var t=Tt,e=mu,u=Qa();return t({target:"Object",stat:!0,sham:!e},{create:u}),Bh}var yc,wh;function pw(){if(wh)return yc;wh=1,dw();var t=ju,e=t.Object;return yc=function(r,n){return e.create(r,n)},yc}var gc,Sh;function hw(){if(Sh)return gc;Sh=1;var t=pw();return gc=t,gc}var bc,$h;function Fw(){return $h||($h=1,bc=hw()),bc}var Bc,kh;function mw(){if(kh)return Bc;kh=1,yE();var t=sr();return Bc=t("Array","concat"),Bc}var _c,qh;function Ew(){if(qh)return _c;qh=1;var t=Eu(),e=mw(),u=Array.prototype;return _c=function(r){var n=r.concat;return r===u||t(u,r)&&n===u.concat?e:n},_c}var wc,Th;function Cw(){if(Th)return wc;Th=1;var t=Ew();return wc=t,wc}var Sc,Ph;function to(){return Ph||(Ph=1,Sc=Cw()),Sc}var Ih;function Aw(){return Ih||(Ih=1,function(t,e){var u=Oa(),r=CE(),n=TE(),a=IE(),o=RE(),s=ar,i=or;s(e,"__esModule",{value:!0}),e.default=void 0;var l=i(NE()),c=i(L9()),d=i(Q9()),p=i(Oa()),h=i(rw()),F=i(eo()),g=i(LE()),A=i(Fw()),C=i(to());function E(x,Z){var ne=typeof n<"u"&&a(x)||x["@@iterator"];if(!ne){if(o(x)||(ne=v(x))||Z&&x&&typeof x.length=="number"){ne&&(x=ne);var m=0,D=function(){};return{s:D,n:function(){return m>=x.length?{done:!0}:{done:!1,value:x[m++]}},e:function(M){throw M},f:D}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,b=!1,$;return{s:function(){ne=ne.call(x)},n:function(){var M=ne.next();return f=M.done,M},e:function(M){b=!0,$=M},f:function(){try{!f&&ne.return!=null&&ne.return()}finally{if(b)throw $}}}}function v(x,Z){var ne;if(x){if(typeof x=="string")return S(x,Z);var m=u(ne=Object.prototype.toString.call(x)).call(ne,8,-1);if(m==="Object"&&x.constructor&&(m=x.constructor.name),m==="Map"||m==="Set")return r(x);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return S(x,Z)}}function S(x,Z){(Z==null||Z>x.length)&&(Z=x.length);for(var ne=0,m=new Array(Z);ne<Z;ne++)m[ne]=x[ne];return m}/*!
 * XRegExp 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2007-present MIT License
 */var q="xregexp",_={astral:!1,namespacing:!0},T={},R={},L={},J=[],U="default",K="class",oe={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},Q=/\$(?:\{([^\}]+)\}|<([^>]+)>|(\d\d?|[\s\S]?))/g,Ce=/()??/.exec("")[1]===void 0,X=(0,c.default)(/x/)!==void 0;function Ee(x){var Z=!0;try{if(new RegExp("",x),x==="y"){var ne=function(){return"gy"}(),m=".a".replace(new RegExp("a",ne),".")==="..";m&&(Z=!1)}}catch{Z=!1}return Z}var ye=Ee("d"),we=Ee("s"),ae=Ee("u"),N=Ee("y"),G={d:ye,g:!0,i:!0,m:!0,s:we,u:ae,y:N},z=we?/[^dgimsuy]+/g:/[^dgimuy]+/g;function y(x,Z,ne,m,D){var f;if(x[q]={captureNames:Z},D)return x;if(x.__proto__)x.__proto__=ie.prototype;else for(var b in ie.prototype)x[b]=ie.prototype[b];return x[q].source=ne,x[q].flags=m&&(0,d.default)(f=m.split("")).call(f).join(""),x}function I(x){return x.replace(/([\s\S])(?=[\s\S]*\1)/g,"")}function H(x,Z){var ne;if(!ie.isRegExp(x))throw new TypeError("Type RegExp expected");var m=x[q]||{},D=ce(x),f="",b="",$=null,w=null;return Z=Z||{},Z.removeG&&(b+="g"),Z.removeY&&(b+="y"),b&&(D=D.replace(new RegExp("[".concat(b,"]+"),"g"),"")),Z.addG&&(f+="g"),Z.addY&&(f+="y"),f&&(D=I(D+f)),Z.isInternalOnly||(m.source!==void 0&&($=m.source),(0,c.default)(m)!=null&&(w=f?I((0,c.default)(m)+f):(0,c.default)(m))),x=y(new RegExp(Z.source||x.source,D),Se(x)?(0,p.default)(ne=m.captureNames).call(ne,0):null,$,w,Z.isInternalOnly),x}function me(x){return(0,h.default)(x,16)}function De(x,Z,ne){var m=x.index+x[0].length,D=x.input[x.index-1],f=x.input[m];return/^[()|]$/.test(D)||/^[()|]$/.test(f)||x.index===0||m===x.input.length||/\(\?(?:[:=!]|<[=!])$/.test(x.input.substring(x.index-4,x.index))||ct(x.input,m,ne)?"":"(?:)"}function ce(x){return X?(0,c.default)(x):/\/([a-z]*)$/i.exec(RegExp.prototype.toString.call(x))[1]}function Se(x){return!!(x[q]&&x[q].captureNames)}function Re(x){return(0,h.default)(x,10).toString(16)}function ct(x,Z,ne){var m=(0,F.default)(ne).call(ne,"x")!==-1?/^(?:\s|#[^#\n]*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/;return m.test((0,p.default)(x).call(x,Z))}function Xe(x,Z){return Object.prototype.toString.call(x)==="[object ".concat(Z,"]")}function rt(x){if(x==null)throw new TypeError("Cannot convert null or undefined to object");return x}function At(x){for(;x.length<4;)x="0".concat(x);return x}function ft(x,Z){if(I(Z)!==Z)throw new SyntaxError("Invalid duplicate regex flag ".concat(Z));x=x.replace(/^\(\?([\w$]+)\)/,function(f,b){if(/[dgy]/.test(b))throw new SyntaxError("Cannot use flags dgy in mode modifier ".concat(f));return Z=I(Z+b),""});var ne=E(Z),m;try{for(ne.s();!(m=ne.n()).done;){var D=m.value;if(!G[D])throw new SyntaxError("Unknown regex flag ".concat(D))}}catch(f){ne.e(f)}finally{ne.f()}return{pattern:x,flags:Z}}function dt(x){var Z={};return Xe(x,"String")?((0,g.default)(ie).call(ie,x,/[^\s,]+/,function(ne){Z[ne]=!0}),Z):x}function wt(x){if(!/^[\w$]$/.test(x))throw new Error("Flag must be a single character A-Za-z0-9_$");G[x]=!0}function nt(x,Z,ne,m,D){for(var f=J.length,b=x[ne],$=null,w,M;f--;)if(M=J[f],!(M.leadChar&&M.leadChar!==b||M.scope!==m&&M.scope!=="all"||M.flag&&(0,F.default)(Z).call(Z,M.flag)===-1)&&(w=ie.exec(x,M.regex,ne,"sticky"),w)){$={matchLength:w[0].length,output:M.handler.call(D,w,m,Z),reparse:M.reparse};break}return $}function tt(x){_.astral=x}function kt(x){_.namespacing=x}function ie(x,Z){if(ie.isRegExp(x)){if(Z!==void 0)throw new TypeError("Cannot supply flags when copying a RegExp");return H(x)}if(x=x===void 0?"":String(x),Z=Z===void 0?"":String(Z),ie.isInstalled("astral")&&(0,F.default)(Z).call(Z,"A")===-1&&(Z+="A"),L[x]||(L[x]={}),!L[x][Z]){for(var ne={hasNamedCapture:!1,captureNames:[]},m=U,D="",f=0,b,$=ft(x,Z),w=$.pattern,M=(0,c.default)($);f<w.length;){do b=nt(w,M,f,m,ne),b&&b.reparse&&(w=(0,p.default)(w).call(w,0,f)+b.output+(0,p.default)(w).call(w,f+b.matchLength));while(b&&b.reparse);if(b)D+=b.output,f+=b.matchLength||1;else{var fe=ie.exec(w,oe[m],f,"sticky"),be=(0,l.default)(fe,1),qe=be[0];D+=qe,f+=qe.length,qe==="["&&m===U?m=K:qe==="]"&&m===K&&(m=U)}}L[x][Z]={pattern:D.replace(/(?:\(\?:\))+/g,"(?:)"),flags:M.replace(z,""),captures:ne.hasNamedCapture?ne.captureNames:null}}var Te=L[x][Z];return y(new RegExp(Te.pattern,(0,c.default)(Te)),Te.captures,x,Z)}ie.prototype=/(?:)/,ie.version="5.1.1",ie._clipDuplicates=I,ie._hasNativeFlag=Ee,ie._dec=me,ie._hex=Re,ie._pad4=At,ie.addToken=function(x,Z,ne){ne=ne||{};var m=ne,D=m.optionalFlags;if(ne.flag&&wt(ne.flag),D){D=D.split("");var f=E(D),b;try{for(f.s();!(b=f.n()).done;){var $=b.value;wt($)}}catch(w){f.e(w)}finally{f.f()}}J.push({regex:H(x,{addG:!0,addY:N,isInternalOnly:!0}),handler:Z,scope:ne.scope||U,flag:ne.flag,reparse:ne.reparse,leadChar:ne.leadChar}),ie.cache.flush("patterns")},ie.cache=function(x,Z){return R[x]||(R[x]={}),R[x][Z]||(R[x][Z]=ie(x,Z))},ie.cache.flush=function(x){x==="patterns"?L={}:R={}},ie.escape=function(x){return String(rt(x)).replace(/[\\\[\]{}()*+?.^$|]/g,"\\$&").replace(/[\s#\-,]/g,function(Z){return"\\u".concat(At(Re(Z.charCodeAt(0))))})},ie.exec=function(x,Z,ne,m){var D="g",f=!1,b=!1,$;f=N&&!!(m||Z.sticky&&m!==!1),f?D+="y":m&&(b=!0,D+="FakeY"),Z[q]=Z[q]||{};var w=Z[q][D]||(Z[q][D]=H(Z,{addG:!0,addY:f,source:b?"".concat(Z.source,"|()"):void 0,removeY:m===!1,isInternalOnly:!0}));return ne=ne||0,w.lastIndex=ne,$=T.exec.call(w,x),b&&$&&$.pop()===""&&($=null),Z.global&&(Z.lastIndex=$?w.lastIndex:0),$},ie.forEach=function(x,Z,ne){for(var m=0,D=-1,f;f=ie.exec(x,Z,m);)ne(f,++D,x,Z),m=f.index+(f[0].length||1)},ie.globalize=function(x){return H(x,{addG:!0})},ie.install=function(x){x=dt(x),!_.astral&&x.astral&&tt(!0),!_.namespacing&&x.namespacing&&kt(!0)},ie.isInstalled=function(x){return!!_[x]},ie.isRegExp=function(x){return Object.prototype.toString.call(x)==="[object RegExp]"},ie.match=function(x,Z,ne){var m=Z.global&&ne!=="one"||ne==="all",D=(m?"g":"")+(Z.sticky?"y":"")||"noGY";Z[q]=Z[q]||{};var f=Z[q][D]||(Z[q][D]=H(Z,{addG:!!m,removeG:ne==="one",isInternalOnly:!0})),b=String(rt(x)).match(f);return Z.global&&(Z.lastIndex=ne==="one"&&b?b.index+b[0].length:0),m?b||[]:b&&b[0]},ie.matchChain=function(x,Z){return function ne(m,D){var f=Z[D].regex?Z[D]:{regex:Z[D]},b=[];function $(be){if(f.backref){var qe="Backreference to undefined group: ".concat(f.backref),Te=isNaN(f.backref);if(Te&&ie.isInstalled("namespacing")){if(!(be.groups&&f.backref in be.groups))throw new ReferenceError(qe)}else if(!be.hasOwnProperty(f.backref))throw new ReferenceError(qe);var Je=Te&&ie.isInstalled("namespacing")?be.groups[f.backref]:be[f.backref];b.push(Je||"")}else b.push(be[0])}var w=E(m),M;try{for(w.s();!(M=w.n()).done;){var fe=M.value;(0,g.default)(ie).call(ie,fe,f.regex,$)}}catch(be){w.e(be)}finally{w.f()}return D===Z.length-1||!b.length?b:ne(b,D+1)}([x],0)},ie.replace=function(x,Z,ne,m){var D=ie.isRegExp(Z),f=Z.global&&m!=="one"||m==="all",b=(f?"g":"")+(Z.sticky?"y":"")||"noGY",$=Z;D?(Z[q]=Z[q]||{},$=Z[q][b]||(Z[q][b]=H(Z,{addG:!!f,removeG:m==="one",isInternalOnly:!0}))):f&&($=new RegExp(ie.escape(String(Z)),"g"));var w=T.replace.call(rt(x),$,ne);return D&&Z.global&&(Z.lastIndex=0),w},ie.replaceEach=function(x,Z){var ne=E(Z),m;try{for(ne.s();!(m=ne.n()).done;){var D=m.value;x=ie.replace(x,D[0],D[1],D[2])}}catch(f){ne.e(f)}finally{ne.f()}return x},ie.split=function(x,Z,ne){return T.split.call(rt(x),Z,ne)},ie.test=function(x,Z,ne,m){return!!ie.exec(x,Z,ne,m)},ie.uninstall=function(x){x=dt(x),_.astral&&x.astral&&tt(!1),_.namespacing&&x.namespacing&&kt(!1)},ie.union=function(x,Z,ne){ne=ne||{};var m=ne.conjunction||"or",D=0,f,b;function $(Je,St,cu){var Nu=b[D-f];if(St){if(++D,Nu)return"(?<".concat(Nu,">")}else if(cu)return"\\".concat(+cu+f);return Je}if(!(Xe(x,"Array")&&x.length))throw new TypeError("Must provide a nonempty array of patterns to merge");var w=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,M=[],fe=E(x),be;try{for(fe.s();!(be=fe.n()).done;){var qe=be.value;ie.isRegExp(qe)?(f=D,b=qe[q]&&qe[q].captureNames||[],M.push(ie(qe.source).source.replace(w,$))):M.push(ie.escape(qe))}}catch(Je){fe.e(Je)}finally{fe.f()}var Te=m==="none"?"":"|";return ie(M.join(Te),Z)},T.exec=function(x){var Z=this.lastIndex,ne=RegExp.prototype.exec.apply(this,arguments);if(ne){if(!Ce&&ne.length>1&&(0,F.default)(ne).call(ne,"")!==-1){var m,D=H(this,{removeG:!0,isInternalOnly:!0});(0,p.default)(m=String(x)).call(m,ne.index).replace(D,function(){for(var w=arguments.length,M=1;M<w-2;++M)(M<0||arguments.length<=M?void 0:arguments[M])===void 0&&(ne[M]=void 0)})}if(this[q]&&this[q].captureNames){var f=ne;ie.isInstalled("namespacing")&&(ne.groups=(0,A.default)(null),f=ne.groups);for(var b=1;b<ne.length;++b){var $=this[q].captureNames[b-1];$&&(f[$]=ne[b])}}else!ne.groups&&ie.isInstalled("namespacing")&&(ne.groups=void 0);this.global&&!ne[0].length&&this.lastIndex>ne.index&&(this.lastIndex=ne.index)}return this.global||(this.lastIndex=Z),ne},T.test=function(x){return!!T.exec.call(this,x)},T.match=function(x){if(!ie.isRegExp(x))x=new RegExp(x);else if(x.global){var Z=String.prototype.match.apply(this,arguments);return x.lastIndex=0,Z}return T.exec.call(x,rt(this))},T.replace=function(x,Z){var ne=ie.isRegExp(x),m,D,f;return ne?(x[q]&&(D=x[q].captureNames),m=x.lastIndex):x+="",Xe(Z,"Function")?f=String(this).replace(x,function(){for(var b=arguments.length,$=new Array(b),w=0;w<b;w++)$[w]=arguments[w];if(D){var M;ie.isInstalled("namespacing")?(M=(0,A.default)(null),$.push(M)):($[0]=new String($[0]),M=$[0]);for(var fe=0;fe<D.length;++fe)D[fe]&&(M[D[fe]]=$[fe+1])}return Z.apply(void 0,$)}):f=String(rt(this)).replace(x,function(){for(var b=arguments.length,$=new Array(b),w=0;w<b;w++)$[w]=arguments[w];return String(Z).replace(Q,M);function M(fe,be,qe,Te){be=be||qe;var Je=Xe($[$.length-1],"Object")?4:3,St=$.length-Je;if(be){if(/^\d+$/.test(be)){var cu=+be;if(cu<=St)return $[cu]||""}var Nu=D?(0,F.default)(D).call(D,be):-1;if(Nu<0)throw new SyntaxError("Backreference to undefined group ".concat(fe));return $[Nu+1]||""}if(Te===""||Te===" ")throw new SyntaxError("Invalid token ".concat(fe));if(Te==="&"||+Te==0)return $[0];if(Te==="$")return"$";if(Te==="`"){var Sr;return(0,p.default)(Sr=$[$.length-1]).call(Sr,0,$[$.length-2])}if(Te==="'"){var $r;return(0,p.default)($r=$[$.length-1]).call($r,$[$.length-2]+$[0].length)}if(Te=+Te,!isNaN(Te)){if(Te>St)throw new SyntaxError("Backreference to undefined group ".concat(fe));return $[Te]||""}throw new SyntaxError("Invalid token ".concat(fe))}}),ne&&(x.global?x.lastIndex=0:x.lastIndex=m),f},T.split=function(x,Z){if(!ie.isRegExp(x))return String.prototype.split.apply(this,arguments);var ne=String(this),m=[],D=x.lastIndex,f=0,b;return Z=(Z===void 0?-1:Z)>>>0,(0,g.default)(ie).call(ie,ne,x,function($){$.index+$[0].length>f&&(m.push((0,p.default)(ne).call(ne,f,$.index)),$.length>1&&$.index<ne.length&&Array.prototype.push.apply(m,(0,p.default)($).call($,1)),b=$[0].length,f=$.index+b)}),f===ne.length?(!x.test("")||b)&&m.push(""):m.push((0,p.default)(ne).call(ne,f)),x.lastIndex=D,m.length>Z?(0,p.default)(m).call(m,0,Z):m},ie.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,function(x,Z){if(x[1]==="B"&&Z===U)return x[0];throw new SyntaxError("Invalid escape ".concat(x[0]))},{scope:"all",leadChar:"\\"}),ie.addToken(/\\u{([\dA-Fa-f]+)}/,function(x,Z,ne){var m=me(x[1]);if(m>1114111)throw new SyntaxError("Invalid Unicode code point ".concat(x[0]));if(m<=65535)return"\\u".concat(At(Re(m)));if(ae&&(0,F.default)(ne).call(ne,"u")!==-1)return x[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")},{scope:"all",leadChar:"\\"}),ie.addToken(/\(\?#[^)]*\)/,De,{leadChar:"("}),ie.addToken(/\s+|#[^\n]*\n?/,De,{flag:"x"}),we||ie.addToken(/\./,function(){return"[\\s\\S]"},{flag:"s",leadChar:"."}),ie.addToken(/\\k<([^>]+)>/,function(x){var Z,ne,m=isNaN(x[1])?(0,F.default)(Z=this.captureNames).call(Z,x[1])+1:+x[1],D=x.index+x[0].length;if(!m||m>this.captureNames.length)throw new SyntaxError("Backreference to undefined group ".concat(x[0]));return(0,C.default)(ne="\\".concat(m)).call(ne,D===x.input.length||isNaN(x.input[D])?"":"(?:)")},{leadChar:"\\"}),ie.addToken(/\\(\d+)/,function(x,Z){if(!(Z===U&&/^[1-9]/.test(x[1])&&+x[1]<=this.captureNames.length)&&x[1]!=="0")throw new SyntaxError("Cannot use octal escape or backreference to undefined group ".concat(x[0]));return x[0]},{scope:"all",leadChar:"\\"}),ie.addToken(/\(\?P?<((?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[\$0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088E\u0898-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA827\uA82C\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDF70-\uDF85\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]|\uDB40[\uDD00-\uDDEF])*)>/,function(x){var Z;if(!ie.isInstalled("namespacing")&&(x[1]==="length"||x[1]==="__proto__"))throw new SyntaxError("Cannot use reserved word as capture name ".concat(x[0]));if((0,F.default)(Z=this.captureNames).call(Z,x[1])!==-1)throw new SyntaxError("Cannot use same name for multiple groups ".concat(x[0]));return this.captureNames.push(x[1]),this.hasNamedCapture=!0,"("},{leadChar:"("}),ie.addToken(/\((?!\?)/,function(x,Z,ne){return(0,F.default)(ne).call(ne,"n")!==-1?"(?:":(this.captureNames.push(null),"(")},{optionalFlags:"n",leadChar:"("});var Ft=ie;e.default=Ft,t.exports=e.default}(ia,ia.exports)),ia.exports}var ca={exports:{}},Oh={},$c,Rh;function vw(){if(Rh)return $c;Rh=1;var t=on,e=Gu(),u=H0,r=Ju(),n=TypeError,a=function(o){return function(s,i,l,c){t(i);var d=e(s),p=u(d),h=r(d),F=o?h-1:0,g=o?-1:1;if(l<2)for(;;){if(F in p){c=p[F],F+=g;break}if(F+=g,o?F<0:h<=F)throw new n("Reduce of empty array with no initial value")}for(;o?F>=0:h>F;F+=g)F in p&&(c=i(c,p[F],F,d));return c}};return $c={left:a(!1),right:a(!0)},$c}var kc,xh;function yw(){if(xh)return kc;xh=1;var t=tu,e=Br();return kc=e(t.process)==="process",kc}var jh;function gw(){if(jh)return Oh;jh=1;var t=Tt,e=vw().left,u=Xa(),r=Mn(),n=yw(),a=!n&&r>79&&r<83,o=a||!u("reduce");return t({target:"Array",proto:!0,forced:o},{reduce:function(i){var l=arguments.length;return e(this,i,l,l>1?arguments[1]:void 0)}}),Oh}var qc,Nh;function bw(){if(Nh)return qc;Nh=1,gw();var t=sr();return qc=t("Array","reduce"),qc}var Tc,Mh;function Bw(){if(Mh)return Tc;Mh=1;var t=Eu(),e=bw(),u=Array.prototype;return Tc=function(r){var n=r.reduce;return r===u||t(u,r)&&n===u.reduce?e:n},Tc}var Pc,Lh;function _w(){if(Lh)return Pc;Lh=1;var t=Bw();return Pc=t,Pc}var Ic,Uh;function ww(){return Uh||(Uh=1,Ic=_w()),Ic}var Vh={},Wh;function Sw(){if(Wh)return Vh;Wh=1;var t=Tt,e=sl().map,u=rl(),r=u("map");return t({target:"Array",proto:!0,forced:!r},{map:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),Vh}var Oc,zh;function $w(){if(zh)return Oc;zh=1,Sw();var t=sr();return Oc=t("Array","map"),Oc}var Rc,Gh;function kw(){if(Gh)return Rc;Gh=1;var t=Eu(),e=$w(),u=Array.prototype;return Rc=function(r){var n=r.map;return r===u||t(u,r)&&n===u.map?e:n},Rc}var xc,Hh;function qw(){if(Hh)return xc;Hh=1;var t=kw();return xc=t,xc}var jc,Jh;function Tw(){return Jh||(Jh=1,jc=qw()),jc}var Zh;function Pw(){return Zh||(Zh=1,function(t,e){var u=ar,r=or;u(e,"__esModule",{value:!0}),e.default=void 0;var n=r(ww()),a=r(Tw()),o=r(eo()),s=r(to());/*!
 * XRegExp.build 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2012-present MIT License
 */var i=function(c){var d="xregexp",p=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,h=c.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,p],"g",{conjunction:"or"});function F(v){var S=/^(?:\(\?:\))*\^/,q=/\$(?:\(\?:\))*$/;return S.test(v)&&q.test(v)&&q.test(v.replace(/\\[\s\S]/g,""))?v.replace(S,"").replace(q,""):v}function g(v,S){var q=S?"x":"";return c.isRegExp(v)?v[d]&&v[d].captureNames?v:c(v.source,q):c(v,q)}function A(v){return v instanceof RegExp?v:c.escape(v)}function C(v,S,q){return v["subpattern".concat(q)]=S,v}function E(v,S,q){var _=S<q.length-1;return v+(_?"{{subpattern".concat(S,"}}"):"")}c.tag=function(v){return function(S){for(var q,_,T=arguments.length,R=new Array(T>1?T-1:0),L=1;L<T;L++)R[L-1]=arguments[L];var J=(0,n.default)(q=(0,a.default)(R).call(R,A)).call(q,C,{}),U=(0,a.default)(_=S.raw).call(_,E).join("");return c.build(U,J,v)}},c.build=function(v,S,q){q=q||"";var _=(0,o.default)(q).call(q,"x")!==-1,T=/^\(\?([\w$]+)\)/.exec(v);T&&(q=c._clipDuplicates(q+T[1]));var R={};for(var L in S)if(S.hasOwnProperty(L)){var J=g(S[L],_);R[L]={pattern:F(J.source),names:J[d].captureNames||[]}}var U=g(v,_),K=0,oe,Q=0,Ce=[0],X=U[d].captureNames||[],Ee=U.source.replace(h,function(ye,we,ae,N,G){var z=we||ae,y,I,H;if(z){var me;if(!R.hasOwnProperty(z))throw new ReferenceError("Undefined property ".concat(ye));we?(y=X[Q],Ce[++Q]=++K,I="(?<".concat(y||z,">")):I="(?:",oe=K;var De=R[z].pattern.replace(p,function(ce,Se,Re){if(Se){if(y=R[z].names[K-oe],++K,y)return"(?<".concat(y,">")}else if(Re)return H=+Re-1,R[z].names[H]?"\\k<".concat(R[z].names[H],">"):"\\".concat(+Re+oe);return ce});return(0,s.default)(me="".concat(I)).call(me,De,")")}if(N){if(y=X[Q],Ce[++Q]=++K,y)return"(?<".concat(y,">")}else if(G)return H=+G-1,X[H]?"\\k<".concat(X[H],">"):"\\".concat(Ce[+G]);return ye});return c(Ee,q)}};e.default=i,t.exports=e.default}(ca,ca.exports)),ca.exports}var la={exports:{}},Kh;function Iw(){return Kh||(Kh=1,function(t,e){var u=ar,r=or;u(e,"__esModule",{value:!0}),e.default=void 0;var n=r(eo()),a=r(to()),o=r(Oa());/*!
 * XRegExp.matchRecursive 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2009-present MIT License
 */var s=function(l){function c(d,p,h,F){return{name:d,value:p,start:h,end:F}}l.matchRecursive=function(d,p,h,F,g){F=F||"",g=g||{};var A=(0,n.default)(F).call(F,"g")!==-1,C=(0,n.default)(F).call(F,"y")!==-1,E=F.replace(/y/g,"");p=l(p,E),h=l(h,E);var v,S=g,q=S.escapeChar;if(q){var _,T;if(q.length>1)throw new Error("Cannot use more than one escape character");q=l.escape(q),v=new RegExp((0,a.default)(_=(0,a.default)(T="(?:".concat(q,"[\\S\\s]|(?:(?!")).call(T,l.union([p,h],"",{conjunction:"or"}).source,")[^")).call(_,q,"])+)+"),F.replace(l._hasNativeFlag("s")?/[^imsu]/g:/[^imu]/g,""))}for(var R=0,L=0,J=0,U=0,K,oe,Q,Ce,X=g.valueNames,Ee=[];;){if(q&&(J+=(l.exec(d,v,J,"sticky")||[""])[0].length),Q=l.exec(d,p,J),Ce=l.exec(d,h,J),Q&&Ce&&(Q.index<=Ce.index?Ce=null:Q=null),Q||Ce)L=(Q||Ce).index,J=L+(Q||Ce)[0].length;else if(!R)break;if(C&&!R&&L>U)break;if(Q)R||(K=L,oe=J),R+=1;else if(Ce&&R){if(R-=1,!R&&(X?(X[0]&&K>U&&Ee.push(c(X[0],(0,o.default)(d).call(d,U,K),U,K)),X[1]&&Ee.push(c(X[1],(0,o.default)(d).call(d,K,oe),K,oe)),X[2]&&Ee.push(c(X[2],(0,o.default)(d).call(d,oe,L),oe,L)),X[3]&&Ee.push(c(X[3],(0,o.default)(d).call(d,L,J),L,J))):Ee.push((0,o.default)(d).call(d,oe,L)),U=J,!A))break}else{var ye=g.unbalanced||"error";if(ye==="skip"||ye==="skip-lazy")if(Ce)Ce=null;else{if(ye==="skip"){var we=l.exec(d,p,K,"sticky")[0].length;J=K+(we||1)}else J=K+1;R=0}else if(ye==="error"){var ae,N=Ce?"right":"left",G=Ce?L:K;throw new Error((0,a.default)(ae="Unbalanced ".concat(N," delimiter found in string at position ")).call(ae,G))}else throw new Error("Unsupported value for unbalanced: ".concat(ye))}L===J&&(J+=1)}return A&&Ee.length>0&&!C&&X&&X[0]&&d.length>U&&Ee.push(c(X[0],(0,o.default)(d).call(d,U),U,d.length)),Ee}};e.default=s,t.exports=e.default}(la,la.exports)),la.exports}var Da={exports:{}},Qh;function Ow(){return Qh||(Qh=1,function(t,e){var u=Oa(),r=CE(),n=TE(),a=IE(),o=RE(),s=ar,i=or;s(e,"__esModule",{value:!0}),e.default=void 0;var l=i(NE()),c=i(LE()),d=i(to()),p=i(eo());function h(C,E){var v=typeof n<"u"&&a(C)||C["@@iterator"];if(!v){if(o(C)||(v=F(C))||E&&C&&typeof C.length=="number"){v&&(C=v);var S=0,q=function(){};return{s:q,n:function(){return S>=C.length?{done:!0}:{done:!1,value:C[S++]}},e:function(J){throw J},f:q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _=!0,T=!1,R;return{s:function(){v=v.call(C)},n:function(){var J=v.next();return _=J.done,J},e:function(J){T=!0,R=J},f:function(){try{!_&&v.return!=null&&v.return()}finally{if(T)throw R}}}}function F(C,E){var v;if(C){if(typeof C=="string")return g(C,E);var S=u(v=Object.prototype.toString.call(C)).call(v,8,-1);if(S==="Object"&&C.constructor&&(S=C.constructor.name),S==="Map"||S==="Set")return r(C);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return g(C,E)}}function g(C,E){(E==null||E>C.length)&&(E=C.length);for(var v=0,S=new Array(E);v<E;v++)S[v]=C[v];return S}/*!
 * XRegExp Unicode Base 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2008-present MIT License
 */var A=function(E){var v={},S={},q=E._dec,_=E._hex,T=E._pad4;function R(Q){return Q.replace(/[- _]+/g,"").toLowerCase()}function L(Q){var Ce=/^\\[xu](.+)/.exec(Q);return Ce?q(Ce[1]):Q.charCodeAt(Q[0]==="\\"?1:0)}function J(Q){var Ce="",X=-1;return(0,c.default)(E).call(E,Q,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,function(Ee){var ye=L(Ee[1]);ye>X+1&&(Ce+="\\u".concat(T(_(X+1))),ye>X+2&&(Ce+="-\\u".concat(T(_(ye-1))))),X=L(Ee[2]||Ee[1])}),X<65535&&(Ce+="\\u".concat(T(_(X+1))),X<65534&&(Ce+="-\\uFFFF")),Ce}function U(Q){var Ce="b!";return v[Q][Ce]||(v[Q][Ce]=J(v[Q].bmp))}function K(Q,Ce){var X=v[Q],Ee="";if(X.bmp&&!X.isBmpLast){var ye;Ee=(0,d.default)(ye="[".concat(X.bmp,"]")).call(ye,X.astral?"|":"")}if(X.astral&&(Ee+=X.astral),X.isBmpLast&&X.bmp){var we;Ee+=(0,d.default)(we="".concat(X.astral?"|":"","[")).call(we,X.bmp,"]")}return Ce?"(?:(?!".concat(Ee,")(?:[\uD800-\uDBFF][\uDC00-\uDFFF]|[\0-]))"):"(?:".concat(Ee,")")}function oe(Q,Ce){var X=Ce?"a!":"a=";return v[Q][X]||(v[Q][X]=K(Q,Ce))}E.addToken(/\\([pP])(?:{(\^?)(?:(\w+)=)?([^}]*)}|([A-Za-z]))/,function(Q,Ce,X){var Ee="Invalid double negation ",ye="Unknown Unicode token ",we="Unicode token missing data ",ae="Astral mode required for Unicode token ",N="Astral mode does not support Unicode tokens within character classes",G=(0,l.default)(Q,6),z=G[0],y=G[1],I=G[2],H=G[3],me=G[4],De=G[5],ce=y==="P"||!!I,Se=(0,p.default)(X).call(X,"A")!==-1,Re=R(De||me),ct=v[Re];if(y==="P"&&I)throw new SyntaxError(Ee+z);if(!v.hasOwnProperty(Re))throw new SyntaxError(ye+z);if(H&&!(S[H]&&S[H][Re]))throw new SyntaxError(ye+z);if(ct.inverseOf){if(Re=R(ct.inverseOf),!v.hasOwnProperty(Re)){var Xe;throw new ReferenceError((0,d.default)(Xe="".concat(we+z," -> ")).call(Xe,ct.inverseOf))}ct=v[Re],ce=!ce}if(!(ct.bmp||Se))throw new SyntaxError(ae+z);if(Se){if(Ce==="class")throw new SyntaxError(N);return oe(Re,ce)}return Ce==="class"?ce?U(Re):ct.bmp:"".concat((ce?"[^":"[")+ct.bmp,"]")},{scope:"all",optionalFlags:"A",leadChar:"\\"}),E.addUnicodeData=function(Q,Ce){var X="Unicode token requires name",Ee="Unicode token has no character data ";Ce&&(S[Ce]={});var ye=h(Q),we;try{for(ye.s();!(we=ye.n()).done;){var ae=we.value;if(!ae.name)throw new Error(X);if(!(ae.inverseOf||ae.bmp||ae.astral))throw new Error(Ee+ae.name);var N=R(ae.name);if(v[N]=ae,Ce&&(S[Ce][N]=!0),ae.alias){var G=R(ae.alias);v[G]=ae,Ce&&(S[Ce][G]=!0)}}}catch(z){ye.e(z)}finally{ye.f()}E.cache.flush("patterns")},E._getUnicodeProperty=function(Q){var Ce=R(Q);return v[Ce]}};e.default=A,t.exports=e.default}(Da,Da.exports)),Da.exports}var fa={exports:{}},Nc,Yh;function Rw(){return Yh||(Yh=1,Nc=[{name:"C",alias:"Other",isBmpLast:!0,bmp:"\0----------------------------------------------------------------------------------------------------------------------------------------",astral:"\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDCFF\uDD03-\uDD06\uDD34-\uDD36\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDFC4-\uDFC7\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6E\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1E\uDD3A-\uDD3E\uDD40-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE49-\uDE4F\uDE59-\uDE5F\uDEA0-\uDEBF\uDEE7-\uDEEA\uDEF7-\uDEFF\uDF36-\uDF38\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDF98\uDF9D-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD28-\uDD2F\uDD3A-\uDE5F\uDE7F\uDEAA\uDEAE\uDEAF\uDEB2-\uDEFF\uDF28-\uDF2F\uDF5A-\uDF6F\uDF8A-\uDFAF\uDFCC-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC4E-\uDC51\uDC76-\uDC7E\uDCBD\uDCC3-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD48-\uDD4F\uDD77-\uDD7F\uDDE0\uDDF5-\uDDFF\uDE12\uDE3F-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEAA-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC5C\uDC62-\uDC7F\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDDE-\uDDFF\uDE45-\uDE4F\uDE5A-\uDE5F\uDE6D-\uDE7F\uDEBA-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF47-\uDFFF]|\uD806[\uDC3C-\uDC9F\uDCF3-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD47-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE5-\uDDFF\uDE48-\uDE4F\uDEA3-\uDEAF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC37\uDC46-\uDC4F\uDC6D-\uDC6F\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF9-\uDFAF\uDFB1-\uDFBF\uDFF2-\uDFFE]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F\uDC75-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80E-\uD810\uD812-\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD832\uD83F\uD87B-\uD87D\uD87F\uD885-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF3-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDE6D\uDEBF\uDECA-\uDECF\uDEEE\uDEEF\uDEF6-\uDEFF\uDF46-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE9B-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A\uDC9B\uDCA0-\uDFFF]|\uD833[\uDC00-\uDEFF\uDF2E\uDF2F\uDF47-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD73-\uDD7A\uDDEB-\uDDFF\uDE46-\uDEDF\uDEF4-\uDEFF\uDF57-\uDF5F\uDF79-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]|\uD836[\uDE8C-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD837[\uDC00-\uDEFF\uDF1F-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD50-\uDE8F\uDEAF-\uDEBF\uDEFA-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5\uDCC6\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDC70\uDCB5-\uDD00\uDD3E-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDCFF\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED8-\uDEDC\uDEED-\uDEEF\uDEFD-\uDEFF\uDF74-\uDF7F\uDFD9-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCB2-\uDCFF\uDE54-\uDE5F\uDE6E\uDE6F\uDE75-\uDE77\uDE7D-\uDE7F\uDE87-\uDE8F\uDEAD-\uDEAF\uDEBB-\uDEBF\uDEC6-\uDECF\uDEDA-\uDEDF\uDEE8-\uDEEF\uDEF7-\uDEFF\uDF93\uDFCB-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86D[\uDF39-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]"},{name:"Cc",alias:"Control",bmp:"\0--"},{name:"Cf",alias:"Format",bmp:"-----\uFEFF-",astral:"\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC38]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]"},{name:"Cn",alias:"Unassigned",bmp:"----------------------------------------------------------------------------------------------------------------------------------",astral:"\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDCFF\uDD03-\uDD06\uDD34-\uDD36\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDFC4-\uDFC7\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6E\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1E\uDD3A-\uDD3E\uDD40-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE49-\uDE4F\uDE59-\uDE5F\uDEA0-\uDEBF\uDEE7-\uDEEA\uDEF7-\uDEFF\uDF36-\uDF38\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDF98\uDF9D-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD28-\uDD2F\uDD3A-\uDE5F\uDE7F\uDEAA\uDEAE\uDEAF\uDEB2-\uDEFF\uDF28-\uDF2F\uDF5A-\uDF6F\uDF8A-\uDFAF\uDFCC-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC4E-\uDC51\uDC76-\uDC7E\uDCC3-\uDCCC\uDCCE\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD48-\uDD4F\uDD77-\uDD7F\uDDE0\uDDF5-\uDDFF\uDE12\uDE3F-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEAA-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC5C\uDC62-\uDC7F\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDDE-\uDDFF\uDE45-\uDE4F\uDE5A-\uDE5F\uDE6D-\uDE7F\uDEBA-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF47-\uDFFF]|\uD806[\uDC3C-\uDC9F\uDCF3-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD47-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE5-\uDDFF\uDE48-\uDE4F\uDEA3-\uDEAF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC37\uDC46-\uDC4F\uDC6D-\uDC6F\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF9-\uDFAF\uDFB1-\uDFBF\uDFF2-\uDFFE]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F\uDC75-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80E-\uD810\uD812-\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD832\uD83F\uD87B-\uD87D\uD87F\uD885-\uDB3F\uDB41-\uDB7F][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF3-\uDFFF]|\uD80D[\uDC2F\uDC39-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDE6D\uDEBF\uDECA-\uDECF\uDEEE\uDEEF\uDEF6-\uDEFF\uDF46-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE9B-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A\uDC9B\uDCA4-\uDFFF]|\uD833[\uDC00-\uDEFF\uDF2E\uDF2F\uDF47-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDDEB-\uDDFF\uDE46-\uDEDF\uDEF4-\uDEFF\uDF57-\uDF5F\uDF79-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]|\uD836[\uDE8C-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD837[\uDC00-\uDEFF\uDF1F-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD50-\uDE8F\uDEAF-\uDEBF\uDEFA-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5\uDCC6\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDC70\uDCB5-\uDD00\uDD3E-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDCFF\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED8-\uDEDC\uDEED-\uDEEF\uDEFD-\uDEFF\uDF74-\uDF7F\uDFD9-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCB2-\uDCFF\uDE54-\uDE5F\uDE6E\uDE6F\uDE75-\uDE77\uDE7D-\uDE7F\uDE87-\uDE8F\uDEAD-\uDEAF\uDEBB-\uDEBF\uDEC6-\uDECF\uDEDA-\uDEDF\uDEE8-\uDEEF\uDEF7-\uDEFF\uDF93\uDFCB-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86D[\uDF39-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|\uDB40[\uDC00\uDC02-\uDC1F\uDC80-\uDCFF\uDDF0-\uDFFF]|[\uDBBF\uDBFF][\uDFFE\uDFFF]"},{name:"Co",alias:"Private_Use",bmp:"-",astral:"[\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uDBBF\uDBFF][\uDC00-\uDFFD]"},{name:"Cs",alias:"Surrogate",bmp:"\uD800-\uDFFF"},{name:"L",alias:"Letter",bmp:"A-Za-z----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",astral:"\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]"},{name:"LC",alias:"Cased_Letter",bmp:"A-Za-z-----------------------------------------------------------------",astral:"\uD801[\uDC00-\uDC4F\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]|\uD803[\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD806[\uDCA0-\uDCDF]|\uD81B[\uDE40-\uDE7F]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E]|\uD83A[\uDD00-\uDD43]"},{name:"Ll",alias:"Lowercase_Letter",bmp:"a-z---------------------------------------------------",astral:"\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E]|\uD83A[\uDD22-\uDD43]"},{name:"Lm",alias:"Modifier_Letter",bmp:"-------------",astral:"\uD801[\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD81A[\uDF40-\uDF43]|\uD81B[\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD838[\uDD37-\uDD3D]|"},{name:"Lo",alias:"Other_Letter",bmp:"--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",astral:"\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC50-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF4A\uDF50]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]||\uD838[\uDD00-\uDD2C\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]"},{name:"Lt",alias:"Titlecase_Letter",bmp:"---"},{name:"Lu",alias:"Uppercase_Letter",bmp:"A-Z------------------------------------------",astral:"\uD801[\uDC00-\uDC27\uDCB0-\uDCD3\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]"},{name:"M",alias:"Mark",bmp:"----------------------------------------------------------------------------------------------------------------",astral:"\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF]"},{name:"Mc",alias:"Spacing_Mark",bmp:"-----------------------------",astral:"\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3E\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB0-\uDCB2\uDCB9\uDCBB-\uDCBE\uDCC1\uDDAF-\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF20\uDF21\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD30-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD65\uDD66\uDD6D-\uDD72]"},{name:"Me",alias:"Enclosing_Mark",bmp:"---"},{name:"Mn",alias:"Nonspacing_Mark",bmp:"---------------------------------------------------------------------------------",astral:"\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF40\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB3-\uDCB8\uDCBA\uDCBF\uDCC0\uDCC2\uDCC3\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD67-\uDD69\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF]"},{name:"N",alias:"Number",bmp:"0-9-------------------------------------------------------------",astral:"\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]"},{name:"Nd",alias:"Decimal_Number",bmp:"0-9------------------------------------",astral:"\uD801[\uDCA0-\uDCA9]|\uD803[\uDD30-\uDD39]|\uD804[\uDC66-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF39]|\uD806[\uDCE0-\uDCE9\uDD50-\uDD59]|\uD807[\uDC50-\uDC59\uDD50-\uDD59\uDDA0-\uDDA9]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDD50-\uDD59]|\uD83E[\uDFF0-\uDFF9]"},{name:"Nl",alias:"Letter_Number",bmp:"------",astral:"\uD800[\uDD40-\uDD74\uDF41\uDF4A\uDFD1-\uDFD5]|\uD809[\uDC00-\uDC6E]"},{name:"No",alias:"Other_Number",bmp:"-----------------------",astral:"\uD800[\uDD07-\uDD33\uDD75-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC65\uDDE1-\uDDF4]|\uD805[\uDF3A\uDF3B]|\uD806[\uDCEA-\uDCF2]|\uD807[\uDC5A-\uDC6C\uDFC0-\uDFD4]|\uD81A[\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD83A[\uDCC7-\uDCCF]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]"},{name:"P",alias:"Punctuation",bmp:"!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}---------------------------------------------------",astral:"\uD800[\uDD00-\uDD02\uDF9F\uDFD0]||\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]||\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]"},{name:"Pc",alias:"Connector_Punctuation",bmp:"_-"},{name:"Pd",alias:"Dash_Punctuation",bmp:"\\--",astral:""},{name:"Pe",alias:"Close_Punctuation",bmp:"\\)\\]\\}"},{name:"Pf",alias:"Final_Punctuation",bmp:""},{name:"Pi",alias:"Initial_Punctuation",bmp:""},{name:"Po",alias:"Other_Punctuation",bmp:"!-#%-'\\*,\\.\\/:;\\?@\\-------------------------------------------------",astral:"\uD800[\uDD00-\uDD02\uDF9F\uDFD0]||\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]||\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]"},{name:"Ps",alias:"Open_Punctuation",bmp:"\\(\\[\\{"},{name:"S",alias:"Symbol",bmp:"\\$\\+<->\\^`\\|~----------------------------------------------------------------------",astral:"\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]||\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]||\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDD-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF73\uDF80-\uDFD8\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6\uDF00-\uDF92\uDF94-\uDFCA]"},{name:"Sc",alias:"Currency_Symbol",bmp:"\\$--",astral:"\uD807[\uDFDD-\uDFE0]||"},{name:"Sk",alias:"Modifier_Symbol",bmp:"\\^`----------",astral:"\uD83C[\uDFFB-\uDFFF]"},{name:"Sm",alias:"Math_Symbol",bmp:"\\+<->\\|~---------------------",astral:"\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD83B[\uDEF0\uDEF1]"},{name:"So",alias:"Other_Symbol",bmp:"--------------------------------------------------------",astral:"\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]||\uD807[\uDFD5-\uDFDC\uDFE1-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]||\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]||\uD83B[\uDCAC\uDD2E]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFA]|\uD83D[\uDC00-\uDED7\uDEDD-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF73\uDF80-\uDFD8\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6\uDF00-\uDF92\uDF94-\uDFCA]"},{name:"Z",alias:"Separator",bmp:" -\u2028\u2029"},{name:"Zl",alias:"Line_Separator",bmp:"\u2028"},{name:"Zp",alias:"Paragraph_Separator",bmp:"\u2029"},{name:"Zs",alias:"Space_Separator",bmp:" -"}]),Nc}var Xh;function xw(){return Xh||(Xh=1,function(t,e){var u=ar,r=or;u(e,"__esModule",{value:!0}),e.default=void 0;var n=r(Rw());/*!
 * XRegExp Unicode Categories 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2010-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */var a=function(s){if(!s.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");s.addUnicodeData(n.default)};e.default=a,t.exports=e.default}(fa,fa.exports)),fa.exports}var da={exports:{}},Mc,eF;function jw(){return eF||(eF=1,Mc=[{name:"ASCII",bmp:"\0-"},{name:"Alphabetic",bmp:"A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",astral:"\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC45\uDC71-\uDC75\uDC82-\uDCB8\uDCC2\uDCD0-\uDCE8\uDD00-\uDD32\uDD44-\uDD47\uDD50-\uDD72\uDD76\uDD80-\uDDBF\uDDC1-\uDDC4\uDDCE\uDDCF\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE34\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEE8\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D-\uDF44\uDF47\uDF48\uDF4B\uDF4C\uDF50\uDF57\uDF5D-\uDF63]|\uD805[\uDC00-\uDC41\uDC43-\uDC45\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCC1\uDCC4\uDCC5\uDCC7\uDD80-\uDDB5\uDDB8-\uDDBE\uDDD8-\uDDDD\uDE00-\uDE3E\uDE40\uDE44\uDE80-\uDEB5\uDEB8\uDF00-\uDF1A\uDF1D-\uDF2A\uDF40-\uDF46]|\uD806[\uDC00-\uDC38\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B\uDD3C\uDD3F-\uDD42\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDDF\uDDE1\uDDE3\uDDE4\uDE00-\uDE32\uDE35-\uDE3E\uDE50-\uDE97\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC3E\uDC40\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD41\uDD43\uDD46\uDD47\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD96\uDD98\uDEE0-\uDEF6\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9E]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD47\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]"},{name:"Any",isBmpLast:!0,bmp:"\0-",astral:"[\uD800-\uDBFF][\uDC00-\uDFFF]"},{name:"Default_Ignorable_Code_Point",bmp:"-----\uFEFF-",astral:"\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|[\uDB40-\uDB43][\uDC00-\uDFFF]"},{name:"Lowercase",bmp:"a-z-------------------------------------------------------",astral:"\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDF80\uDF83-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E]|\uD83A[\uDD22-\uDD43]"},{name:"Noncharacter_Code_Point",bmp:"-",astral:"[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]"},{name:"Uppercase",bmp:"A-Z--------------------------------------------",astral:"\uD801[\uDC00-\uDC27\uDCB0-\uDCD3\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89]"},{name:"White_Space",bmp:"	-\r -\u2028\u2029"}]),Mc}var tF;function Nw(){return tF||(tF=1,function(t,e){var u=ar,r=or;u(e,"__esModule",{value:!0}),e.default=void 0;var n=r(jw());/*!
 * XRegExp Unicode Properties 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2012-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */var a=function(s){if(!s.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Properties");var i=n.default;i.push({name:"Assigned",inverseOf:"Cn"}),s.addUnicodeData(i)};e.default=a,t.exports=e.default}(da,da.exports)),da.exports}var pa={exports:{}},Lc,uF;function Mw(){return uF||(uF=1,Lc=[{name:"Adlam",astral:"\uD83A[\uDD00-\uDD4B\uDD50-\uDD59\uDD5E\uDD5F]"},{name:"Ahom",astral:"\uD805[\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF46]"},{name:"Anatolian_Hieroglyphs",astral:"\uD811[\uDC00-\uDE46]"},{name:"Arabic",bmp:"--------------------",astral:"\uD803[\uDE60-\uDE7E]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB\uDEF0\uDEF1]"},{name:"Armenian",bmp:"----"},{name:"Avestan",astral:"\uD802[\uDF00-\uDF35\uDF39-\uDF3F]"},{name:"Balinese",bmp:"--"},{name:"Bamum",bmp:"-",astral:"\uD81A[\uDC00-\uDE38]"},{name:"Bassa_Vah",astral:"\uD81A[\uDED0-\uDEED\uDEF0-\uDEF5]"},{name:"Batak",bmp:"--"},{name:"Bengali",bmp:"---------"},{name:"Bhaiksuki",astral:"\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC45\uDC50-\uDC6C]"},{name:"Bopomofo",bmp:"--"},{name:"Brahmi",astral:"\uD804[\uDC00-\uDC4D\uDC52-\uDC75\uDC7F]"},{name:"Braille",bmp:"-"},{name:"Buginese",bmp:"-"},{name:"Buhid",bmp:"-"},{name:"Canadian_Aboriginal",bmp:"--",astral:"\uD806[\uDEB0-\uDEBF]"},{name:"Carian",astral:"\uD800[\uDEA0-\uDED0]"},{name:"Caucasian_Albanian",astral:"\uD801[\uDD30-\uDD63\uDD6F]"},{name:"Chakma",astral:"\uD804[\uDD00-\uDD34\uDD36-\uDD47]"},{name:"Cham",bmp:"----"},{name:"Cherokee",bmp:"---"},{name:"Chorasmian",astral:"\uD803[\uDFB0-\uDFCB]"},{name:"Common",bmp:"\0-@\\[-`\\{------------------------------------------------\uFEFF------",astral:"\uD800[\uDD00-\uDD02\uDD07-\uDD33\uDD37-\uDD3F\uDD90-\uDD9C\uDDD0-\uDDFC\uDEE1-\uDEFB]|\uD82F[\uDCA0-\uDCA3]|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD66\uDD6A-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDEE0-\uDEF3\uDF00-\uDF56\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDFCB\uDFCE-\uDFFF]|\uD83B[\uDC71-\uDCB4\uDD01-\uDD3D]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD00-\uDDAD\uDDE6-\uDDFF\uDE01\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDD-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF73\uDF80-\uDFD8\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6\uDF00-\uDF92\uDF94-\uDFCA\uDFF0-\uDFF9]|\uDB40[\uDC01\uDC20-\uDC7F]"},{name:"Coptic",bmp:"---"},{name:"Cuneiform",astral:"\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC70-\uDC74\uDC80-\uDD43]"},{name:"Cypriot",astral:"\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F]"},{name:"Cypro_Minoan",astral:"\uD80B[\uDF90-\uDFF2]"},{name:"Cyrillic",bmp:"-----"},{name:"Deseret",astral:"\uD801[\uDC00-\uDC4F]"},{name:"Devanagari",bmp:"----"},{name:"Dives_Akuru",astral:"\uD806[\uDD00-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD46\uDD50-\uDD59]"},{name:"Dogra",astral:"\uD806[\uDC00-\uDC3B]"},{name:"Duployan",astral:"\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9C-\uDC9F]"},{name:"Egyptian_Hieroglyphs",astral:"\uD80C[\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E\uDC30-\uDC38]"},{name:"Elbasan",astral:"\uD801[\uDD00-\uDD27]"},{name:"Elymaic",astral:"\uD803[\uDFE0-\uDFF6]"},{name:"Ethiopic",bmp:"------------------------------",astral:"\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]"},{name:"Georgian",bmp:"------"},{name:"Glagolitic",bmp:"-",astral:"\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]"},{name:"Gothic",astral:"\uD800[\uDF30-\uDF4A]"},{name:"Grantha",astral:"\uD804[\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]"},{name:"Greek",bmp:"-----------------------",astral:"\uD800[\uDD40-\uDD8E\uDDA0]|\uD834[\uDE00-\uDE45]"},{name:"Gujarati",bmp:"------------"},{name:"Gunjala_Gondi",astral:"\uD807[\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9]"},{name:"Gurmukhi",bmp:"--------"},{name:"Han",bmp:"---------",astral:"\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]"},{name:"Hangul",bmp:"-------------"},{name:"Hanifi_Rohingya",astral:"\uD803[\uDD00-\uDD27\uDD30-\uDD39]"},{name:"Hanunoo",bmp:"-"},{name:"Hatran",astral:"\uD802[\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDCFF]"},{name:"Hebrew",bmp:"------"},{name:"Hiragana",bmp:"--",astral:"\uD82C[\uDC01-\uDD1F\uDD50-\uDD52]|"},{name:"Imperial_Aramaic",astral:"\uD802[\uDC40-\uDC55\uDC57-\uDC5F]"},{name:"Inherited",bmp:"------------",astral:"\uD800[\uDDFD\uDEE0]||\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD67-\uDD69\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uDB40[\uDD00-\uDDEF]"},{name:"Inscriptional_Pahlavi",astral:"\uD802[\uDF60-\uDF72\uDF78-\uDF7F]"},{name:"Inscriptional_Parthian",astral:"\uD802[\uDF40-\uDF55\uDF58-\uDF5F]"},{name:"Javanese",bmp:"--"},{name:"Kaithi",astral:"\uD804[\uDC80-\uDCC2\uDCCD]"},{name:"Kannada",bmp:"----------"},{name:"Katakana",bmp:"-------",astral:"\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00\uDD20-\uDD22\uDD64-\uDD67]"},{name:"Kayah_Li",bmp:"-"},{name:"Kharoshthi",astral:"\uD802[\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F-\uDE48\uDE50-\uDE58]"},{name:"Khitan_Small_Script",astral:"|\uD822[\uDF00-\uDFFF]|\uD823[\uDC00-\uDCD5]"},{name:"Khmer",bmp:"----"},{name:"Khojki",astral:"\uD804[\uDE00-\uDE11\uDE13-\uDE3E]"},{name:"Khudawadi",astral:"\uD804[\uDEB0-\uDEEA\uDEF0-\uDEF9]"},{name:"Lao",bmp:"-------"},{name:"Latin",bmp:"A-Za-z-----------------------",astral:"\uD801[\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD837[\uDF00-\uDF1E]"},{name:"Lepcha",bmp:"---"},{name:"Limbu",bmp:"----"},{name:"Linear_A",astral:"\uD801[\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]"},{name:"Linear_B",astral:"\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA]"},{name:"Lisu",bmp:"-",astral:""},{name:"Lycian",astral:"\uD800[\uDE80-\uDE9C]"},{name:"Lydian",astral:"\uD802[\uDD20-\uDD39\uDD3F]"},{name:"Mahajani",astral:"\uD804[\uDD50-\uDD76]"},{name:"Makasar",astral:"\uD807[\uDEE0-\uDEF8]"},{name:"Malayalam",bmp:"-------"},{name:"Mandaic",bmp:"-"},{name:"Manichaean",astral:"\uD802[\uDEC0-\uDEE6\uDEEB-\uDEF6]"},{name:"Marchen",astral:"\uD807[\uDC70-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]"},{name:"Masaram_Gondi",astral:"\uD807[\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]"},{name:"Medefaidrin",astral:"\uD81B[\uDE40-\uDE9A]"},{name:"Meetei_Mayek",bmp:"---"},{name:"Mende_Kikakui",astral:"\uD83A[\uDC00-\uDCC4\uDCC7-\uDCD6]"},{name:"Meroitic_Cursive",astral:"\uD802[\uDDA0-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDDFF]"},{name:"Meroitic_Hieroglyphs",astral:"\uD802[\uDD80-\uDD9F]"},{name:"Miao",astral:"\uD81B[\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F]"},{name:"Modi",astral:"\uD805[\uDE00-\uDE44\uDE50-\uDE59]"},{name:"Mongolian",bmp:"---",astral:"\uD805[\uDE60-\uDE6C]"},{name:"Mro",astral:"\uD81A[\uDE40-\uDE5E\uDE60-\uDE69\uDE6E\uDE6F]"},{name:"Multani",astral:"\uD804[\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA9]"},{name:"Myanmar",bmp:"---"},{name:"Nabataean",astral:"\uD802[\uDC80-\uDC9E\uDCA7-\uDCAF]"},{name:"Nandinagari",astral:"\uD806[\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE4]"},{name:"New_Tai_Lue",bmp:"---"},{name:"Newa",astral:"\uD805[\uDC00-\uDC5B\uDC5D-\uDC61]"},{name:"Nko",bmp:"--"},{name:"Nushu",astral:"|\uD82C[\uDD70-\uDEFB]"},{name:"Nyiakeng_Puachue_Hmong",astral:"\uD838[\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDD4F]"},{name:"Ogham",bmp:"-"},{name:"Ol_Chiki",bmp:"-"},{name:"Old_Hungarian",astral:"\uD803[\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDCFF]"},{name:"Old_Italic",astral:"\uD800[\uDF00-\uDF23\uDF2D-\uDF2F]"},{name:"Old_North_Arabian",astral:"\uD802[\uDE80-\uDE9F]"},{name:"Old_Permic",astral:"\uD800[\uDF50-\uDF7A]"},{name:"Old_Persian",astral:"\uD800[\uDFA0-\uDFC3\uDFC8-\uDFD5]"},{name:"Old_Sogdian",astral:"\uD803[\uDF00-\uDF27]"},{name:"Old_South_Arabian",astral:"\uD802[\uDE60-\uDE7F]"},{name:"Old_Turkic",astral:"\uD803[\uDC00-\uDC48]"},{name:"Old_Uyghur",astral:"\uD803[\uDF70-\uDF89]"},{name:"Oriya",bmp:"----------"},{name:"Osage",astral:"\uD801[\uDCB0-\uDCD3\uDCD8-\uDCFB]"},{name:"Osmanya",astral:"\uD801[\uDC80-\uDC9D\uDCA0-\uDCA9]"},{name:"Pahawh_Hmong",astral:"\uD81A[\uDF00-\uDF45\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]"},{name:"Palmyrene",astral:"\uD802[\uDC60-\uDC7F]"},{name:"Pau_Cin_Hau",astral:"\uD806[\uDEC0-\uDEF8]"},{name:"Phags_Pa",bmp:"-"},{name:"Phoenician",astral:"\uD802[\uDD00-\uDD1B\uDD1F]"},{name:"Psalter_Pahlavi",astral:"\uD802[\uDF80-\uDF91\uDF99-\uDF9C\uDFA9-\uDFAF]"},{name:"Rejang",bmp:"-"},{name:"Runic",bmp:"--"},{name:"Samaritan",bmp:"--"},{name:"Saurashtra",bmp:"--"},{name:"Sharada",astral:"\uD804[\uDD80-\uDDDF]"},{name:"Shavian",astral:"\uD801[\uDC50-\uDC7F]"},{name:"Siddham",astral:"\uD805[\uDD80-\uDDB5\uDDB8-\uDDDD]"},{name:"SignWriting",astral:"\uD836[\uDC00-\uDE8B\uDE9B-\uDE9F\uDEA1-\uDEAF]"},{name:"Sinhala",bmp:"---------",astral:"\uD804[\uDDE1-\uDDF4]"},{name:"Sogdian",astral:"\uD803[\uDF30-\uDF59]"},{name:"Sora_Sompeng",astral:"\uD804[\uDCD0-\uDCE8\uDCF0-\uDCF9]"},{name:"Soyombo",astral:"\uD806[\uDE50-\uDEA2]"},{name:"Sundanese",bmp:"--"},{name:"Syloti_Nagri",bmp:"-"},{name:"Syriac",bmp:"----"},{name:"Tagalog",bmp:"-"},{name:"Tagbanwa",bmp:"--"},{name:"Tai_Le",bmp:"--"},{name:"Tai_Tham",bmp:"-----"},{name:"Tai_Viet",bmp:"--"},{name:"Takri",astral:"\uD805[\uDE80-\uDEB9\uDEC0-\uDEC9]"},{name:"Tamil",bmp:"---------",astral:"\uD807[\uDFC0-\uDFF1\uDFFF]"},{name:"Tangsa",astral:"\uD81A[\uDE70-\uDEBE\uDEC0-\uDEC9]"},{name:"Tangut",astral:"|[\uD81C-\uD820][\uDC00-\uDFFF]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEFF]|\uD823[\uDD00-\uDD08]"},{name:"Telugu",bmp:"-----------"},{name:"Thaana",bmp:"-"},{name:"Thai",bmp:"--"},{name:"Tibetan",bmp:"------"},{name:"Tifinagh",bmp:"-"},{name:"Tirhuta",astral:"\uD805[\uDC80-\uDCC7\uDCD0-\uDCD9]"},{name:"Toto",astral:"\uD838[\uDE90-\uDEAE]"},{name:"Ugaritic",astral:"\uD800[\uDF80-\uDF9D\uDF9F]"},{name:"Vai",bmp:"-"},{name:"Vithkuqi",astral:"\uD801[\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]"},{name:"Wancho",astral:"\uD838[\uDEC0-\uDEF9\uDEFF]"},{name:"Warang_Citi",astral:"\uD806[\uDCA0-\uDCF2\uDCFF]"},{name:"Yezidi",astral:"\uD803[\uDE80-\uDEA9\uDEAB-\uDEAD\uDEB0\uDEB1]"},{name:"Yi",bmp:"--"},{name:"Zanabazar_Square",astral:"\uD806[\uDE00-\uDE47]"}]),Lc}var rF;function Lw(){return rF||(rF=1,function(t,e){var u=ar,r=or;u(e,"__esModule",{value:!0}),e.default=void 0;var n=r(Mw());/*!
 * XRegExp Unicode Scripts 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2010-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */var a=function(s){if(!s.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Scripts");s.addUnicodeData(n.default,"Script")};e.default=a,t.exports=e.default}(pa,pa.exports)),pa.exports}(function(t,e){var u=ar,r=or;u(e,"__esModule",{value:!0}),e.default=void 0;var n=r(Aw()),a=r(Pw()),o=r(Iw()),s=r(Ow()),i=r(xw()),l=r(Nw()),c=r(Lw());(0,a.default)(n.default),(0,o.default)(n.default),(0,s.default)(n.default),(0,i.default)(n.default),(0,l.default)(n.default),(0,c.default)(n.default);var d=n.default;e.default=d,t.exports=e.default})(Xc,Xc.exports);var zn=Xc.exports,nF=Uw(zn);function Uw(t){return t&&t.__esModule?t:{default:t}}var Vw={startDocument:[{description:"Set up storage",test:()=>!0,action:t=>{var{workspace:e,output:u}=t;e.verseContent=[],e.chapter=null,e.verses=null,u.cv={}}}],mark:[{description:"Update CV state",test:()=>!0,action:t=>{var{context:e,workspace:u,output:r}=t,{element:n}=e.sequences[0];n.subType==="chapter"?(u.chapter=n.atts.number,u.verses=0,r.cv[u.chapter]={},r.cv[u.chapter][u.verses]={}):n.subType==="verses"&&(u.verses=n.atts.number,r.cv[u.chapter][u.verses]={})}}],text:[{description:"Log occurrences",test:()=>!0,action:t=>{var{context:e,workspace:u,output:r}=t,{chapter:n,verses:a}=u,{text:o}=e.sequences[0].element,s=(0,nF.default)("([\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127})"),i=nF.default.match(o,s,"all");for(var l of i){var c,d;(d=(c=r.cv[n][a])[l])!==null&&d!==void 0||(c[l]=0),r.cv[n][a][l]+=1}}}]},UE={verseWordsActions:Vw},aF=Ww(zn);function Ww(t){return t&&t.__esModule?t:{default:t}}function oF(t,e){var u=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),u.push.apply(u,r)}return u}function ha(t){for(var e=1;e<arguments.length;e++){var u=arguments[e]!=null?arguments[e]:{};e%2?oF(Object(u),!0).forEach(function(r){zw(t,r,u[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(u)):oF(Object(u)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(u,r))})}return t}function zw(t,e,u){return e=Gw(e),e in t?Object.defineProperty(t,e,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[e]=u,t}function Gw(t){var e=Hw(t,"string");return typeof e=="symbol"?e:String(e)}function Hw(t,e){if(typeof t!="object"||t===null)return t;var u=t[Symbol.toPrimitive];if(u!==void 0){var r=u.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jw={startDocument:[{description:"Set up",test:()=>!0,action:t=>{var{workspace:e,output:u}=t;return e.chapter=null,e.verses=null,e.lastWord="",e.waitingMarkup=[],e.currentOccurrences={},e.PendingStartMilestones=[],u.stripped={},u.unalignedWords={},!0}}],startMilestone:[{description:"Ignore zaln startMilestone events",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:zaln"},action:t=>{var{context:e,workspace:u}=t,r=e.sequences[0].element;r.subtype=r.subType,delete r.subType,u.waitingMarkup.push(r),u.PendingStartMilestones.push(r)}}],endMilestone:[{description:"Ignore zaln endMilestone events",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:zaln"},action:t=>{var{context:e,workspace:u,output:r,config:n}=t,{chapter:a,verses:o,lastWord:s}=u,{verseWords:i}=n,l=["after",s,u.currentOccurrences[s],i[a][o][s]].join("--"),c=ha({},e.sequences[0].element);c.subtype=c.subType,delete c.subType;var d={chapter:a,verses:o,occurrence:u.currentOccurrences[s],occurrences:i[a][o][s],position:"after",word:s,payload:c,startMilestone:u.PendingStartMilestones.shift()};return r.stripped[u.chapter][u.verses][l]?r.stripped[u.chapter][u.verses][l].push(d):r.stripped[u.chapter][u.verses][l]=[d],!1}}],startWrapper:[{description:"Ignore w startWrapper events",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:w"},action:t=>{var{context:e,workspace:u}=t,r=ha({},e.sequences[0].element);r.subtype=r.subType,delete r.subType,u.waitingMarkup.push(r)}}],endWrapper:[{description:"Ignore w endWrapper events",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:w"},action:t=>{}}],text:[{description:"Log occurrences",test:()=>!0,action:t=>{var{context:e,workspace:u,output:r,config:n}=t;try{var a=e.sequences[0];if(a.type!=="main")return!0;var o=a.element.text,s=(0,aF.default)("([\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127})"),i=aF.default.match(o,s,"all"),{chapter:l,verses:c}=u,{verseWords:d}=n;for(var p of i){var h,F;if((F=(h=u.currentOccurrences)[p])!==null&&F!==void 0||(h[p]=0),u.currentOccurrences[p]++,!u.PendingStartMilestones.length&&u.waitingMarkup.length){var g,A,C,E;(A=(g=r.unalignedWords)[l])!==null&&A!==void 0||(g[l]={}),(E=(C=r.unalignedWords[l])[c])!==null&&E!==void 0||(C[c]=[]),r.unalignedWords[l][c].push({word:p,occurrence:u.currentOccurrences[p],totalOccurrences:d[l][c][p]})}for(;u.waitingMarkup.length;){var v=u.waitingMarkup.shift(),S=["before",p,u.currentOccurrences[p],d[l][c][p]].join("--"),q={chapter:l,verses:c,occurrence:u.currentOccurrences[p],occurrences:d[l][c][p],position:"before",word:p,payload:ha(ha({},v),v.subtype==="usfm:w"&&{content:[p]})};r.stripped[u.chapter][u.verses][S]?r.stripped[u.chapter][u.verses][S].push(q):r.stripped[u.chapter][u.verses][S]=[q]}u.lastWord=p}}catch(_){throw console.error(_),_}return!0}}],mark:[{description:"Update CV state",test:()=>!0,action:t=>{var{context:e,workspace:u,output:r}=t;try{var n=e.sequences[0].element;n.subType==="chapter"?(u.chapter=n.atts.number,u.verses=0,u.lastWord="",u.currentOccurrences={},r.stripped[u.chapter]={},r.stripped[u.chapter][u.verses]={}):n.subType==="verses"&&(u.verses=n.atts.number,u.lastWord="",u.currentOccurrences={},r.stripped[u.chapter][u.verses]={})}catch(a){throw console.error(a),a}return!0}}]},VE={stripMarkupActions:Jw},mr=Zw(zn);function Zw(t){return t&&t.__esModule?t:{default:t}}var WE=[["printable","wordLike",(0,mr.default)("([\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127})")],["printable","lineSpace",(0,mr.default)("([\\p{Separator}	]{1,127})")],["printable","punctuation",(0,mr.default)("([\\p{Punctuation}\\p{Math_Symbol}\\p{Currency_Symbol}\\p{Modifier_Symbol}\\p{Other_Symbol}])")],["bad","unknown",(0,mr.default)("(.)")]],Kw=mr.default.union(WE.map(t=>t[2])),Qw={type:"end_milestone",subtype:"usfm:zaln"},Yw={startDocument:[{description:"setup",test:()=>!0,action:t=>{var{workspace:e,output:u}=t;return e.chapter=null,e.verses=null,e.currentOccurrences={},u.unalignedWords={},!0}}],text:[{description:"add-to-text",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r,output:n}=t;try{let C=function(){for(;F.length;)r.outputContentStack[0].push(F.shift())};var a=u.sequences[0];if(a.type!=="main")return!0;var o=u.sequences[0].element.text,s=mr.default.match(o,Kw,"all"),{chapter:i,verses:l}=r;if(!l)return!0;var{totalOccurrences:c,strippedAlignment:d}=e,p={opened:null},h=E=>{var{subtype:v,content:S=[],atts:q={}}=E;return Object.keys(q).length>0?{type:"wrapper",subtype:v,content:S,atts:q}:{type:"wrapper",subtype:v,content:S}},F=[],g=function(v){var S,q,_,T=(S=mr.default.match(v,WE[0][2],"all"))===null||S===void 0?void 0:S.length;if(!T)return F.push(v),1;(_=(q=r.currentOccurrences)[v])!==null&&_!==void 0||(q[v]=0),r.currentOccurrences[v]++;var R=ye=>[ye,v,r.currentOccurrences[v],c[i][l][v]].join("--"),L=d[i][l],J=!1,U=L[R("after")],K=L[R("before")];if(K!=null&&K.length&&C(),U!=null&&U.length&&!p.opened&&(U.map(ye=>{var{startMilestone:we}=ye;return r.outputContentStack[0].push(we)}),J=!0),K==null||K.forEach(ye=>{var{payload:we}=ye;we.type!=="start_milestone"&&r.outputContentStack[0].push(we),we.type==="start_milestone"&&!J&&(r.outputContentStack[0].push(we),p.opened=!0)}),U==null||U.forEach(ye=>{var{payload:we}=ye;p.opened=!1,r.outputContentStack[0].push(we)}),!(K!=null&&K.length)){var oe,Q,Ce,X;p.opened&&(r.outputContentStack[0].push(Qw),p.opened=!1),C(),(Q=(oe=n.unalignedWords)[i])!==null&&Q!==void 0||(oe[i]={}),(X=(Ce=n.unalignedWords[i])[l])!==null&&X!==void 0||(Ce[l]=[]),n.unalignedWords[r.chapter][r.verses].push({word:v,occurrence:r.currentOccurrences[v],totalOccurrences:c[i][l][v]});var Ee=h({subtype:"usfm:w",content:[v]});r.outputContentStack[0].push(Ee)}};for(var A of s)g(A);return C(),!1}catch(C){throw console.error(C),C}}}],mark:[{description:"mark-chapters",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="chapter"},action:t=>{var{config:e,context:u,workspace:r,output:n}=t,a=u.sequences[0].element;return r.chapter=a.atts.number,r.verses=0,!0}},{description:"mark-verses",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="verses"},action:t=>{var{config:e,context:u,workspace:r,output:n}=t,a=u.sequences[0].element;return r.verses=a.atts.number,r.currentOccurrences={},!0}}]},zE={mergeAlignmentActions:Yw},{verseWordsActions:Xw}=UE,{stripMarkupActions:eS}=VE,{mergeAlignmentActions:tS}=zE,uS={verseWordsActions:Xw,stripMarkupActions:eS,mergeAlignmentActions:tS};let rS=class{constructor(e){if(!e)throw new Error("Must provide a constructor object to constructor");this.description=e.description?e.description:(()=>{throw new Error("Must provide a description in constructor object")})(),this.test=e.test||(()=>!0),this.action=e.action||(()=>null)}};var nS=rS,sF=nS;let aS=class GE{constructor(e){if(this.constructor===GE)throw new Error("Abstract class ProskommaRender cannot be instantiated - make as subclass!");var u=e.actions||{};this.debugLevel=e.debugLevel||0,this.actions={};for(var r of["startDocument","endDocument","startSequence","startTable","endTable","endSequence","unresolvedBlockGraft","blockGraft","startParagraph","endParagraph","startRow","endRow","startCell","endCell","metaContent","mark","unresolvedInlineGraft","inlineGraft","startWrapper","endWrapper","startMilestone","endMilestone","startVerses","endVerses","startChapter","endChapter","text"])u[r]?this.actions[r]=u[r].map(n=>new sF(n)):this.actions[r]=[]}addRenderActionObject(e,u){if(!this.actions[e])throw new Error("Unknown event '".concat(e));this.actions[e].push(u)}addRenderAction(e,u){this.addRenderActionObject(e,new sF(u))}describeRenderActions(e){if(!this.actions[e])throw new Error("Unknown event '".concat(e));var u=["**Actions for ".concat(e,`**
`)];for(var r of this.actions[e])u.push("IF ".concat(r.test.toString(),":")),u.push("    DO ".concat(r.description));return u.join(`
`)}renderDocument(e){var{docId:u,config:r,output:n}=e,a={},o={};return this.renderDocument1({docId:u,config:r,context:a,workspace:o,output:n}),n}renderDocument1(e){throw new Error("Define renderDocument1() in subclass")}renderEvent(e,u){var r=u.context;if(this.debugLevel>1&&console.log("".concat("    ".repeat(r.sequences.length),"EVENT ").concat(e)),!this.actions[e])throw new Error("Unknown event '".concat(e));var n=!1;for(var a of this.actions[e]){var o=!1;try{o=a.test(u)}catch(l){var s="Exception from test of action '".concat(a.description,"' for event ").concat(e," in ").concat(r.sequences.length>0?r.sequences[0].type:"no"," sequence: ").concat(l);throw new Error(s)}if(o){n=!0,this.debugLevel>0&&console.log("".concat("    ".repeat(r.sequences.length),"    ").concat(e," action: ").concat(a.description));var i=!1;try{i=a.action(u)}catch(l){throw new Error("Exception from action '".concat(a.description,"' for event ").concat(e," in ").concat(r.sequences.length>0?r.sequences[0].type:"no"," sequence: ").concat(l))}if(!i)break}}if(["unresolvedBlockGraft","unresolvedInlineGraft"].includes(e)&&this.actions[e].length===0)throw new Error("No action for ".concat(e," graft event in ").concat(r.sequences.length>0?r.sequences[0].type:"no"," sequence: add an action or fix your data!"));!n&&this.debugLevel>1&&console.log("".concat("    ".repeat(r.sequences.length),"    No matching action"))}};var Gn=aS,oS=Gn;let sS=class extends oS{constructor(e){if(super(e),!e.srcJson)throw new Error("Must provide srcJson");this.srcJson=e.srcJson}renderDocument1(e){var{docId:u,config:r,context:n,workspace:a,output:o}=e,s={config:r,context:n,workspace:a,output:o};n.renderer=this,n.document={id:u,schema:this.srcJson.schema,metadata:this.srcJson.metadata,mainSequenceId:this.srcJson.main_sequence_id,nSequences:Object.keys(this.srcJson.sequences).length},n.sequences=[],this.renderEvent("startDocument",s),this.renderSequenceId(s,this.srcJson.main_sequence_id),this.renderEvent("endDocument",s)}sequenceContext(e,u){return{id:u,type:e.type,nBlocks:e.blocks.length,milestones:new Set([])}}renderSequenceId(e,u){var r=e.context,n=this.srcJson.sequences[u];if(!n)throw new Error("Sequence '".concat(u,"' not found in renderSequenceId()"));r.sequences.unshift(this.sequenceContext(n,u)),this.renderEvent("startSequence",e);for(var[a,o]of n.blocks.entries())r.sequences[0].block={type:o.type,subType:o.subtype,blockN:a,wrappers:[]},o.type==="graft"?o.target&&!this.srcJson.sequences[o.target]?(r.sequences[0].block.target=o.target,this.renderEvent("unresolvedBlockGraft",e)):(r.sequences[0].block.target=o.target,r.sequences[0].block.isNew=o.new||!1,this.renderEvent("blockGraft",e)):o.type==="row"?(this.renderEvent("startRow",e),this.renderContent(o.content,e),this.renderEvent("endRow",e)):(this.renderEvent("startParagraph",e),this.renderContent(o.content,e),this.renderEvent("endParagraph",e)),delete r.sequences[0].block;this.renderEvent("endSequence",e),r.sequences.shift()}renderContent(e,u){for(var r of e)this.renderElement(r,u)}renderElement(e,u){var r=o=>{e.meta_content&&(o.metaContent=e.meta_content,this.renderEvent("metaContent",u))},n=u.context,a={type:e.type||"text"};if(e.subtype&&(a.subType=e.subtype),e.atts?a.atts=e.atts:a.type!=="end_milestone"&&a.type!=="meta_content"&&(a.atts={}),e.target&&(a.target=e.target),e.type==="graft"&&(a.isNew=e.new||!1),a.type==="text"&&(a.text=e),n.sequences[0].element=a,a.type==="text")this.renderEvent("text",u),r(a);else if(a.type==="mark")this.renderEvent("mark",u),r(a);else if(a.type==="start_milestone")this.renderEvent("startMilestone",u),r(a);else if(a.type==="end_milestone")this.renderEvent("endMilestone",u),r(a);else if(a.type==="graft"){if(e.target&&e.target&&!this.srcJson.sequences[e.target]){this.renderEvent("unresolvedInlineGraft",u);return}this.renderEvent("inlineGraft",u),r(a)}else if(a.type==="wrapper")n.sequences[0].block.wrappers.unshift(a.subType),this.renderEvent("startWrapper",u),this.renderContent(e.content,u),n.sequences[0].element=a,r(a),this.renderEvent("endWrapper",u),n.sequences[0].block.wrappers.shift();else throw new Error("Unexpected element type '".concat(a.type));delete n.sequences[0].element}};var Cu=sS,iS=cS(Cu);function cS(t){return t&&t.__esModule?t:{default:t}}var{verseWordsActions:lS}=UE,DS=function(e){var{perf:u}=e,r=new iS.default({srcJson:u,actions:lS}),n={};return r.renderDocument({docId:"",config:{},output:n}),{verseWords:n.cv}},fS={name:"verseWords",type:"Transform",description:"PERF=>JSON: Counts words occurrences",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"verseWords",type:"json"}],code:DS},dS={verseWords:fS},pS=t=>{var e={};for(var u of t)for(var r of Object.keys(u))e[r]?e[r].push(...u[r]):e[r]=u[r];return e},_r=pS,hS={startDocument:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r,output:n}=t;n.perf={},n.perf.schema=u.document.schema,n.perf.metadata=u.document.metadata,n.perf.sequences={}}}],endDocument:[{description:"identity",test:()=>!0,action:t=>{}}],startSequence:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r,output:n}=t;n.perf.sequences[u.sequences[0].id]={type:u.sequences[0].type,blocks:[]},r.outputSequence=n.perf.sequences[u.sequences[0].id],u.sequences[0].type==="main"&&(n.perf.main_sequence_id=u.sequences[0].id)}}],endSequence:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r,output:n}=t;u.sequences.length>1&&(r.outputSequence=n.perf.sequences[u.sequences[1].id])}}],blockGraft:[{description:"identity",test:()=>!0,action:t=>{var e=t.context.sequences[0].block,u={type:e.type,subtype:e.subType};e.target&&(u.target=e.target,t.context.renderer.renderSequenceId(t,u.target)),e.isNew&&(u.new=e.isNew),t.workspace.outputSequence.blocks.push(u)}}],startParagraph:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r,output:n}=t,a=u.sequences[0].block,o={type:a.type,subtype:a.subType,content:[]};r.outputSequence.blocks.push(o),r.currentContent=o.content,r.outputBlock=r.outputSequence.blocks[r.outputSequence.blocks.length-1],r.outputContentStack=[r.outputBlock.content]}}],endParagraph:[{description:"identity",test:()=>!0,action:t=>{}}],metaContent:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r,output:n}=t,a=u.sequences[0].element;r.currentContent=a.metaContent;var o=r.outputContentStack[1][r.outputContentStack[1].length-1];o.meta_content=[],r.outputContentStack.unshift(o.meta_content),u.renderer.renderContent(r.currentContent,t),r.outputContentStack.shift()}}],mark:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r,output:n}=t,a=u.sequences[0].element,o={type:a.type,subtype:a.subType};a.atts&&typeof a.atts=="object"&&Object.keys(a.atts).length!==0&&(o.atts=a.atts),r.outputContentStack[0].push(o)}}],inlineGraft:[{description:"identity",test:()=>!0,action:t=>{var e=t.context.sequences[0].element,u={type:e.type,subtype:e.subType};if(e.target){u.target=e.target;var r=t.workspace.outputContentStack[0];t.context.renderer.renderSequenceId(t,e.target),t.workspace.outputContentStack[0]=r}e.isNew&&(u.new=e.isNew),t.workspace.outputContentStack[0].push(u)}}],startRow:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:u}=t,r=e.sequences[0].block,n={type:r.type,subtype:r.subType,content:[]};u.outputSequence.blocks.push(n),u.currentContent=n.content,u.outputBlock=u.outputSequence.blocks[u.outputSequence.blocks.length-1],u.outputContentStack=[u.outputBlock.content]}}],endRow:[{description:"identity",test:()=>!0,action:t=>{}}],startWrapper:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r,output:n}=t,a=u.sequences[0].element,o={type:a.type,subtype:a.subType,content:[]};"atts"in a&&typeof a.atts=="object"&&Object.keys(a.atts).length!==0&&(o.atts=a.atts),r.outputContentStack[0].push(o),r.outputContentStack.unshift(o.content)}}],endWrapper:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r,output:n}=t;r.outputContentStack.shift()}}],startMilestone:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r,output:n}=t,a=u.sequences[0].element,o={type:a.type,subtype:a.subType};a.atts&&typeof a.atts=="object"&&Object.keys(a.atts).length!==0&&(o.atts=a.atts),r.outputContentStack[0].push(o)}}],endMilestone:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r,output:n}=t,a=u.sequences[0].element,o={type:a.type,subtype:a.subType};r.outputContentStack[0].push(o)}}],text:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r,output:n}=t,a=u.sequences[0].element;r.outputContentStack[0].push(a.text)}}]},cr={identityActions:hS},FS=HE(Cu),mS=HE(_r);function HE(t){return t&&t.__esModule?t:{default:t}}var{identityActions:ES}=cr,{stripMarkupActions:CS}=VE,AS=function(e){var{perf:u,verseWords:r}=e,n=new FS.default({srcJson:u,actions:(0,mS.default)([CS,ES])}),a={};return n.renderDocument({docId:"",config:{verseWords:r},output:a}),{perf:a.perf,strippedAlignment:a.stripped,unalignedWords:a.unalignedWords}},vS={name:"stripAlignment",type:"Transform",description:"PERF=>PERF: Strips alignment markup",inputs:[{name:"perf",type:"json",source:""},{name:"verseWords",type:"json",source:""}],outputs:[{name:"perf",type:"json"},{name:"strippedAlignment",type:"json"},{name:"unalignedWords",type:"json"}],code:AS},yS={stripAlignment:vS},gS=JE(Cu),bS=JE(_r);function JE(t){return t&&t.__esModule?t:{default:t}}var{identityActions:BS}=cr,{mergeAlignmentActions:_S}=zE,wS=function(e){var{perf:u,verseWords:r,strippedAlignment:n}=e,a=new gS.default({srcJson:u,actions:(0,bS.default)([_S,BS])}),o={};return a.renderDocument({docId:"",config:{totalOccurrences:r,strippedAlignment:n},output:o}),{perf:o.perf,unalignedWords:o.unalignedWords}},SS={name:"mergeAlignment",type:"Transform",description:"PERF=>PERF adds report to verses",inputs:[{name:"perf",type:"json",source:""},{name:"strippedAlignment",type:"json",source:""},{name:"verseWords",type:"json",source:""}],outputs:[{name:"perf",type:"json"},{name:"unalignedWords",type:"json"}],code:wS},$S={mergeAlignment:SS},{verseWords:kS}=dS,{stripAlignment:qS}=yS,{mergeAlignment:TS}=$S,PS={verseWords:kS,stripAlignment:qS,mergeAlignment:TS},IS=uS,OS=PS,RS={transforms:OS,renderActions:IS},xS={},ZE=function(e){var{usfm:u,selectors:r,proskomma:n}=e;n.importDocuments(r,"usfm",[u]);var a=n.gqlQuerySync("{documents {id docSetId perf} }").data.documents[0],o=a.id,s=a.docSetId;n.gqlQuerySync('mutation { deleteDocument(docSetId: "'.concat(s,'", documentId: "').concat(o,'") }'));var i=JSON.parse(a.perf);return{perf:i}},jS={name:"usfmToPerf",type:"Transform",description:"USFM=>PERF: Conversion via Proskomma",inputs:[{name:"usfm",type:"text",source:""},{name:"selectors",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:ZE},NS={usfmToPerf:jS,usfmToPerfCode:ZE},{usfmToPerf:MS,usfmToPerfCode:LS}=NS,US={usfmToPerf:MS,usfmToPerfCode:LS},VS=xS,WS=US,zS={transforms:WS,renderActions:VS};function iF(t,e){var u=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),u.push.apply(u,r)}return u}function GS(t){for(var e=1;e<arguments.length;e++){var u=arguments[e]!=null?arguments[e]:{};e%2?iF(Object(u),!0).forEach(function(r){HS(t,r,u[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(u)):iF(Object(u)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(u,r))})}return t}function HS(t,e,u){return e=JS(e),e in t?Object.defineProperty(t,e,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[e]=u,t}function JS(t){var e=ZS(t,"string");return typeof e=="symbol"?e:String(e)}function ZS(t,e){if(typeof t!="object"||t===null)return t;var u=t[Symbol.toPrimitive];if(u!==void 0){var r=u.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KS={startDocument:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r,output:n}=t;n.sofria={},n.paras=[],n.sofria.schema=u.document.schema,n.sofria.metadata=u.document.metadata,n.sofria.sequence={},r.currentSequence=n.sofria.sequence,r.chapter=null,r.verses=null,r.cachedChapter=null,r.cachedVerses=null}}],endDocument:[{description:"identity",test:()=>!0,action:t=>{}}],startSequence:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:u}=t;u.currentSequence==null&&(u.currentSequence={}),u.currentSequence.type=e.sequences[0].type,u.currentSequence.blocks=[]}}],endSequence:[{description:"identity",test:()=>!0,action:t=>{var{workspace:e,output:u}=t;e.currentSequence.type==="main"&&(e.chapter=null,e.verses=null),u.paras==null?u.paras=e.currentSequence.blocks:e.currentSequence.type==="main"&&(u.paras=u.paras.concat(e.currentSequence.blocks)),e.currentSequence=null}}],blockGraft:[{description:"identity",test:()=>!0,action:t=>{var e=t.context.sequences[0].block,u={type:e.type};if(e.sequence){u.sequence={};var r=t.workspace.currentSequence;t.workspace.currentSequence=u.sequence,t.context.renderer.renderSequence(t),t.workspace.currentSequence=r}t.workspace.currentSequence.blocks.push(u)}}],startParagraph:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:u}=t,r=e.sequences[0].block,n={type:r.type,subtype:r.subType,content:[]};if(u.currentSequence.blocks.push(n),u.currentContent=n.content,u.outputBlock=u.currentSequence.blocks[u.currentSequence.blocks.length-1],u.outputContentStack=[u.outputBlock.content],u.currentSequence.type==="main"){for(var a of["chapter","verses"])if(u[a]){var o={type:"wrapper",subtype:a,content:[],atts:{number:u[a]}};u.outputContentStack[0].push(o),u.outputContentStack.unshift(o.content)}}}}],endParagraph:[{description:"identity",test:()=>!0,action:t=>{}}],startRow:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:u}=t,r=e.sequences[0].block,n={type:r.type,subtype:r.subType,content:[]};if(u.currentSequence.blocks.push(n),u.currentContent=n.content,u.outputBlock=u.currentSequence.blocks[u.currentSequence.blocks.length-1],u.outputContentStack=[u.outputBlock.content],u.currentSequence.type==="main"){for(var a of["chapter","verses"])if(u[a]){var o={type:"wrapper",subtype:a,content:[],atts:{number:u[a]}};u.outputContentStack[0].push(o),u.outputContentStack.unshift(o.content)}}}}],endRow:[{description:"identity",test:()=>!0,action:t=>{}}],metaContent:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:u}=t,r=e.sequences[0].element;u.currentContent=r.metaContent;var n=u.outputContentStack[1][u.outputContentStack[1].length-1];n.meta_content=[],u.outputContentStack.unshift(n.meta_content),e.renderer.renderContent(u.currentContent,t),u.outputContentStack.shift()}}],mark:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:u}=t,r=e.sequences[0].element,n={type:r.type,subtype:r.subType};r.atts&&(n.atts=r.atts),u.outputContentStack[0].push(n)}}],inlineGraft:[{description:"identity",test:()=>!0,action:t=>{var e=t.context.sequences[0].element,u={type:e.type,subtype:e.subType,sequence:{}},r=t.workspace.currentSequence,n=[...t.workspace.outputContentStack];t.workspace.currentSequence=u.sequence,t.context.renderer.renderSequence(t),t.workspace.outputContentStack=n,t.workspace.currentSequence=r,t.workspace.outputContentStack[0].push(u)}}],startWrapper:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:u}=t,r=e.sequences[0].element;r.subType==="chapter"?(u.chapter=r.atts.number,u.cachedChapter=u.chapter):r.subType==="verses"&&(u.verses=r.atts.number,u.cachedVerses=u.verses);var n={type:r.type,subtype:r.subType,content:[]};if("atts"in r&&(n.atts=GS({},r.atts)),u.outputContentStack.length===0)throw new Error("outputContentStack is empty before pushing to its first element, near ".concat(e.document.metadata.document.bookCode," ").concat(u.cachedChapter,":").concat(u.cachedVerses));u.outputContentStack[0].push(n),u.outputContentStack.unshift(n.content)}}],endWrapper:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:u}=t,r=e.sequences[0].element;r.subType==="chapter"?u.chapter=null:r.subType==="verses"&&(u.verses=null),u.outputContentStack.shift()}}],startMilestone:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:u}=t,r=e.sequences[0].element,n={type:r.type,subtype:r.subType};r.atts&&(n.atts=r.atts),u.outputContentStack[0].push(n)}}],endMilestone:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:u}=t,r=e.sequences[0].element,n={type:r.type,subtype:r.subType};u.outputContentStack[0].push(n)}}],text:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:u}=t,r=e.sequences[0].element;u.outputContentStack&&u.outputContentStack[0].push(r.text)}}]},KE={identityActions:KS},{identityActions:QS}=KE,YS={identityActions:QS},{identityActions:XS}=KE,e$=function(e){var{perf:u}=e,r=new PerfRenderFromJson({srcJson:u,actions:XS}),n={};return r.renderDocument({docId:"",config:{},output:n}),{verseWords:n.cv}},t$={name:"identity",type:"Transform",description:"identity operation",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:e$},u$={identity:t$},{identity:r$}=u$,n$={identity:r$},a$=YS,o$=n$,s$={transforms:o$,renderActions:a$},i$={startDocument:[{description:"Set up word object",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r,output:n}=t;r.words={}}}],text:[{description:"Split strings and add words to word object",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r,output:n}=t;for(var a of u.sequences[0].element.text.split(/[\s:;,.]+/).filter(o=>o.length>0))a=a.toLowerCase(),a in r.words?r.words[a]+=1:r.words[a]=1}}],endDocument:[{description:"Sort words",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r,output:n}=t;n.words=[...Object.entries(r.words)].sort((a,o)=>o[1]-a[1])}}]},QE={wordCountActions:i$},cF=t=>({type:t.sequences[0].block.type,subType:t.sequences[0].block.subType,pos:t.sequences[0].block.blockN,perfChapter:null}),c$={startDocument:[{description:"Set up storage",test:()=>!0,action:t=>{var{workspace:e,output:u}=t;e.blockRecords=[],u.report={}}}],startParagraph:[{description:"Set up block record",test:()=>!0,action:t=>{var{context:e,workspace:u,output:r}=t;u.blockRecords.push(cF(e))}}],blockGraft:[{description:"Set up block record",test:()=>!0,action:t=>{var{context:e,workspace:u,output:r}=t;u.blockRecords.push(cF(e))}}],mark:[{description:"Add chapter number to block record",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="chapter"},action:t=>{var{config:e,context:u,workspace:r,output:n}=t;r.blockRecords[r.blockRecords.length-1].perfChapter=u.sequences[0].element.atts.number}}],endDocument:[{description:"Populate report",test:()=>!0,action:t=>{var{workspace:e,output:u}=t;for(var[r,n]of Object.entries(e.blockRecords))if(n.perfChapter){for(var a=r,o=!1;a>0&&!o;)e.blockRecords[a-1].type==="paragraph"||e.blockRecords[a-1].subType==="title"?o=!0:a--;u.report[a.toString()]=n.perfChapter}}}]},YE={calculateUsfmChapterPositionsActions:c$},au=t=>["toc","toca","mt","imt","s","ms","mte","sd"].includes(t)?t+"1":t,l$=function(e){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u==null&&(u={});var r="\\".concat(e,"-s |");for(var[n,a]of Object.entries(u))n==="x-morph"&&typeof a!="string"?r=r+au(n)+'="'+a.join(",")+'" ':r=r+au(n)+'="'+a+'" ';return r+"\\*"},D$=function(e){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;u==null&&(u={});var n="|";for(var[a,o]of Object.entries(u))n=n+au(a)+'="'+o+'" ';return n=n+"\\",r&&(n=n+"+"),n+e+"*"},f$={startDocument:[{description:"Set up environment",test:()=>!0,action:t=>{var{context:e,workspace:u}=t;u.usfmBits=[""],u.nestedWrapper=0;for(var[r,n]of Object.entries(e.document.metadata.document).filter(a=>!["tags","properties","bookCode","cl"].includes(a[0])))u.usfmBits.push("\\".concat(au(r)," ").concat(n,`
`))}}],blockGraft:[{description:"Follow block grafts",test:t=>{var{context:e}=t;return["title","heading","introduction"].includes(e.sequences[0].block.subType)},action:t=>{var e=t.context.sequences[0],u=t.config.report[e.block.blockN.toString()],r=e.block.target;u&&e.type==="main"&&t.workspace.usfmBits.push(`
\\c `.concat(u,`
`)),r&&t.context.renderer.renderSequenceId(t,r)}}],inlineGraft:[{description:"Follow inline grafts",test:()=>!0,action:t=>{var e=t.context.sequences[0].element.target;e&&t.context.renderer.renderSequenceId(t,e)}}],startParagraph:[{description:"Output footnote paragraph tag (footnote)",test:t=>{var{context:e}=t;return e.sequences[0].block.subType==="usfm:f"&&e.sequences[0].type==="footnote"||e.sequences[0].block.subType==="usfm:x"&&e.sequences[0].type==="xref"},action:t=>{var{context:e,workspace:u,config:r}=t;u.nestedWrapper=0;var n=e.sequences[0];u.usfmBits.push("\\".concat(au(n.block.subType.split(":")[1])," "))}},{description:"Output footnote note_caller tag (footnote)",test:t=>{var{context:e}=t;return e.sequences[0].block.subType==="usfm:f"||e.sequences[0].block.subType==="usfm:x"},action:t=>{var{context:e,workspace:u,config:r}=t;u.nestedWrapper=0}},{description:"Output paragraph tag (main)",test:()=>!0,action:t=>{var{context:e,workspace:u,config:r}=t;u.nestedWrapper=0;var n=e.sequences[0],a=r.report[n.block.blockN.toString()];a&&n.type==="main"&&u.usfmBits.push(`
\\c `.concat(a,`
`)),u.usfmBits.push(`
\\`.concat(au(n.block.subType.split(":")[1]),`
`))}}],endParagraph:[{description:"Output footnote paragraph tag (footnote)",test:t=>{var{context:e}=t;return e.sequences[0].block.subType==="usfm:f"&&e.sequences[0].type==="footnote"||e.sequences[0].block.subType==="usfm:x"&&e.sequences[0].type==="xref"},action:t=>{var{context:e,workspace:u,config:r}=t,n=e.sequences[0];u.usfmBits.push("\\".concat(au(n.block.subType.split(":")[1]),"*"))}},{description:"Output footnote note_caller tag (footnote)",test:t=>{var{context:e}=t;return e.sequences[0].block.subType==="usfm:f"||e.sequences[0].block.subType==="usfm:x"},action:t=>{}},{description:"Output nl",test:()=>!0,action:t=>{var{workspace:e}=t;e.usfmBits.push(`
`)}}],startMilestone:[{description:"Output start milestone",test:()=>!0,action:t=>{var{context:e,workspace:u}=t,r=e.sequences[0].element,n=l$(au(r.subType.split(":")[1]),r.atts);u.usfmBits.push(n)}}],endMilestone:[{description:"Output end milestone",test:()=>!0,action:t=>{var{context:e,workspace:u}=t;u.usfmBits.push("\\".concat(au(e.sequences[0].element.subType.split(":")[1]),"-e\\*"))}}],text:[{description:"Output text",test:()=>!0,action:t=>{var{context:e,workspace:u}=t,r=e.sequences[0].element.text;u.usfmBits.push(r)}}],mark:[{description:"Output chapter or verses",test:()=>!0,action:t=>{var{context:e,workspace:u}=t,r=e.sequences[0].element;r.subType==="verses"&&u.usfmBits.push(`
\\v `.concat(r.atts.number,`
`))}}],endSequence:[{description:"Output \\cl",test:t=>{var{context:e}=t;return e.document.metadata.document.cl&&e.sequences[0].type==="title"},action:t=>{var{context:e,workspace:u}=t;u.usfmBits.push(`
\\cl `.concat(e.document.metadata.document.cl,`
`))}}],startWrapper:[{description:"Output start tag",test:()=>!0,action:t=>{var{workspace:e,context:u}=t,r=u.sequences[0];e.nestedWrapper>0?e.usfmBits.push("\\+".concat(au(r.element.subType.split(":")[1])," ")):e.usfmBits.push("\\".concat(au(r.element.subType.split(":")[1])," ")),e.nestedWrapper+=1}}],endWrapper:[{description:"Output end tag",test:t=>{var{context:e}=t;return!["fr","fq","fqa","fk","fl","fw","fp","ft","xo","xk","xq","xt","xta"].includes(e.sequences[0].element.subType.split(":")[1])},action:t=>{var{workspace:e,context:u}=t;e.nestedWrapper-=1;var r=u.sequences[0],n=r.element.subType.split(":")[1],a=e.nestedWrapper>0;if(n==="w"){var o=D$(au(n),r.element.atts,a);e.usfmBits.push(o)}else a?e.usfmBits.push("\\+".concat(au(r.element.subType.split(":")[1]),"*")):e.usfmBits.push("\\".concat(au(r.element.subType.split(":")[1]),"*"))}},{description:"Do NOT output end tag",test:()=>!0,action:t=>{var{workspace:e}=t;e.nestedWrapper-=1}}],endDocument:[{description:"Build output",test:()=>!0,action:t=>{var{workspace:e,output:u}=t;u.usfm=e.usfmBits.join("").replace(/(\s*)\n(\s*)/gm,`
`)}}]},XE={perfToUsfmActions:f$},{wordCountActions:d$}=QE,{calculateUsfmChapterPositionsActions:p$}=YE,{perfToUsfmActions:h$}=XE,F$={wordCountActions:d$,perfToUsfmActions:h$,calculateUsfmChapterPositionsActions:p$},m$=E$(Cu);function E$(t){return t&&t.__esModule?t:{default:t}}var{wordCountActions:C$}=QE,A$=function(e){var{perf:u}=e,r=new m$.default({srcJson:u,actions:C$}),n={};return r.renderDocument({docId:"",config:{},output:n}),{report:n.report}},v$={name:"wordCount",type:"Transform",description:"PERF=>JSON: Generates positions for inserting chapter numbers into USFM",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"report",type:"json"}],code:A$},y$={wordCount:v$},g$=b$(Cu);function b$(t){return t&&t.__esModule?t:{default:t}}var{calculateUsfmChapterPositionsActions:B$}=YE,_$=function(e){var{perf:u}=e,r=new g$.default({srcJson:u,actions:B$}),n={};return r.renderDocument({docId:"",config:{maxLength:60},output:n}),{report:n.report}},w$={name:"calculateUsfmChapterPositions",type:"Transform",description:"PERF=>JSON: Generates positions for inserting chapter numbers into USFM",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"report",type:"json"}],code:_$},S$={calculateUsfmChapterPositions:w$},$$=k$(Cu);function k$(t){return t&&t.__esModule?t:{default:t}}var{perfToUsfmActions:q$}=XE,T$=function(e){var{perf:u,report:r}=e,n=new $$.default({srcJson:u,actions:q$}),a={};return n.renderDocument({docId:"",config:{report:r},output:a}),{usfm:a.usfm}},P$={name:"perfToUsfm",type:"Transform",description:"PERF=>USFM",inputs:[{name:"perf",type:"json",source:""},{name:"report",type:"json",source:""}],outputs:[{name:"usfm",type:"text"}],code:T$},I$={perfToUsfm:P$},lF=zn,DF=t=>["toc","toca","mt","imt","s","ms","mte","sd"].includes(t)?t+"1":t,O$={startDocument:[{description:"Setup",test:()=>!0,action:t=>{var{context:e,workspace:u,output:r}=t;u.chapter="front",u.verses="front",u.zalns=[],u.inW=!1,r.usfmJs={headers:[],chapters:{}};for(var[n,a]of Object.entries(e.document.metadata.document))["bookCode","properties","tags"].includes(n)||r.usfmJs.headers.push({tag:n==="toc"?"toc1":n,content:a})}}],startParagraph:[{description:"Output paragraph tag (main), currently always to front",test:t=>{var{context:e,workspace:u,output:r}=t;return e.sequences[0].type==="main"&&r.usfmJs.chapters[u.chapter]},action:t=>{var{context:e,workspace:u,output:r}=t;r.usfmJs.chapters[u.chapter].front||(r.usfmJs.chapters[u.chapter].front={verseObjects:[]}),r.usfmJs.chapters[u.chapter].front.verseObjects.push({tag:DF(e.sequences[0].block.subType.split(":")[1]),type:"paragraph",nextChar:`
`})}},{description:"mt (title)",test:t=>{var{context:e,workspace:u,output:r}=t;return e.sequences[0].type==="title"},action:t=>{var{context:e,output:u}=t;u.usfmJs.headers.push({tag:DF(e.sequences[0].block.subType.split(":")[1]),content:""})}}],mark:[{description:"Update chapter number",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="chapter"},action:t=>{var{context:e,workspace:u,output:r}=t;u.chapter=e.sequences[0].element.atts.number,u.verses="front",r.usfmJs.chapters[u.chapter]={}}},{description:"Update verses number",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="verses"},action:t=>{var{context:e,workspace:u,output:r}=t;u.verses=e.sequences[0].element.atts.number,r.usfmJs.chapters[u.chapter][u.verses]={verseObjects:[]}}}],startMilestone:[{description:"Start zaln: make milestone and add to stack",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:zaln"},action:t=>{var{context:e,workspace:u,output:r}=t,n=e.sequences[0].element,a={tag:"zaln",type:"milestone"};for(var o of["strong","lemma","morph","occurrence","occurrences","content"])n.atts["x-".concat(o)]&&(a[o]=n.atts["x-".concat(o)].join(","));a.children=[],a.endTag=null,u.zalns.length===0?r.usfmJs.chapters[u.chapter][u.verses].verseObjects.push(a):u.zalns[0].children.push(a),u.zalns.unshift(a)}}],endMilestone:[{description:"End zaln: pop stack",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:zaln"},action:t=>{var{workspace:e}=t;e.zalns[0].endTag="zaln-e\\*",e.zalns.shift()}}],startWrapper:[{description:"start of w wrapper: make a new object with empty text",test:t=>{var{context:e,workspace:u}=t;return e.sequences[0].element.subType==="usfm:w"&&u.zalns.length>0},action:t=>{var{context:e,workspace:u}=t,r={tag:"w",type:"word",text:""},n=e.sequences[0].element;for(var a of["occurrence","occurrences","content"])n.atts["x-".concat(a)]&&(r[a]=n.atts["x-".concat(a)].join(","));u.zalns[0].children.push(r),u.inW=!0}}],endWrapper:[{description:"end of w wrapper: clear flag",test:t=>{var{context:e,workspace:u}=t;return e.sequences[0].element.subType==="usfm:w"&&u.zalns.length>0},action:t=>{var{context:e,workspace:u}=t;u.inW=!1}}],text:[{description:"Main sequence: add text either as text object or to existing word object in milestone",test:t=>{var{context:e}=t;return e.sequences[0].type==="main"},action:t=>{var{context:e,workspace:u,output:r}=t,n=e.sequences[0].element.text,a=r.usfmJs.chapters[u.chapter][u.verses].verseObjects.slice(-1)[0];if(u.zalns[0]?a=u.zalns[0]:a.type==="milestone"&&(a={type:"text",text:""},r.usfmJs.chapters[u.chapter][u.verses].verseObjects.push(a)),a)if(a.type==="text")"text"in a&&(a.text=""),a.text+=n;else if(a.type==="milestone"){var o=a.children,s=lF.test(n,lF("^[\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127}$"),0);(o.length===0||!("text"in o[o.length-1])||!s)&&o.push({type:"text",text:""}),o[o.length-1].text+=n}else throw new Error("Child is either text nor milestone")}},{description:"Title sequence: add text to mt in header",test:t=>{var{context:e}=t;return e.sequences[0].type==="title"},action:t=>{var{context:e,output:u}=t,r=e.sequences[0].element.text,n=u.usfmJs.headers;n[n.length-1].content+=r}}],blockGraft:[{description:"Process title grafts",test:t=>t.context.sequences[0].block.subType==="title",action:t=>{var e=t.context.sequences[0].block,u={type:e.type,subtype:e.subType};e.target&&(u.target=e.target,t.context.renderer.renderSequenceId(t,u.target)),e.isNew&&(u.new=e.isNew)}}]},R$={perfToUsfmJsActions:O$},x$=j$(Cu);function j$(t){return t&&t.__esModule?t:{default:t}}var{perfToUsfmJsActions:N$}=R$,M$=function(e){var{perf:u,report:r}=e,n=new x$.default({srcJson:u,actions:N$}),a={};return n.renderDocument({docId:"",config:{report:r},output:a}),{usfmJs:a.usfmJs}},L$={name:"perfToUsfmJs",type:"Transform",description:"PERF=>USFMJS",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"usfmJs",type:"json"}],code:M$},U$={perfToUsfmJs:L$},{wordCount:V$}=y$,{calculateUsfmChapterPositions:W$}=S$,{perfToUsfm:z$}=I$,{perfToUsfmJs:G$}=U$,H$={wordCount:V$,perfToUsfm:z$,perfToUsfmJs:G$,calculateUsfmChapterPositions:W$},J$=F$,Z$=H$,K$={transforms:Z$,renderActions:J$},Q$={startMilestone:[{description:"Ignore startMilestone events",test:()=>!0,action:()=>{}}],endMilestone:[{description:"Ignore endMilestone events",test:()=>!0,action:()=>{}}],startWrapper:[{description:"Ignore startWrapper events",test:()=>!0,action:()=>{}}],endWrapper:[{description:"Ignore endWrapper events",test:()=>!0,action:()=>{}}],blockGraft:[{description:"Ignore blockGraft events, except for title (\\mt)",test:t=>t.context.sequences[0].block.subType!=="title",action:t=>{}}],inlineGraft:[{description:"Ignore inlineGraft events",test:()=>!0,action:()=>{}}],mark:[{description:"Ignore mark events, except for chapter and verses",test:t=>{var{context:e}=t;return!["chapter","verses"].includes(e.sequences[0].element.subType)},action:()=>{}}]},eC={justTheBibleActions:Q$},Y$={startMilestone:[{description:"Ignore zaln startMilestone events",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:zaln"},action:()=>{}}],endMilestone:[{description:"Ignore zaln endMilestone events",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:zaln"},action:()=>{}}],startWrapper:[{description:"Ignore w startWrapper events",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:w"},action:()=>{}}],endWrapper:[{description:"Ignore w endWrapper events",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:w"},action:()=>{}}]},tC={stripUwAlignmentActions:Y$},X$=Gm,fF=zn,ek={startDocument:[{description:"Make alignment lookup",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r,output:n}=t;return r.chapter=null,r.verses=null,r.verseWordOccurrences={},r.alignmentLookup=X$.alignmentLookupFromUsfmJs(e.usfmJs),r.zalnNesting=0,n.perf={},n.occurrences={},!0}}],mark:[{description:"Update CV state",test:()=>!0,action:t=>{var{context:e,workspace:u,output:r}=t;try{var n=e.sequences[0].element;n.subType==="chapter"?(u.chapter=n.atts.number,u.verses=null,r.occurrences[u.chapter]={}):n.subType==="verses"&&(u.verses=n.atts.number,u.verseWordOccurrences={},r.occurrences[u.chapter][u.verses]=[])}catch(a){throw console.error(a),a}return!0}}],text:[{description:"Maintain occurrences, add alignment when match found",test:()=>!0,action:t=>{var{context:e,workspace:u,output:r}=t,n=fF("^[\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127}$"),a=e.sequences[0].element.text;if(fF.test(a,n)){u.verseWordOccurrences[a]||(u.verseWordOccurrences[a]=0),u.verseWordOccurrences[a]++,r.occurrences[u.chapter][u.verses].push(u.verseWordOccurrences[a]);var o="".concat(a,"_").concat(u.verseWordOccurrences[a]),s=u.alignmentLookup[u.chapter][u.verses].before[o];if(s){for(var i of s){var l={type:"start_milestone",subtype:"usfm:zaln",atts:{"x-strong":[i.strong],"x-lemma":[i.lemma],"x-morph":[i.morph.split(",")],"x-occurrence":["".concat(i.occurrence)],"x-occurrences":["".concat(i.occurrences)],"x-content":[i.content]}};u.outputContentStack[0].push(l),u.zalnNesting++}if(u.zalnNesting>0){var c={type:"wrapper",subtype:"usfm:w",content:[a],atts:{"x-occurrence":["".concat(u.verseWordOccurrences[a])],"x-occurrences":["0"]}};u.outputContentStack[0].push(c)}else u.outputContentStack[0].push(a);var d=u.alignmentLookup[u.chapter][u.verses].after[o];if(d)for(var p of d){var h={type:"end_milestone",subtype:"usfm:zaln",atts:{"x-strong":[p.strong],"x-lemma":[p.lemma],"x-morph":[p.morph.split(",")],"x-occurrence":["".concat(p.occurrence)],"x-occurrences":["".concat(p.occurrences)],"x-content":[p.content]}};u.outputContentStack[0].push(h),u.zalnNesting--}}}else u.outputContentStack[0].push(a);return!1}}]},uC={mergeUwAlignmentActions:ek},tk={startDocument:[{description:"Set up w counter",test:t=>!0,action:t=>{var{workspace:e}=t;return e.wInVerse=0,!0}}],mark:[{description:"Update CV state",test:()=>!0,action:t=>{var{context:e,workspace:u,output:r}=t;try{var n=e.sequences[0].element;n.subType==="chapter"?(u.chapter=n.atts.number,u.verses=null):n.subType==="verses"&&(u.verses=n.atts.number,u.verseWordOccurrences={},u.wInVerse=0)}catch(a){throw console.error(a),a}return!0}}],startWrapper:[{description:"Add occurrences to w wrapper",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:w"},action:t=>{var{config:e,context:u,workspace:r,output:n}=t,a=u.sequences[0].element,o={type:a.type,subtype:a.subType,content:[]};"atts"in a&&typeof a.atts=="object"&&Object.keys(a.atts).length!==0&&(o.atts=a.atts);var s=e.occurrences[r.chapter][r.verses][r.wInVerse];if(!s)throw new Error("No occurrences data for ".concat(r.chapter,":").concat(r.verses,"#").concat(r.wInVerse));return o.atts["x-occurrences"]=[s],r.wInVerse++,r.outputContentStack[0].push(o),r.outputContentStack.unshift(o.content),!1}}]},rC={addUwAlignmentOccurrencesActions:tk},{identityActions:uk}=cr,{justTheBibleActions:rk}=eC,{stripUwAlignmentActions:nk}=tC,{mergeUwAlignmentActions:ak}=uC,{addUwAlignmentOccurrences:ok}=rC,sk={identityActions:uk,justTheBibleActions:rk,stripUwAlignmentActions:nk,mergeUwAlignmentActions:ak,addUwAlignmentOccurrences:ok},{identityActions:ik}=cr,ck=function(e){var{perf:u}=e,r=new PerfRenderFromJson({srcJson:u,actions:ik}),n={};return r.renderDocument({docId:"",config:{},output:n}),{verseWords:n.cv}},lk={name:"identityTransform",type:"Transform",description:"identity operation",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:ck},Dk={identity:lk},fk=nC(Cu),dk=nC(_r);function nC(t){return t&&t.__esModule?t:{default:t}}var{identityActions:pk}=cr,{justTheBibleActions:hk}=eC,Fk=function(e){var{perf:u}=e,r=new fk.default({srcJson:u,actions:(0,dk.default)([hk,pk])}),n={};return r.renderDocument({docId:"",config:{},output:n}),{perf:n.perf}},mk={name:"justTheBible",type:"Transform",description:"PERF=>PERF: Strips most markup",documentation:"This transform removes milestones, wrappers and most marks. It has been used in several pipelines. It may also be stripping metaContent.",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:Fk},Ek={justTheBible:mk},Ck=aC(Cu),Ak=aC(_r);function aC(t){return t&&t.__esModule?t:{default:t}}var{identityActions:vk}=cr,{stripUwAlignmentActions:yk}=tC,gk=function(e){var{perf:u}=e,r=new Ck.default({srcJson:u,actions:(0,Ak.default)([yk,vk])}),n={};return r.renderDocument({docId:"",config:{},output:n}),{perf:n.perf}},bk={name:"stripUwAlignment",type:"Transform",description:"PERF=>PERF: Strips uW alignment markup",documentation:"This transform removes zaln milestones and w wrappers and most marks.",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:gk},Bk={stripUwAlignment:bk},_k=oC(Cu),wk=oC(_r);function oC(t){return t&&t.__esModule?t:{default:t}}var{identityActions:Sk}=cr,{mergeUwAlignmentActions:$k}=uC,kk=function(e){var{perf:u,usfmJs:r}=e,n=new _k.default({srcJson:u,actions:(0,wk.default)([$k,Sk])}),a={};return n.renderDocument({docId:"",config:{usfmJs:r},output:a}),{perf:a.perf,occurrences:a.occurrences}},qk={name:"mergeUwAlignment",type:"Transform",description:"PERF=>PERF: Adds uW alignment markup from usfmJs",documentation:"This transform adds uW alignment from an equivalent usfmJs document.",inputs:[{name:"perf",type:"json",source:""},{name:"usfmJs",type:"json",source:""}],outputs:[{name:"perf",type:"json"},{name:"occurrences",type:"json"}],code:kk},Tk={mergeUwAlignment:qk},Pk=sC(Cu),Ik=sC(_r);function sC(t){return t&&t.__esModule?t:{default:t}}var{identityActions:Ok}=cr,{addUwAlignmentOccurrencesActions:Rk}=rC,xk=function(e){var{perf:u,occurrences:r}=e,n=new Pk.default({srcJson:u,actions:(0,Ik.default)([Rk,Ok])}),a={};return n.renderDocument({docId:"",config:{occurrences:r},output:a}),{perf:a.perf}},jk={name:"addUwAlignmentOccurrences",type:"Transform",description:"PERF=>PERF: Adds uW alignment markup from usfmJs",documentation:"This transform adds uW alignment from an equivalent usfmJs document.",inputs:[{name:"perf",type:"json",source:""},{name:"occurrences",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:xk},Nk={addUwAlignmentOccurrences:jk},ya={},uo={};uo.byteLength=Uk;uo.toByteArray=Wk;uo.fromByteArray=Hk;var Pu=[],hu=[],Mk=typeof Uint8Array<"u"?Uint8Array:Array,Uc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Wr=0,Lk=Uc.length;Wr<Lk;++Wr)Pu[Wr]=Uc[Wr],hu[Uc.charCodeAt(Wr)]=Wr;hu["-".charCodeAt(0)]=62;hu["_".charCodeAt(0)]=63;function iC(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=t.indexOf("=");u===-1&&(u=e);var r=u===e?0:4-u%4;return[u,r]}function Uk(t){var e=iC(t),u=e[0],r=e[1];return(u+r)*3/4-r}function Vk(t,e,u){return(e+u)*3/4-u}function Wk(t){var e,u=iC(t),r=u[0],n=u[1],a=new Mk(Vk(t,r,n)),o=0,s=n>0?r-4:r,i;for(i=0;i<s;i+=4)e=hu[t.charCodeAt(i)]<<18|hu[t.charCodeAt(i+1)]<<12|hu[t.charCodeAt(i+2)]<<6|hu[t.charCodeAt(i+3)],a[o++]=e>>16&255,a[o++]=e>>8&255,a[o++]=e&255;return n===2&&(e=hu[t.charCodeAt(i)]<<2|hu[t.charCodeAt(i+1)]>>4,a[o++]=e&255),n===1&&(e=hu[t.charCodeAt(i)]<<10|hu[t.charCodeAt(i+1)]<<4|hu[t.charCodeAt(i+2)]>>2,a[o++]=e>>8&255,a[o++]=e&255),a}function zk(t){return Pu[t>>18&63]+Pu[t>>12&63]+Pu[t>>6&63]+Pu[t&63]}function Gk(t,e,u){for(var r,n=[],a=e;a<u;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),n.push(zk(r));return n.join("")}function Hk(t){for(var e,u=t.length,r=u%3,n=[],a=16383,o=0,s=u-r;o<s;o+=a)n.push(Gk(t,o,o+a>s?s:o+a));return r===1?(e=t[u-1],n.push(Pu[e>>2]+Pu[e<<4&63]+"==")):r===2&&(e=(t[u-2]<<8)+t[u-1],n.push(Pu[e>>10]+Pu[e>>4&63]+Pu[e<<2&63]+"=")),n.join("")}var il={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */il.read=function(t,e,u,r,n){var a,o,s=n*8-r-1,i=(1<<s)-1,l=i>>1,c=-7,d=u?n-1:0,p=u?-1:1,h=t[e+d];for(d+=p,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=a*256+t[e+d],d+=p,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=o*256+t[e+d],d+=p,c-=8);if(a===0)a=1-l;else{if(a===i)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,r),a=a-l}return(h?-1:1)*o*Math.pow(2,a-r)};il.write=function(t,e,u,r,n,a){var o,s,i,l=a*8-n-1,c=(1<<l)-1,d=c>>1,p=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,F=r?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(i=Math.pow(2,-o))<1&&(o--,i*=2),o+d>=1?e+=p/i:e+=p*Math.pow(2,1-d),e*i>=2&&(o++,i/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(e*i-1)*Math.pow(2,n),o=o+d):(s=e*Math.pow(2,d-1)*Math.pow(2,n),o=0));n>=8;t[u+h]=s&255,h+=F,s/=256,n-=8);for(o=o<<n|s,l+=n;l>0;t[u+h]=o&255,h+=F,o/=256,l-=8);t[u+h-F]|=g*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=uo,u=il,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=E,t.INSPECT_MAX_BYTES=50;const n=2147483647;t.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=a(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const m=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(m,D),m.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(m){if(m>n)throw new RangeError('The value "'+m+'" is invalid for option "size"');const D=new Uint8Array(m);return Object.setPrototypeOf(D,s.prototype),D}function s(m,D,f){if(typeof m=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(m)}return i(m,D,f)}s.poolSize=8192;function i(m,D,f){if(typeof m=="string")return p(m,D);if(ArrayBuffer.isView(m))return F(m);if(m==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(ie(m,ArrayBuffer)||m&&ie(m.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ie(m,SharedArrayBuffer)||m&&ie(m.buffer,SharedArrayBuffer)))return g(m,D,f);if(typeof m=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const b=m.valueOf&&m.valueOf();if(b!=null&&b!==m)return s.from(b,D,f);const $=A(m);if($)return $;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof m[Symbol.toPrimitive]=="function")return s.from(m[Symbol.toPrimitive]("string"),D,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m)}s.from=function(m,D,f){return i(m,D,f)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(m){if(typeof m!="number")throw new TypeError('"size" argument must be of type number');if(m<0)throw new RangeError('The value "'+m+'" is invalid for option "size"')}function c(m,D,f){return l(m),m<=0?o(m):D!==void 0?typeof f=="string"?o(m).fill(D,f):o(m).fill(D):o(m)}s.alloc=function(m,D,f){return c(m,D,f)};function d(m){return l(m),o(m<0?0:C(m)|0)}s.allocUnsafe=function(m){return d(m)},s.allocUnsafeSlow=function(m){return d(m)};function p(m,D){if((typeof D!="string"||D==="")&&(D="utf8"),!s.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const f=v(m,D)|0;let b=o(f);const $=b.write(m,D);return $!==f&&(b=b.slice(0,$)),b}function h(m){const D=m.length<0?0:C(m.length)|0,f=o(D);for(let b=0;b<D;b+=1)f[b]=m[b]&255;return f}function F(m){if(ie(m,Uint8Array)){const D=new Uint8Array(m);return g(D.buffer,D.byteOffset,D.byteLength)}return h(m)}function g(m,D,f){if(D<0||m.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<D+(f||0))throw new RangeError('"length" is outside of buffer bounds');let b;return D===void 0&&f===void 0?b=new Uint8Array(m):f===void 0?b=new Uint8Array(m,D):b=new Uint8Array(m,D,f),Object.setPrototypeOf(b,s.prototype),b}function A(m){if(s.isBuffer(m)){const D=C(m.length)|0,f=o(D);return f.length===0||m.copy(f,0,0,D),f}if(m.length!==void 0)return typeof m.length!="number"||Ft(m.length)?o(0):h(m);if(m.type==="Buffer"&&Array.isArray(m.data))return h(m.data)}function C(m){if(m>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return m|0}function E(m){return+m!=m&&(m=0),s.alloc(+m)}s.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==s.prototype},s.compare=function(D,f){if(ie(D,Uint8Array)&&(D=s.from(D,D.offset,D.byteLength)),ie(f,Uint8Array)&&(f=s.from(f,f.offset,f.byteLength)),!s.isBuffer(D)||!s.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===f)return 0;let b=D.length,$=f.length;for(let w=0,M=Math.min(b,$);w<M;++w)if(D[w]!==f[w]){b=D[w],$=f[w];break}return b<$?-1:$<b?1:0},s.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(D,f){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return s.alloc(0);let b;if(f===void 0)for(f=0,b=0;b<D.length;++b)f+=D[b].length;const $=s.allocUnsafe(f);let w=0;for(b=0;b<D.length;++b){let M=D[b];if(ie(M,Uint8Array))w+M.length>$.length?(s.isBuffer(M)||(M=s.from(M)),M.copy($,w)):Uint8Array.prototype.set.call($,M,w);else if(s.isBuffer(M))M.copy($,w);else throw new TypeError('"list" argument must be an Array of Buffers');w+=M.length}return $};function v(m,D){if(s.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||ie(m,ArrayBuffer))return m.byteLength;if(typeof m!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);const f=m.length,b=arguments.length>2&&arguments[2]===!0;if(!b&&f===0)return 0;let $=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return dt(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return tt(m).length;default:if($)return b?-1:dt(m).length;D=(""+D).toLowerCase(),$=!0}}s.byteLength=v;function S(m,D,f){let b=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,D>>>=0,f<=D))return"";for(m||(m="utf8");;)switch(m){case"hex":return we(this,D,f);case"utf8":case"utf-8":return Q(this,D,f);case"ascii":return Ee(this,D,f);case"latin1":case"binary":return ye(this,D,f);case"base64":return oe(this,D,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,D,f);default:if(b)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),b=!0}}s.prototype._isBuffer=!0;function q(m,D,f){const b=m[D];m[D]=m[f],m[f]=b}s.prototype.swap16=function(){const D=this.length;if(D%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<D;f+=2)q(this,f,f+1);return this},s.prototype.swap32=function(){const D=this.length;if(D%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<D;f+=4)q(this,f,f+3),q(this,f+1,f+2);return this},s.prototype.swap64=function(){const D=this.length;if(D%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<D;f+=8)q(this,f,f+7),q(this,f+1,f+6),q(this,f+2,f+5),q(this,f+3,f+4);return this},s.prototype.toString=function(){const D=this.length;return D===0?"":arguments.length===0?Q(this,0,D):S.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(D){if(!s.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D?!0:s.compare(this,D)===0},s.prototype.inspect=function(){let D="";const f=t.INSPECT_MAX_BYTES;return D=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(D+=" ... "),"<Buffer "+D+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(D,f,b,$,w){if(ie(D,Uint8Array)&&(D=s.from(D,D.offset,D.byteLength)),!s.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(f===void 0&&(f=0),b===void 0&&(b=D?D.length:0),$===void 0&&($=0),w===void 0&&(w=this.length),f<0||b>D.length||$<0||w>this.length)throw new RangeError("out of range index");if($>=w&&f>=b)return 0;if($>=w)return-1;if(f>=b)return 1;if(f>>>=0,b>>>=0,$>>>=0,w>>>=0,this===D)return 0;let M=w-$,fe=b-f;const be=Math.min(M,fe),qe=this.slice($,w),Te=D.slice(f,b);for(let Je=0;Je<be;++Je)if(qe[Je]!==Te[Je]){M=qe[Je],fe=Te[Je];break}return M<fe?-1:fe<M?1:0};function _(m,D,f,b,$){if(m.length===0)return-1;if(typeof f=="string"?(b=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,Ft(f)&&(f=$?0:m.length-1),f<0&&(f=m.length+f),f>=m.length){if($)return-1;f=m.length-1}else if(f<0)if($)f=0;else return-1;if(typeof D=="string"&&(D=s.from(D,b)),s.isBuffer(D))return D.length===0?-1:T(m,D,f,b,$);if(typeof D=="number")return D=D&255,typeof Uint8Array.prototype.indexOf=="function"?$?Uint8Array.prototype.indexOf.call(m,D,f):Uint8Array.prototype.lastIndexOf.call(m,D,f):T(m,[D],f,b,$);throw new TypeError("val must be string, number or Buffer")}function T(m,D,f,b,$){let w=1,M=m.length,fe=D.length;if(b!==void 0&&(b=String(b).toLowerCase(),b==="ucs2"||b==="ucs-2"||b==="utf16le"||b==="utf-16le")){if(m.length<2||D.length<2)return-1;w=2,M/=2,fe/=2,f/=2}function be(Te,Je){return w===1?Te[Je]:Te.readUInt16BE(Je*w)}let qe;if($){let Te=-1;for(qe=f;qe<M;qe++)if(be(m,qe)===be(D,Te===-1?0:qe-Te)){if(Te===-1&&(Te=qe),qe-Te+1===fe)return Te*w}else Te!==-1&&(qe-=qe-Te),Te=-1}else for(f+fe>M&&(f=M-fe),qe=f;qe>=0;qe--){let Te=!0;for(let Je=0;Je<fe;Je++)if(be(m,qe+Je)!==be(D,Je)){Te=!1;break}if(Te)return qe}return-1}s.prototype.includes=function(D,f,b){return this.indexOf(D,f,b)!==-1},s.prototype.indexOf=function(D,f,b){return _(this,D,f,b,!0)},s.prototype.lastIndexOf=function(D,f,b){return _(this,D,f,b,!1)};function R(m,D,f,b){f=Number(f)||0;const $=m.length-f;b?(b=Number(b),b>$&&(b=$)):b=$;const w=D.length;b>w/2&&(b=w/2);let M;for(M=0;M<b;++M){const fe=parseInt(D.substr(M*2,2),16);if(Ft(fe))return M;m[f+M]=fe}return M}function L(m,D,f,b){return kt(dt(D,m.length-f),m,f,b)}function J(m,D,f,b){return kt(wt(D),m,f,b)}function U(m,D,f,b){return kt(tt(D),m,f,b)}function K(m,D,f,b){return kt(nt(D,m.length-f),m,f,b)}s.prototype.write=function(D,f,b,$){if(f===void 0)$="utf8",b=this.length,f=0;else if(b===void 0&&typeof f=="string")$=f,b=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(b)?(b=b>>>0,$===void 0&&($="utf8")):($=b,b=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const w=this.length-f;if((b===void 0||b>w)&&(b=w),D.length>0&&(b<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");let M=!1;for(;;)switch($){case"hex":return R(this,D,f,b);case"utf8":case"utf-8":return L(this,D,f,b);case"ascii":case"latin1":case"binary":return J(this,D,f,b);case"base64":return U(this,D,f,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,D,f,b);default:if(M)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),M=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function oe(m,D,f){return D===0&&f===m.length?e.fromByteArray(m):e.fromByteArray(m.slice(D,f))}function Q(m,D,f){f=Math.min(m.length,f);const b=[];let $=D;for(;$<f;){const w=m[$];let M=null,fe=w>239?4:w>223?3:w>191?2:1;if($+fe<=f){let be,qe,Te,Je;switch(fe){case 1:w<128&&(M=w);break;case 2:be=m[$+1],(be&192)===128&&(Je=(w&31)<<6|be&63,Je>127&&(M=Je));break;case 3:be=m[$+1],qe=m[$+2],(be&192)===128&&(qe&192)===128&&(Je=(w&15)<<12|(be&63)<<6|qe&63,Je>2047&&(Je<55296||Je>57343)&&(M=Je));break;case 4:be=m[$+1],qe=m[$+2],Te=m[$+3],(be&192)===128&&(qe&192)===128&&(Te&192)===128&&(Je=(w&15)<<18|(be&63)<<12|(qe&63)<<6|Te&63,Je>65535&&Je<1114112&&(M=Je))}}M===null?(M=65533,fe=1):M>65535&&(M-=65536,b.push(M>>>10&1023|55296),M=56320|M&1023),b.push(M),$+=fe}return X(b)}const Ce=4096;function X(m){const D=m.length;if(D<=Ce)return String.fromCharCode.apply(String,m);let f="",b=0;for(;b<D;)f+=String.fromCharCode.apply(String,m.slice(b,b+=Ce));return f}function Ee(m,D,f){let b="";f=Math.min(m.length,f);for(let $=D;$<f;++$)b+=String.fromCharCode(m[$]&127);return b}function ye(m,D,f){let b="";f=Math.min(m.length,f);for(let $=D;$<f;++$)b+=String.fromCharCode(m[$]);return b}function we(m,D,f){const b=m.length;(!D||D<0)&&(D=0),(!f||f<0||f>b)&&(f=b);let $="";for(let w=D;w<f;++w)$+=x[m[w]];return $}function ae(m,D,f){const b=m.slice(D,f);let $="";for(let w=0;w<b.length-1;w+=2)$+=String.fromCharCode(b[w]+b[w+1]*256);return $}s.prototype.slice=function(D,f){const b=this.length;D=~~D,f=f===void 0?b:~~f,D<0?(D+=b,D<0&&(D=0)):D>b&&(D=b),f<0?(f+=b,f<0&&(f=0)):f>b&&(f=b),f<D&&(f=D);const $=this.subarray(D,f);return Object.setPrototypeOf($,s.prototype),$};function N(m,D,f){if(m%1!==0||m<0)throw new RangeError("offset is not uint");if(m+D>f)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(D,f,b){D=D>>>0,f=f>>>0,b||N(D,f,this.length);let $=this[D],w=1,M=0;for(;++M<f&&(w*=256);)$+=this[D+M]*w;return $},s.prototype.readUintBE=s.prototype.readUIntBE=function(D,f,b){D=D>>>0,f=f>>>0,b||N(D,f,this.length);let $=this[D+--f],w=1;for(;f>0&&(w*=256);)$+=this[D+--f]*w;return $},s.prototype.readUint8=s.prototype.readUInt8=function(D,f){return D=D>>>0,f||N(D,1,this.length),this[D]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(D,f){return D=D>>>0,f||N(D,2,this.length),this[D]|this[D+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(D,f){return D=D>>>0,f||N(D,2,this.length),this[D]<<8|this[D+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(D,f){return D=D>>>0,f||N(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(D,f){return D=D>>>0,f||N(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},s.prototype.readBigUInt64LE=Z(function(D){D=D>>>0,Xe(D,"offset");const f=this[D],b=this[D+7];(f===void 0||b===void 0)&&rt(D,this.length-8);const $=f+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24,w=this[++D]+this[++D]*2**8+this[++D]*2**16+b*2**24;return BigInt($)+(BigInt(w)<<BigInt(32))}),s.prototype.readBigUInt64BE=Z(function(D){D=D>>>0,Xe(D,"offset");const f=this[D],b=this[D+7];(f===void 0||b===void 0)&&rt(D,this.length-8);const $=f*2**24+this[++D]*2**16+this[++D]*2**8+this[++D],w=this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+b;return(BigInt($)<<BigInt(32))+BigInt(w)}),s.prototype.readIntLE=function(D,f,b){D=D>>>0,f=f>>>0,b||N(D,f,this.length);let $=this[D],w=1,M=0;for(;++M<f&&(w*=256);)$+=this[D+M]*w;return w*=128,$>=w&&($-=Math.pow(2,8*f)),$},s.prototype.readIntBE=function(D,f,b){D=D>>>0,f=f>>>0,b||N(D,f,this.length);let $=f,w=1,M=this[D+--$];for(;$>0&&(w*=256);)M+=this[D+--$]*w;return w*=128,M>=w&&(M-=Math.pow(2,8*f)),M},s.prototype.readInt8=function(D,f){return D=D>>>0,f||N(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},s.prototype.readInt16LE=function(D,f){D=D>>>0,f||N(D,2,this.length);const b=this[D]|this[D+1]<<8;return b&32768?b|4294901760:b},s.prototype.readInt16BE=function(D,f){D=D>>>0,f||N(D,2,this.length);const b=this[D+1]|this[D]<<8;return b&32768?b|4294901760:b},s.prototype.readInt32LE=function(D,f){return D=D>>>0,f||N(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},s.prototype.readInt32BE=function(D,f){return D=D>>>0,f||N(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},s.prototype.readBigInt64LE=Z(function(D){D=D>>>0,Xe(D,"offset");const f=this[D],b=this[D+7];(f===void 0||b===void 0)&&rt(D,this.length-8);const $=this[D+4]+this[D+5]*2**8+this[D+6]*2**16+(b<<24);return(BigInt($)<<BigInt(32))+BigInt(f+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24)}),s.prototype.readBigInt64BE=Z(function(D){D=D>>>0,Xe(D,"offset");const f=this[D],b=this[D+7];(f===void 0||b===void 0)&&rt(D,this.length-8);const $=(f<<24)+this[++D]*2**16+this[++D]*2**8+this[++D];return(BigInt($)<<BigInt(32))+BigInt(this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+b)}),s.prototype.readFloatLE=function(D,f){return D=D>>>0,f||N(D,4,this.length),u.read(this,D,!0,23,4)},s.prototype.readFloatBE=function(D,f){return D=D>>>0,f||N(D,4,this.length),u.read(this,D,!1,23,4)},s.prototype.readDoubleLE=function(D,f){return D=D>>>0,f||N(D,8,this.length),u.read(this,D,!0,52,8)},s.prototype.readDoubleBE=function(D,f){return D=D>>>0,f||N(D,8,this.length),u.read(this,D,!1,52,8)};function G(m,D,f,b,$,w){if(!s.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>$||D<w)throw new RangeError('"value" argument is out of bounds');if(f+b>m.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(D,f,b,$){if(D=+D,f=f>>>0,b=b>>>0,!$){const fe=Math.pow(2,8*b)-1;G(this,D,f,b,fe,0)}let w=1,M=0;for(this[f]=D&255;++M<b&&(w*=256);)this[f+M]=D/w&255;return f+b},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(D,f,b,$){if(D=+D,f=f>>>0,b=b>>>0,!$){const fe=Math.pow(2,8*b)-1;G(this,D,f,b,fe,0)}let w=b-1,M=1;for(this[f+w]=D&255;--w>=0&&(M*=256);)this[f+w]=D/M&255;return f+b},s.prototype.writeUint8=s.prototype.writeUInt8=function(D,f,b){return D=+D,f=f>>>0,b||G(this,D,f,1,255,0),this[f]=D&255,f+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(D,f,b){return D=+D,f=f>>>0,b||G(this,D,f,2,65535,0),this[f]=D&255,this[f+1]=D>>>8,f+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(D,f,b){return D=+D,f=f>>>0,b||G(this,D,f,2,65535,0),this[f]=D>>>8,this[f+1]=D&255,f+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(D,f,b){return D=+D,f=f>>>0,b||G(this,D,f,4,4294967295,0),this[f+3]=D>>>24,this[f+2]=D>>>16,this[f+1]=D>>>8,this[f]=D&255,f+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(D,f,b){return D=+D,f=f>>>0,b||G(this,D,f,4,4294967295,0),this[f]=D>>>24,this[f+1]=D>>>16,this[f+2]=D>>>8,this[f+3]=D&255,f+4};function z(m,D,f,b,$){ct(D,b,$,m,f,7);let w=Number(D&BigInt(4294967295));m[f++]=w,w=w>>8,m[f++]=w,w=w>>8,m[f++]=w,w=w>>8,m[f++]=w;let M=Number(D>>BigInt(32)&BigInt(4294967295));return m[f++]=M,M=M>>8,m[f++]=M,M=M>>8,m[f++]=M,M=M>>8,m[f++]=M,f}function y(m,D,f,b,$){ct(D,b,$,m,f,7);let w=Number(D&BigInt(4294967295));m[f+7]=w,w=w>>8,m[f+6]=w,w=w>>8,m[f+5]=w,w=w>>8,m[f+4]=w;let M=Number(D>>BigInt(32)&BigInt(4294967295));return m[f+3]=M,M=M>>8,m[f+2]=M,M=M>>8,m[f+1]=M,M=M>>8,m[f]=M,f+8}s.prototype.writeBigUInt64LE=Z(function(D,f=0){return z(this,D,f,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Z(function(D,f=0){return y(this,D,f,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(D,f,b,$){if(D=+D,f=f>>>0,!$){const be=Math.pow(2,8*b-1);G(this,D,f,b,be-1,-be)}let w=0,M=1,fe=0;for(this[f]=D&255;++w<b&&(M*=256);)D<0&&fe===0&&this[f+w-1]!==0&&(fe=1),this[f+w]=(D/M>>0)-fe&255;return f+b},s.prototype.writeIntBE=function(D,f,b,$){if(D=+D,f=f>>>0,!$){const be=Math.pow(2,8*b-1);G(this,D,f,b,be-1,-be)}let w=b-1,M=1,fe=0;for(this[f+w]=D&255;--w>=0&&(M*=256);)D<0&&fe===0&&this[f+w+1]!==0&&(fe=1),this[f+w]=(D/M>>0)-fe&255;return f+b},s.prototype.writeInt8=function(D,f,b){return D=+D,f=f>>>0,b||G(this,D,f,1,127,-128),D<0&&(D=255+D+1),this[f]=D&255,f+1},s.prototype.writeInt16LE=function(D,f,b){return D=+D,f=f>>>0,b||G(this,D,f,2,32767,-32768),this[f]=D&255,this[f+1]=D>>>8,f+2},s.prototype.writeInt16BE=function(D,f,b){return D=+D,f=f>>>0,b||G(this,D,f,2,32767,-32768),this[f]=D>>>8,this[f+1]=D&255,f+2},s.prototype.writeInt32LE=function(D,f,b){return D=+D,f=f>>>0,b||G(this,D,f,4,2147483647,-2147483648),this[f]=D&255,this[f+1]=D>>>8,this[f+2]=D>>>16,this[f+3]=D>>>24,f+4},s.prototype.writeInt32BE=function(D,f,b){return D=+D,f=f>>>0,b||G(this,D,f,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[f]=D>>>24,this[f+1]=D>>>16,this[f+2]=D>>>8,this[f+3]=D&255,f+4},s.prototype.writeBigInt64LE=Z(function(D,f=0){return z(this,D,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Z(function(D,f=0){return y(this,D,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function I(m,D,f,b,$,w){if(f+b>m.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function H(m,D,f,b,$){return D=+D,f=f>>>0,$||I(m,D,f,4),u.write(m,D,f,b,23,4),f+4}s.prototype.writeFloatLE=function(D,f,b){return H(this,D,f,!0,b)},s.prototype.writeFloatBE=function(D,f,b){return H(this,D,f,!1,b)};function me(m,D,f,b,$){return D=+D,f=f>>>0,$||I(m,D,f,8),u.write(m,D,f,b,52,8),f+8}s.prototype.writeDoubleLE=function(D,f,b){return me(this,D,f,!0,b)},s.prototype.writeDoubleBE=function(D,f,b){return me(this,D,f,!1,b)},s.prototype.copy=function(D,f,b,$){if(!s.isBuffer(D))throw new TypeError("argument should be a Buffer");if(b||(b=0),!$&&$!==0&&($=this.length),f>=D.length&&(f=D.length),f||(f=0),$>0&&$<b&&($=b),$===b||D.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),D.length-f<$-b&&($=D.length-f+b);const w=$-b;return this===D&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,b,$):Uint8Array.prototype.set.call(D,this.subarray(b,$),f),w},s.prototype.fill=function(D,f,b,$){if(typeof D=="string"){if(typeof f=="string"?($=f,f=0,b=this.length):typeof b=="string"&&($=b,b=this.length),$!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!s.isEncoding($))throw new TypeError("Unknown encoding: "+$);if(D.length===1){const M=D.charCodeAt(0);($==="utf8"&&M<128||$==="latin1")&&(D=M)}}else typeof D=="number"?D=D&255:typeof D=="boolean"&&(D=Number(D));if(f<0||this.length<f||this.length<b)throw new RangeError("Out of range index");if(b<=f)return this;f=f>>>0,b=b===void 0?this.length:b>>>0,D||(D=0);let w;if(typeof D=="number")for(w=f;w<b;++w)this[w]=D;else{const M=s.isBuffer(D)?D:s.from(D,$),fe=M.length;if(fe===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(w=0;w<b-f;++w)this[w+f]=M[w%fe]}return this};const De={};function ce(m,D,f){De[m]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${m}]`,this.stack,delete this.name}get code(){return m}set code($){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:$,writable:!0})}toString(){return`${this.name} [${m}]: ${this.message}`}}}ce("ERR_BUFFER_OUT_OF_BOUNDS",function(m){return m?`${m} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ce("ERR_INVALID_ARG_TYPE",function(m,D){return`The "${m}" argument must be of type number. Received type ${typeof D}`},TypeError),ce("ERR_OUT_OF_RANGE",function(m,D,f){let b=`The value of "${m}" is out of range.`,$=f;return Number.isInteger(f)&&Math.abs(f)>2**32?$=Se(String(f)):typeof f=="bigint"&&($=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&($=Se($)),$+="n"),b+=` It must be ${D}. Received ${$}`,b},RangeError);function Se(m){let D="",f=m.length;const b=m[0]==="-"?1:0;for(;f>=b+4;f-=3)D=`_${m.slice(f-3,f)}${D}`;return`${m.slice(0,f)}${D}`}function Re(m,D,f){Xe(D,"offset"),(m[D]===void 0||m[D+f]===void 0)&&rt(D,m.length-(f+1))}function ct(m,D,f,b,$,w){if(m>f||m<D){const M=typeof D=="bigint"?"n":"";let fe;throw w>3?D===0||D===BigInt(0)?fe=`>= 0${M} and < 2${M} ** ${(w+1)*8}${M}`:fe=`>= -(2${M} ** ${(w+1)*8-1}${M}) and < 2 ** ${(w+1)*8-1}${M}`:fe=`>= ${D}${M} and <= ${f}${M}`,new De.ERR_OUT_OF_RANGE("value",fe,m)}Re(b,$,w)}function Xe(m,D){if(typeof m!="number")throw new De.ERR_INVALID_ARG_TYPE(D,"number",m)}function rt(m,D,f){throw Math.floor(m)!==m?(Xe(m,f),new De.ERR_OUT_OF_RANGE(f||"offset","an integer",m)):D<0?new De.ERR_BUFFER_OUT_OF_BOUNDS:new De.ERR_OUT_OF_RANGE(f||"offset",`>= ${f?1:0} and <= ${D}`,m)}const At=/[^+/0-9A-Za-z-_]/g;function ft(m){if(m=m.split("=")[0],m=m.trim().replace(At,""),m.length<2)return"";for(;m.length%4!==0;)m=m+"=";return m}function dt(m,D){D=D||1/0;let f;const b=m.length;let $=null;const w=[];for(let M=0;M<b;++M){if(f=m.charCodeAt(M),f>55295&&f<57344){if(!$){if(f>56319){(D-=3)>-1&&w.push(239,191,189);continue}else if(M+1===b){(D-=3)>-1&&w.push(239,191,189);continue}$=f;continue}if(f<56320){(D-=3)>-1&&w.push(239,191,189),$=f;continue}f=($-55296<<10|f-56320)+65536}else $&&(D-=3)>-1&&w.push(239,191,189);if($=null,f<128){if((D-=1)<0)break;w.push(f)}else if(f<2048){if((D-=2)<0)break;w.push(f>>6|192,f&63|128)}else if(f<65536){if((D-=3)<0)break;w.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((D-=4)<0)break;w.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return w}function wt(m){const D=[];for(let f=0;f<m.length;++f)D.push(m.charCodeAt(f)&255);return D}function nt(m,D){let f,b,$;const w=[];for(let M=0;M<m.length&&!((D-=2)<0);++M)f=m.charCodeAt(M),b=f>>8,$=f%256,w.push($),w.push(b);return w}function tt(m){return e.toByteArray(ft(m))}function kt(m,D,f,b){let $;for($=0;$<b&&!($+f>=D.length||$>=m.length);++$)D[$+f]=m[$];return $}function ie(m,D){return m instanceof D||m!=null&&m.constructor!=null&&m.constructor.name!=null&&m.constructor.name===D.name}function Ft(m){return m!==m}const x=function(){const m="0123456789abcdef",D=new Array(256);for(let f=0;f<16;++f){const b=f*16;for(let $=0;$<16;++$)D[b+$]=m[f]+m[$]}return D}();function Z(m){return typeof BigInt>"u"?ne:m}function ne(){throw new Error("BigInt not supported")}})(ya);const Gt={},cC=t=>{let e=typeof t;return e==="number"||e==="string"||e==="boolean"||e==="undefined"||e==="bigint"||e==="symbol"||t===null},Hn=t=>{if(cC(t)||!(t instanceof Object))return"primitive";const e=t.constructor&&t.constructor.name&&t.constructor.name.toLowerCase();if(typeof e=="string"&&e.length&&Gt[e])return e;let u;for(const r in Gt)if(u=Gt[r].type,!u||t instanceof u)return r;return"unknown"},Jk=(t,e,u)=>Array.prototype.push.call(t,u),Zk=t=>{const e=[];return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),e},Kk=t=>{const e=[...t];return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),e},Qk=(t,e,u)=>{const r=t.length;for(let n=0;n<r;n++){const a=t[n],o={key:n,value:a,type:Hn(a)};u(o)}},Yk=()=>{Object.assign(Gt,{array:{type:Array,mayDeepCopy:!0,addElement:Jk,makeEmpty:Zk,makeShallow:Kk,iterate:Qk}})},Xk=()=>{Object.assign(Gt,{date:{type:Date,makeShallow:t=>new Date(t.getTime())}})},eq=()=>{Object.assign(Gt,{regexp:{type:RegExp,makeShallow:t=>new RegExp(t)}})},tq=()=>{Object.assign(Gt,{function:{type:Function,makeShallow:t=>t}})},uq=()=>{Object.assign(Gt,{error:{type:Error,makeShallow:t=>{const e=new Error(t.message);return e.stack=t.stack,e}}})},rq=t=>{let e=typeof Zr<"u"&&Zr[t]||typeof window<"u"&&window[t]||typeof WorkerGlobalScope<"u"&&WorkerGlobalScope[t];typeof e<"u"&&(Gt[t.toLowerCase()]={type:e,makeShallow:u=>e.from(u)})},nq=()=>{["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"].forEach(e=>rq(e))},aq=()=>{typeof ArrayBuffer<"u"&&Object.assign(Gt,{arraybuffer:{type:ArrayBuffer,makeShallow:t=>t.slice(0)}})},oq=()=>{typeof Map>"u"||Object.assign(Gt,{map:{type:Map,mayDeepCopy:!0,addElement:(t,e,u)=>t.set(e,u),makeEmpty:()=>new Map,makeShallow:t=>new Map(t),iterate:(t,e,u)=>{t.forEach((r,n)=>{const a={key:n,value:r,type:Hn(r)};u(a)})}}})},sq=()=>{typeof Set>"u"||Object.assign(Gt,{set:{type:Set,mayDeepCopy:!0,addElement:(t,e,u)=>t.add(u),makeEmpty:()=>new Set,makeShallow:t=>new Set(t),iterate:(t,e,u)=>{t.forEach(r=>{const n={key:null,value:r,type:Hn(r)};u(n)})}}})},iq=()=>{typeof WeakSet>"u"||Object.assign(Gt,{weakset:{type:WeakSet,makeShallow:t=>t}})},cq=()=>{typeof WeakMap>"u"||Object.assign(Gt,{weakmap:{type:WeakMap,makeShallow:t=>t}})},lq=()=>{typeof ya.Buffer>"u"||Object.assign(Gt,{buffer:{type:ya.Buffer,makeShallow:t=>ya.Buffer.from(t)}})},Dq=(t,e,u,r=void 0)=>{r?Object.defineProperty(t,e,r):t[e]=u},fq=t=>{const e={};return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),e},dq=t=>{const e=Object.assign({},t);return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),e},pq=(t,e,u)=>{const r=e?Object.getOwnPropertyNames(t):Object.keys(t),n=r.length;for(let a=0;a<n;a++){const o=r[a],s=t[o],i={key:o,value:s,type:Hn(s)};e&&!t.propertyIsEnumerable(o)&&(i.descriptor=Object.getOwnPropertyDescriptor(t,o)),u(i)}},hq=()=>{Object.assign(Gt,{object:{type:Object,mayDeepCopy:!0,addElement:Dq,makeEmpty:fq,makeShallow:dq,iterate:pq}})},Fq=()=>{Object.assign(Gt,{unknown:{makeShallow:t=>t},primitive:{makeShallow:t=>t}})};Yk();Xk();eq();tq();uq();nq();aq();oq();sq();iq();cq();lq();hq();Fq();function mq(t){return Gt[t]}var Eq=[cC,Hn,mq];const[Cq,Aq,u0]=Eq,r0={goDeep:!0,includeNonEnumerable:!1,detectCircular:!0,maxDepth:20};function vq(t){Object.keys(r0).forEach(e=>{t[e]===void 0&&(t[e]=r0[e])})}class yq{constructor(){this._seenMap=new WeakMap}setAsCopied(e,u){e instanceof Object&&this._seenMap.set(e,u)}wasCopied(e){return e instanceof Object&&this._seenMap.has(e)}getCopy(e){return this._seenMap.get(e)}}function gq(t,e,u){const{options:r,watcher:n}=u;let a;return e.mayDeepCopy?(a=e.makeEmpty(t),r.detectCircular&&n.setAsCopied(t,a)):a=e.makeShallow(t),a}function bq(t,e){if(t>=e)throw`Error max depth of ${e} levels exceeded, possible circular reference`}const lC=(t,e,u)=>{const{destObject:r,srcType:n,watcher:a,options:o}=e,s=o.detectCircular;bq(++u,o.maxDepth);const i=u0(n);if(!i.mayDeepCopy)return;const l=i.addElement;i.iterate(t,o.includeNonEnumerable,c=>{const d=c.value,p=c.type,h=u0(p);let F,g=!1;s&&a.wasCopied(d)?(F=a.getCopy(d),g=!0):F=gq(d,h,{options:o,watcher:a}),l(r,c.key,F,c.descriptor),h.mayDeepCopy&&!g&&lC(d,{destObject:F,srcType:p,watcher:a,options:o},u)})};function Bq(t,e=r0){if(vq(e),Cq(t))return t;const u=Aq(t),r=u0(u);if(!e.goDeep||!r.mayDeepCopy)return r.makeShallow(t);const n=e.detectCircular?new yq:null;let a=r.makeEmpty(t);return e.detectCircular&&n.setAsCopied(t,a),lC(t,{destObject:a,srcType:u,watcher:n,options:e},0),a}var _q=Bq,wq=Sq(_q);function Sq(t){return t&&t.__esModule?t:{default:t}}var Ra=t=>{var e=[];for(var u of t)typeof u=="string"?e.length>0&&typeof e[e.length-1]=="string"?e[e.length-1]+=u:e.push(u):(u.content&&(u.content=Ra(u.content)),u.metaContent&&(u.metaContent=Ra(u.content)),e.push(u));return e},$q=t=>{var e=(0,wq.default)(t);for(var u of Object.values(e.sequences))for(var r of u.blocks)r.content&&(r.content=Ra(r.content)),r.metaContent&&(r.metaContent=Ra(r.metaContent));return e},DC=function(e){var{perf:u}=e;return{perf:$q(u)}},kq={name:"mergePerfText",type:"Transform",description:"PERF=>PERF: Merge consecutive text strings",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:DC},qq={mergePerfText:kq,mergePerfTextCode:DC},{identity:Tq}=Dk,{justTheBible:Pq}=Ek,{stripUwAlignment:Iq}=Bk,{mergeUwAlignment:Oq}=Tk,{addUwAlignmentOccurrences:Rq}=Nk,{mergePerfText:xq,mergePerfTextCode:jq}=qq,Nq={identity:Tq,justTheBible:Pq,mergePerfText:xq,stripUwAlignment:Iq,mergeUwAlignment:Oq,addUwAlignmentOccurrences:Rq,mergePerfTextCode:jq},Mq=sk,Lq=Nq,Uq={transforms:Lq,renderActions:Mq};function dF(t,e){var u=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),u.push.apply(u,r)}return u}function pF(t){for(var e=1;e<arguments.length;e++){var u=arguments[e]!=null?arguments[e]:{};e%2?dF(Object(u),!0).forEach(function(r){Vq(t,r,u[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(u)):dF(Object(u)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(u,r))})}return t}function Vq(t,e,u){return e=Wq(e),e in t?Object.defineProperty(t,e,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[e]=u,t}function Wq(t){var e=zq(t,"string");return typeof e=="symbol"?e:String(e)}function zq(t,e){if(typeof t!="object"||t===null)return t;var u=t[Symbol.toPrimitive];if(u!==void 0){var r=u.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gq={showWordAtts:!1,showTitles:!0,showHeadings:!0,showFootnotes:!0,showXrefs:!0,showChapterLabels:!0,showVersesLabels:!0,showCharacterMarkup:!0,showParaStyles:!0,selectedBcvNotes:[]},Hq={startDocument:[{description:"Set up",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r,output:n}=t;if(e.displayPartOfText!=null&&!["begin","continue"].includes(e.displayPartOfText.state))throw new Error("state must be typeof string and one of begin or continue");r.settings=pF(pF({},Gq),e),r.webParas=[],r.currentIndex=0,n.sofria={},n.sofria.sequence={},r.currentSequence=n.sofria.sequence,r.paraContentStack=[],r.footnoteNo=1,r.bookCode=u.document.metadata.document.bookCode,r.chapter=0}}],startSequence:[{description:"startSequence",test:()=>!0,action:t=>{var{context:e,workspace:u}=t;u.currentIndex+=1,u.currentSequence.type=e.sequences[0].type,u.currentSequence.blocks=[]}}],endSequence:[{description:"endSequence",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r}=t;r.currentSequence.type==="footnote"&&r.footnoteNo++,r.currentSequence={}}}],startTable:[{description:"Initialise table",test:()=>!0,action:t=>{var{context:e,workspace:u}=t;u.currentIndex+=1,u.paraContentStack=[{subType:"table",content:[]}]}}],endTable:[{description:"Add completed table to webParas",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r}=t;r.webParas.push(e.renderers.table(r.paraContentStack[0].content))}}],startRow:[{description:"Initialise content stack",test:()=>!0,action:t=>{var{context:e,workspace:u}=t,r=e.sequences[0].block;u.currentIndex+=1,u.paraContentStack.unshift({subType:r.subType,content:[]})}}],endRow:[{description:"Add completed table to webParas",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r}=t,n=r.paraContentStack.shift();r.paraContentStack[0].content.push(e.renderers.row(n.content,r.currentIndex))}}],blockGraft:[{description:"Process block grafts",test:()=>!0,action:t=>{var e=t.context.sequences[0].block;if(e.subType!=="remark"&&!(["title","endTitle"].includes(e.subType)&&!t.workspace.settings.showTitles)&&!(["heading"].includes(e.subType)&&!t.workspace.settings.showHeadings)&&!(["introduction"].includes(e.subType)&&!t.workspace.settings.showIntroductions)){var u={type:e.type};if(e.sequence){u.sequence={};var r=t.workspace.currentSequence;t.workspace.currentSequence=u.sequence;var n=t.workspace.paraContentStack;t.context.renderer.renderSequence(t),t.workspace.paraContentStack=n,t.workspace.currentSequence=r}t.workspace.currentSequence.blocks.push(u)}}}],inlineGraft:[{description:"inlineGraft",test:t=>{var{context:e,workspace:u}=t;return e.sequences[0].element.subType!=="note_caller"&&!(["footnote"].includes(e.sequences[0].element.subType)&&!u.settings.showFootnotes)&&!(["xref"].includes(e.sequences[0].element.subType)&&!u.settings.showXrefs)},action:t=>{var e=t.context.sequences[0].element,u={type:e.type};if(e.sequence){u.sequence={};var r=t.workspace.currentSequence,n=[...t.workspace.paraContentStack],a=t.workspace.webParas;t.workspace.webParas=[],t.workspace.currentSequence=u.sequence,t.context.renderer.renderSequence(t);var o=t.workspace.webParas;t.workspace.webParas=a,t.workspace.paraContentStack=n,t.workspace.paraContentStack[0].content.push(o),t.workspace.currentSequence=r}}}],startParagraph:[{description:"Initialise content stack",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r}=t;r.currentIndex+=1;var n=u.sequences[0].block;r.paraContentStack=[{subType:n.subType,content:[]}]}}],endParagraph:[{description:"Add completed para to webParas",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r}=t;r.webParas.push(e.renderers.paragraph(r.settings.showParaStyles||["footnote","xref"].includes(u.sequences[0].type)?r.paraContentStack[0].subType:"usfm:m",r.paraContentStack[0].content,r.footnoteNo,r.currentIndex))}}],startWrapper:[{description:"Skip usfm:w outside main sequence",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:w"&&e.sequences[0].type!=="main"},action:()=>{}},{description:"Handle standard w attributes",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:w"},action:t=>{var{context:e,workspace:u}=t;u.currentIndex+=1;var r=e.sequences[0].element.atts,n={};for(var[a,o]of Object.entries(r))["strong","lemma","gloss"].includes(a)&&(n[a]=o);return u.paraContentStack.unshift({atts:n,content:[]}),!1}},{description:"Push to paraContent Stack",test:t=>{var{context:e,workspace:u}=t;return!["chapter","verses"].includes(e.sequences[0].element.subType)&&u.settings.showCharacterMarkup},action:t=>{var{context:e,workspace:u}=t,r={subType:e.sequences[0].element.subType,content:[]};e.sequences[0].element.subType==="cell"&&(r.atts=e.sequences[0].element.atts),u.currentIndex+=1,u.paraContentStack.unshift(r)}}],endWrapper:[{description:"Skip usfm:w outside main sequence",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:w"&&e.sequences[0].type!=="main"},action:()=>{}},{description:"Handle standard w attributes",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:w"},action:t=>{var{config:e,workspace:u}=t,r=u.paraContentStack.shift();return u.paraContentStack[0].content.push(e.renderers.wWrapper(u.settings.showWordAtts?r.atts:{},r.content,u.currentIndex)),!1}},{description:"Collapse one level of paraContent Stack",test:t=>{var{context:e,workspace:u}=t;return!["chapter","verses"].includes(e.sequences[0].element.subType)&&u.settings.showCharacterMarkup},action:t=>{var{config:e,workspace:u}=t,r=u.paraContentStack.shift();u.paraContentStack[0].content.push(e.renderers.wrapper(r.subType==="cell"?r.atts:{},r.subType,r.content,u.currentIndex))}}],startMilestone:[{description:"Handle zaln word-like atts",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:zaln"},action:t=>{var{context:e,workspace:u}=t,r=e.sequences[0].element.atts,n={};for(var[a,o]of Object.entries(r))["x-strong","x-lemma","x-morph","x-content"].includes(a)&&(n[a.split("-")[1]]=o);return u.currentIndex+=1,u.paraContentStack.unshift({atts:n,content:[]}),!1}}],endMilestone:[{description:"Handle zaln word-like atts",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:zaln"},action:t=>{var{config:e,workspace:u}=t,r=u.paraContentStack.shift();return u.paraContentStack[0].content.push(e.renderers.wWrapper(u.settings.showWordAtts?r.atts:{},r.content.join(""))),!1}}],text:[{description:"Push text to para",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r}=t,n=u.sequences[0].element;n.text.split(" ").map((a,o)=>{r.currentIndex+=1;var s=e.renderers.text(o===n.text.split(" ").length-1?a:a+" ",r.currentIndex);r.paraContentStack[0].content.push(s)})}}],mark:[{description:"Show chapter/verse markers",test:()=>!0,action:t=>{var{config:e,context:u,workspace:r}=t;r.currentIndex+=1;var n=u.sequences[0].element;if(n.subType==="chapter_label"&&r.settings.showChapterLabels)r.chapter=n.atts.number,r.paraContentStack[0].content.push(e.renderers.chapter_label(n.atts.number,r.currentIndex));else if(n.subType==="verses_label"&&r.settings.showVersesLabels){var a=[];e.selectedBcvNotes.length>0&&(a=[r.bookCode,r.chapter,n.atts.number]),r.paraContentStack[0].content.push(e.renderers.verses_label(n.atts.number,a,e.bcvNotesCallback,r.currentIndex))}}}],endDocument:[{description:"Build JSX",test:()=>!0,action:t=>{var{config:e,workspace:u,output:r}=t;r.paras=e.renderers.mergeParas(u.webParas)}}]},Jq={sofria2WebActions:Hq},{sofria2WebActions:Zq}=Jq,Kq={sofria2WebActions:Zq},Qq={paras:{default:{fontSize:"medium",marginTop:"0.5ex",marginBottom:"0.5ex"},"usfm:b":{height:"1em"},"usfm:d":{fontStyle:"italic"},"usfm:f":{fontSize:"small"},"usfm:hangingGraft":{},"usfm:imt":{fontWeight:"bold",fontStyle:"italic",fontSize:"xx-large",textAlign:"center"},"usfm:imt2":{fontWeight:"bold",fontStyle:"italic",fontSize:"x-large",textAlign:"center"},"usfm:imt3":{fontWeight:"bold",fontStyle:"italic",fontSize:"large",textAlign:"center"},"usfm:ip":{textIndent:"1.5em"},"usfm:ipi":{paddingLeft:"1.5em",textIndent:"1.5em"},"usfm:io":{paddingLeft:"1.5em"},"usfm:iot":{fontWeight:"bold",fontSize:"large"},"usfm:is":{fontStyle:"italic",fontSize:"xx-large"},"usfm:is2":{fontStyle:"italic",fontSize:"x-large"},"usfm:is3":{fontStyle:"italic",fontSize:"large"},"usfm:li":{listStyleType:"disc",paddingLeft:"3em",textIndent:"-1.5em"},"usfm:li2":{listStyleType:"disc",paddingLeft:"4.5em",textIndent:"-1.5em"},"usfm:li3":{listStyleType:"disc",paddingLeft:"6em",textIndent:"-1.5em"},"usfm:m":{},"usfm:mi":{paddingLeft:"1.5em"},"usfm:mr":{fontSize:"large",fontStyle:"italic"},"usfm:ms":{fontSize:"large",fontWeight:"bold"},"usfm:ms2":{fontWeight:"bold"},"usfm:mt":{fontWeight:"bold",fontStyle:"italic",fontSize:"xx-large",textAlign:"center"},"usfm:mt2":{fontWeight:"bold",fontStyle:"italic",fontSize:"x-large",textAlign:"center"},"usfm:mt3":{fontWeight:"bold",fontStyle:"italic",fontSize:"large",textAlign:"center"},"usfm:nb":{},"usfm:p":{textIndent:"1.5em"},"usfm:pc":{textAlign:"center"},"usfm:pi":{paddingLeft:"1.5em",textIndent:"1.5em"},"usfm:pi2":{paddingLeft:"3em",textIndent:"1.5em"},"usfm:pi3":{paddingLeft:"4.5em",textIndent:"1.5em"},"usfm:q":{paddingLeft:"1.5em",marginTop:"0.5ex",marginBottom:"0.5ex"},"usfm:q2":{paddingLeft:"3em",marginTop:"0.5ex",marginBottom:"0.5ex"},"usfm:q3":{paddingLeft:"4.5em",marginTop:"0.5ex",marginBottom:"0.5ex"},"usfm:q4":{paddingLeft:"6em",marginTop:"0.5ex",marginBottom:"0.5ex"},"usfm:qa":{fontWeight:"bold",fontSize:"x-large"},"usfm:qr":{textAlign:"right"},"usfm:r":{fontWeight:"bold"},"usfm:s":{fontStyle:"italic",fontSize:"xx-large"},"usfm:s2":{fontStyle:"italic",fontSize:"x-large"},"usfm:s3":{fontStyle:"italic",fontSize:"large"},"usfm:sr":{fontSize:"large"},"usfm:tr":{},"usfm:x":{fontSize:"small"}},marks:{default:{},chapter_label:{float:"left",fontSize:"xx-large",marginRight:"0.5em"},verses_label:{fontWeight:"bold",fontSize:"small",verticalAlign:"super",marginRight:"0.5em"}},wrappers:{default:{},"usfm:add":{fontStyle:"italic"},"usfm:bd":{fontWeight:"bold"},"usfm:bdit":{fontWeight:"bold",fontStyle:"italic"},"usfm:bk":{fontWeight:"bold"},chapter:{},"usfm:fl":{},"usfm:fm":{},"usfm:fq":{fontStyle:"italic"},"usfm:fqa":{fontStyle:"italic"},"usfm:fr":{fontWeight:"bold"},"usfm:ft":{},"usfm:it":{fontStyle:"italic"},"usfm:nd":{fontWeight:"bold",fontSize:"smaller",textTransform:"uppercase"},"usfm:qs":{float:"right",fontStyle:"italic"},"usfm:sc":{fontSize:"smaller",textTransform:"uppercase"},"usfm:tl":{fontStyle:"italic"},verses:{},"usfm:wj":{color:"#D00"},"usfm:xk":{},"usfm:xo":{fontWeight:"bold"},"usfm:xt":{}}},Yq=t=>{var e=[];for(var u in t){e.push("/* ".concat(u,` CSS format : */
`));for(var r in t[u]){if(r.includes(":")){var n=r.replace(":","_");e.push("  .".concat(u,"_").concat(n.replace(/([A-Z])/g,"_$1").toLowerCase(),` {
`))}else e.push("  .".concat(u,"_").concat(r.replace(/([A-Z])/g,"_$1").toLowerCase(),` {
`));var a=t[u][r];for(var o in a)for(var s in o)if(o[s]===o[s].toUpperCase()){var i=o.replace(/([A-Z])/g,"-$1").toLowerCase();e.push("      ".concat(i,": ").concat(a[o],`;
`))}e.push(`  }
`)}}return e.join("")};function Xq(t){var e=t,u=Object.keys(e);return u.map(r=>{var n=Object.keys(e[r]);n.map(a=>{var o=Object.keys(e[r][a]);o.map(s=>{if(s==="float"&&e[r][a][s]==="left"&&(e[r][a].textAlign="left",delete e[r][a][s]),s==="verticalAlign"&&e[r][a][s]==="super"&&(e[r][a][s]="top"),s==="textIndent"){if(e[r][a][s].includes("em")){var i=e[r][a][s];i.replace("em",""),e[r][a].marginLeft=parseFloat(i)*16,delete e[r][a][s]}delete e[r][a][s]}if(e[r][a][s]==="medium"&&(e[r][a][s]=16),e[r][a][s]==="x-small"&&(e[r][a][s]=10),e[r][a][s]==="xx-small"&&(e[r][a][s]=9),e[r][a][s]==="small"&&(e[r][a][s]=13.333),e[r][a][s]==="large"&&(e[r][a][s]=18),e[r][a][s]==="x-large"&&(e[r][a][s]=24),e[r][a][s]==="xx-large"&&(e[r][a][s]=32),typeof e[r][a][s]=="string"){if(e[r][a][s].includes("em")){var l=e[r][a][s];l.replace("em",""),e[r][a][s]=parseFloat(l)*16;return}if(e[r][a][s].includes("ex")){var c=e[r][a][s];c.replace("ex",""),e[r][a][s]=parseFloat(c);return}}})})}),e}var eT={styles:Qq,styleAsCSS:Yq,convertCssToReactNativeStyle:Xq},tT={text:t=>t.replace(/{/g,"<i>").replace(/}/g,"</i>"),chapter_label:t=>'<span class="marks_chapter_label">'.concat(t,"</span>"),verses_label:t=>'<span class="marks_verses_label">'.concat(t,"</span>"),paragraph:(t,e,u)=>{var r=t.split(":")[1],n=["f","x"].includes(r)?"span":"p";return"<".concat(n,' class="',"paras_usfm_".concat(r),'">').concat(e.join(""),"</").concat(n,">")},wrapper:(t,e,u)=>e==="cell"?t.role==="body"?"<td colspan=".concat(t.nCols,' style="text-align:').concat(t.alignment,'">').concat(u.join(""),"</td>"):"<th colspan=".concat(t.nCols,' style="text-align:').concat(t.alignment,'">').concat(u.join(""),"</th>"):'<span class="'.concat("paras_usfm_".concat(e.split(":")[1]),'">',u.join(""),"</span>"),wWrapper:(t,e)=>Object.keys(t).length===0?e:`<span
            style={{
                display: "inline-block",
                verticalAlign: "top",
                textAlign: "center"
            }}
        >
        <div>`.concat(e,"</div>").concat(Object.entries(t).map(u=>`<div
                            style={{
                                fontSize: "xx-small",
                                fontWeight: "bold"
                            }}
                        >
                        {`.concat(u[0]," = ").concat(u[1],`} 
                        </div>`)).join(""),"</span>"),mergeParas:t=>t.join(`
`),row:t=>"<tr>".concat(t.join(""),"</tr>"),table:t=>"<table border>".concat(t.join(" "),"</table>")},uT={renderers:tT},rT=Kq,nT=eT,aT=uT,oT={renderStyles:nT,renderActions:rT,sofria2html:aT},sT=RS,iT=zS,cT=s$,lT=K$,DT=Uq,fT=oT,fC={xToPerf:iT,perfToX:lT,sofriaToSofria:cT,alignment:sT,perfToPerf:DT,sofria2web:fT};const dT=[{id:0,type:"Inputs",inputs:{usfm:"text",selectors:"json"}},{id:2,title:"USFM to PERF",name:"usfmToPerf",type:"Transform",inputs:[{name:"usfm",type:"text",source:"Input usfm"},{name:"selectors",type:"json",source:"Input selectors"}],outputs:[{name:"perf",type:"json"}],description:"USFM=>PERF: Conversion via Proskomma"},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 2 perf"}]}],pT=[{id:0,type:"Inputs",inputs:{perf:"json",strippedAlignment:"json"}},{id:1,title:"Count stripped perf words",name:"verseWords",transformName:"verseWords",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"verseWords",type:"json"}],description:"PERF=>JSON: Counts words occurrences"},{id:2,title:"Merge Back Into Stripped (roundtrip)",name:"mergeAlignment",transformName:"mergeAlignment",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"},{name:"strippedAlignment",type:"json",source:"Input strippedAlignment"},{name:"verseWords",type:"json",source:"Transform 1 verseWords"}],outputs:[{name:"perf",type:"json"},{name:"unalignedWords",type:"json"}],description:"PERF=>PERF adds report to verses"},{id:3,title:"Merge Merged PERF Text",name:"mergePerfText",transformName:"mergePerfText",type:"Transform",inputs:[{name:"perf",type:"json",source:"Transform 2 perf"}],outputs:[{name:"perf",type:"json"}],description:"PERF=>PERF: Merge consecutive text strings"},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 3 perf"},{name:"unalignedWords",type:"json",source:"Transform 2 unalignedWords"}]}],hT=[{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"Count stripped perf words",name:"verseWords",type:"Transform",transformName:"verseWords",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"verseWords",type:"json"}],description:"PERF=>JSON: Counts words occurrences"},{id:2,title:"Strip Alignment",name:"stripAlignment",type:"Transform",transformName:"stripAlignment",inputs:[{name:"perf",type:"json",source:"Input perf"},{name:"verseWords",type:"json",source:"Transform 1 verseWords"}],outputs:[{name:"perf",type:"json"},{name:"strippedAlignment",type:"json"},{name:"unalignedWords",type:"json"}],description:"PERF=>PERF: Strips alignment markup"},{id:3,title:"Merge stripped perf",name:"mergePerfText",type:"Transform",transformName:"mergePerfText",inputs:[{name:"perf",type:"json",source:"Transform 2 perf"}],outputs:[{name:"perf",type:"json"}],description:"PERF=>PERF: Merge consecutive text strings"},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 3 perf"},{name:"strippedAlignment",type:"json",source:"Transform 2 strippedAlignment"},{name:"unalignedWords",type:"json",source:"Transform 2 unalignedWords"}]}],FT=[{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"Strip uW alignment",name:"stripUwAlignment",transformName:"stripUwAlignment",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"perf",type:"json"}]},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 1 perf"}]}],mT=[{id:0,type:"Inputs",inputs:{perf:"json",usfmJs:"json"}},{id:1,title:"Strip uW alignment",name:"stripUwAlignment",transformName:"stripUwAlignment",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"perf",type:"json"}]},{id:2,title:"Merge uW alignment",name:"mergeUwAlignment",transformName:"mergeUwAlignment",type:"Transform",inputs:[{name:"perf",type:"json",source:"Transform 1 perf"},{name:"usfmJs",type:"json",source:"Input usfmJs"}],outputs:[{name:"perf",type:"json"},{name:"occurrences",type:"json"}]},{id:3,title:"Add occurrences",name:"addUwAlignmentOccurrences",transformName:"addUwAlignmentOccurrences",type:"Transform",inputs:[{name:"perf",type:"json",source:"Transform 2 perf"},{name:"occurrences",type:"json",source:"Transform 2 occurrences"}],outputs:[{name:"perf",type:"json"}]},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 3 perf"},{name:"occurrences",type:"json",source:"Transform 2 perf"}]}],ET=[{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"Generate report",name:"calculateUsfmChapterPositions",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"report",type:"json"}],description:"Generate report from perf to calculate the position of the chapters"},{id:2,title:"PERF to USFM",name:"perfToUsfm",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"},{name:"report",type:"json",source:"Transform 1 report"}],outputs:[{name:"usfm",type:"text"}],description:"PERF=>USFM: Conversion via Proskomma"},{id:999,type:"Outputs",outputs:[{name:"usfm",type:"text",source:"Transform 2 usfm"}]}],CT=[{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"PERF to USFMJS",name:"perfToUsfmJs",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"usfmJs",type:"json"}],description:"USFM=>PERF: Conversion via Proskomma"},{id:999,type:"Outputs",outputs:[{name:"usfmJs",type:"json",source:"Transform 1 usfmJs"}]}],AT=[{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"Simplify Input PERF",name:"justTheBible",transformName:"justTheBible",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"perf",type:"json"}]},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 1 perf"}]}];var vT=lr(dT),yT=lr(pT),gT=lr(hT),bT=lr(FT),BT=lr(mT),_T=lr(ET),wT=lr(CT),ST=lr(AT);function lr(t){return t&&t.__esModule?t:{default:t}}var dC={usfmToPerfPipeline:vT.default,mergeAlignmentPipeline:yT.default,stripAlignmentPipeline:gT.default,stripUwAlignmentPipeline:bT.default,mergeUwAlignmentPipeline:BT.default,perfToUsfmPipeline:_T.default,perfToUsfmJsPipeline:wT.default,justTheBiblePipeline:ST.default};function hF(t,e){var u=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),u.push.apply(u,r)}return u}function FF(t){for(var e=1;e<arguments.length;e++){var u=arguments[e]!=null?arguments[e]:{};e%2?hF(Object(u),!0).forEach(function(r){$T(t,r,u[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(u)):hF(Object(u)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(u,r))})}return t}function $T(t,e,u){return e=kT(e),e in t?Object.defineProperty(t,e,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[e]=u,t}function kT(t){var e=qT(t,"string");return typeof e=="symbol"?e:String(e)}function qT(t,e){if(typeof t!="object"||t===null)return t;var u=t[Symbol.toPrimitive];if(u!==void 0){var r=u.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TT=fC,PT=dC;let IT=class{constructor(e){var{pipelines:u=null,transforms:r=null,proskomma:n=null,verbose:a=!1}=e;if(n!==null){this.proskomma=n;var o="{ id }",s=n.gqlQuerySync(o)||{};if(!s||!s.data.id)throw new Error("Provided Proskomma instance does not have any ID")}if(this.pipelines=PT,this.namespaces=TT,this.transforms={},u!=null)for(var i of Object.keys(u))this.pipelines[i]=u[i];if(r!=null)for(var l of Object.keys(r))this.transforms[l]=r[l];this.verbose=a}getProskomma(){return this.proskomma}setProskomma(e){this.proskomma=e}listPipelinesNames(){return Object.keys(this.pipelines).join(`
`)}listTransformsNames(){return Object.keys(this.transforms).join(`
`)}listNamespacesNames(){return Object.keys(this.namespaces).join(`
`)}getPipeline(e,u){if(!this.pipelines[e])throw new Error("Unknown pipeline name '".concat(e,"'"));var r=this.pipelines[e],n=r[0].inputs;if(Object.keys(n).length!==Object.keys(u).length)throw new Error("".concat(Object.keys(n).length," input(s) expected by ").concat(e," but ").concat(Object.keys(u).length," provided (").concat(Object.keys(u).join(", "),")"));for(var[a,o]of Object.entries(n)){if(!u[a])throw new Error("Input ".concat(a," not provided as input to ").concat(e));if(typeof u[a]=="string"!=(o==="text"))throw new Error("Input ".concat(a," must be ").concat(o," but ").concat(typeof u[a]=="string"?"text":"json"," was provided"))}return r}runPipeline(e,u){var r=this.getPipeline(e,u);return this.loadTransforms(r,"perf"),this.evaluateSteps({specSteps:r,inputValues:u})}loadTransforms(e){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"perf",r=e.filter(g=>g.type==="Transform");if(r.length===0)throw new Error("No Transform steps found in report steps");var n=Object.keys(r).map(g=>r[g].name);if(u==="sofria"){var a=null;for(var[o,s]of Object.entries(this.namespaces))if(o==="sofriaToSofria"){s.transforms?a=Object.entries(s.transforms):a=Object.entries(s);for(var[i,l]of a)n.includes(i)&&(this.transforms[i]=l)}}else{var c=null;for(var[d,p]of Object.entries(this.namespaces))if(d!=="sofriaToSofria"){p.transforms?c=Object.entries(p.transforms):c=Object.entries(p);for(var[h,F]of c)n.includes(h)&&(this.transforms[h]=F)}}}evaluateSteps(e){var{specSteps:u,inputValues:r}=e;this.verbose&&console.log("** Evaluate **");var n=u.filter(J=>J.type==="Inputs")[0];if(!n)throw new Error("No Inputs step found in report steps");var a=u.filter(J=>J.type==="Outputs")[0];if(!a)throw new Error("No Outputs step found in report steps");var o=u.filter(J=>J.type==="Transform");if(o.length===0)throw new Error("No Transform steps found in report steps");var s={},i={};for(var l of Object.values(o)){s[l.id]={};for(var c of l.inputs)s[l.id][c.name]=null;i[l.id]={};for(var d of l.outputs)i[l.id][d]=null}for(var[p,h]of Object.entries(r))for(var F of o)for(var g of F.inputs)g.source==="Input ".concat(p)&&(this.verbose&&console.log("Copying Input ".concat(p," to Transform ").concat(F.id," ").concat(g.name," input")),s[F.id][g.name]=h);for(var A=new Set([]),C=!0;C;){C=!1;for(var E of o)if(Object.values(s[E.id]).filter(J=>!J).length===0&&Object.values(i[E.id]).filter(J=>!J).length>0){if(!this.transforms[E.name])throw new Error("Could not find transform called ".concat(E.name));if(A.has(E.id))throw new Error("Transform ".concat(E.id," called more than once"));A.add(E.id),this.verbose&&console.log("Evaluating Transform ".concat(E.id));try{if(i[E.id]=this.transforms[E.name].code(FF(FF({},s[E.id]),{},{proskomma:this.getProskomma()})),Object.values(i[E.id]).filter(J=>!J).length>0)throw new Error("Transform ".concat(E.id," returned at least one false/undefined value: ").concat(JSON.stringify(i[E.id])))}catch(J){var v="Error evaluating Transform ".concat(E.id," (name=").concat(E.name,", type=").concat(typeof E.code,"): ").concat(J);throw new Error(v)}for(var S of o)for(var q of S.inputs)for(var _ of Object.keys(i[E.id]))q.source==="Transform ".concat(E.id," ").concat(_)&&(this.verbose&&console.log("Copying Transform ".concat(E.id," ").concat(_," output to Transform ").concat(S.id," ").concat(q.name," input")),s[S.id][q.name]=i[E.id][_]);C=!0}}var T={};for(var R of a.outputs){var L=R.source.split(" ")[1];this.verbose&&console.log("Copying Transform ".concat(L," ").concat(R.name," to Output ").concat(R.name)),T[R.name]=i[L][R.name]}return this.verbose&&console.log("****"),T}};var OT=IT;function mF(t,e){var u=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),u.push.apply(u,r)}return u}function EF(t){for(var e=1;e<arguments.length;e++){var u=arguments[e]!=null?arguments[e]:{};e%2?mF(Object(u),!0).forEach(function(r){RT(t,r,u[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(u)):mF(Object(u)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(u,r))})}return t}function RT(t,e,u){return e=xT(e),e in t?Object.defineProperty(t,e,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[e]=u,t}function xT(t){var e=jT(t,"string");return typeof e=="symbol"?e:String(e)}function jT(t,e){if(typeof t!="object"||t===null)return t;var u=t[Symbol.toPrimitive];if(u!==void 0){var r=u.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NT=Gn,dr=t=>{var e=[];for(var u of t.split(""))u.toUpperCase()===u&&u.toLowerCase()!==u?e.push("_".concat(u.toLowerCase())):e.push(u);return e.join("")};let MT=class extends NT{constructor(e){if(super(e),!e.proskomma)throw new Error("No Proskomma");this.pk=e.proskomma,this._tokens=[],this._container=null}renderDocument1(e){var{docId:u,config:r,context:n,workspace:a,output:o}=e,s={config:r,context:n,workspace:a,output:o};n.renderer=this;var i=this.pk.gqlQuerySync('{document(id: "'.concat(u,'") {docSetId mainSequence { id } nSequences sequences {id} headers { key value } } }')),l=i.data.document.docSetId,c=i.data.document.mainSequence.id,d=i.data.document.nSequences;i.data.document.sequences.map(C=>C.id);var p={};for(var h of i.data.document.headers)p[h.key]=h.value;var F=this.pk.gqlQuerySync('{docSet(id: "'.concat(l,'") {selectors {key value}}}')),g={};for(var A of F.data.docSet.selectors)g[A.key]=A.value;n.document={id:u,schema:{structure:"flat",structure_version:"0.2.1",constraints:[{name:"perf",version:"0.2.1"}]},metadata:{translation:{id:l,selectors:g,properties:{},tags:[]},document:EF(EF({},p),{},{properties:{},tags:[]})},mainSequenceId:c,nSequences:d},n.sequences=[],this.renderEvent("startDocument",s),this.renderSequenceId(s,c),this.renderEvent("endDocument",s)}sequenceContext(e,u){return{id:u,type:dr(e.type),nBlocks:e.nBlocks,milestones:new Set([])}}renderSequenceId(e,u){var r=e.context,n=this.pk.gqlQuerySync('{document(id: "'.concat(r.document.id,'") {sequence(id:"').concat(u,'") {id type nBlocks } } }')),a=n.data.document.sequence;if(!a)throw new Error("Sequence '".concat(u,"' not found in renderSequenceId()"));r.sequences.unshift(this.sequenceContext(a,u)),this.renderEvent("startSequence",e);for(var o=0,s=0;s<a.nBlocks;s++){var i=this.pk.gqlQuerySync(`{
               document(id: "`.concat(r.document.id,`") {
                 sequence(id:"`).concat(u,`") {
                   blocks(positions:`).concat(s,`) {
                     bg {subType payload}
                     bs {payload}
                     items {type subType payload}
                   }
                 }
               }
             }`)),l=i.data.document.sequence.blocks[0];for(var c of l.bg)r.sequences[0].block={type:"graft",subType:dr(c.subType),blockN:o},r.sequences[0].block.target=c.payload,r.sequences[0].block.isNew=!1,this.renderEvent("blockGraft",e),o++;var d=l.bs.payload.split("/"),p=void 0;d[1]&&["tr","zrow"].includes(d[1])?p=d[1]==="tr"?"usfm:tr":"pk":d[1]?p="usfm:".concat(d[1]):p=d[0],r.sequences[0].block={type:["usfm:tr","pk"].includes(p)?"row":"paragraph",subType:p,blockN:o,wrappers:[]},p==="row"?this.renderEvent("startRow",e):this.renderEvent("startParagraph",e),this._tokens=[],this.renderContent(l.items,e),this._tokens=[],p==="row"?this.renderEvent("endRow",e):this.renderEvent("endParagraph",e),delete r.sequences[0].block,o++}this.renderEvent("endSequence",e),r.sequences.shift()}renderContent(e,u){for(var r of e)this.renderItem(r,u);this.maybeRenderText(u)}renderItem(e,u){if(e.type==="scope"&&e.payload.startsWith("attribute")){var r=e.payload.split("/");e.subType==="start"?(this._container||(this._container={direction:"start",subType:"usfm:w",type:"wrapper",atts:{}}),r[3]in this._container.atts?this._container.atts[r[3]].push(r[5]):this._container.atts[r[3]]=[r[5]]):this._container||(this._container={direction:"end",subType:"usfm:".concat(dr(r[2]))},r[1]==="milestone"?this._container.type="end_milestone":(this._container.type="wrapper",this._container.atts={}))}else if(this._container&&(this.maybeRenderText(u),this.renderContainer(u)),e.type==="token")this._tokens.push(e.payload.replace(/\s+/g," "));else if(e.type==="graft"){this.maybeRenderText(u);var n={type:"graft",subType:dr(e.subType),target:e.payload,isNew:!1};u.context.sequences[0].element=n,this.renderEvent("inlineGraft",u),delete u.context.sequences[0].element}else{this.maybeRenderText(u);var a=e.payload.split("/");if(["chapter","verses","pubChapter","pubVerse","altChapter","altVerse"].includes(a[0])){if(e.subType==="start"){var o={type:"mark",subType:dr(a[0]),atts:{number:a[1]}};u.context.sequences[0].element=o,this.renderEvent("mark",u),delete u.context.sequences[0].element}}else if(a[0]==="span"){var s={type:"wrapper",subType:"usfm:".concat(a[1]),atts:{}};u.context.sequences[0].element=s,e.subType==="start"?(u.context.sequences[0].block.wrappers.unshift(s.subType),this.renderEvent("startWrapper",u)):(this.renderEvent("endWrapper",u),u.context.sequences[0].block.wrappers.shift()),delete u.context.sequences[0].element}else if(a[0]==="spanWithAtts")e.subType==="start"&&(this._container={direction:"start",type:"wrapper",subType:"usfm:".concat(a[1]),atts:{}});else if(a[0]==="cell"){var i={direction:"start",type:"wrapper",subType:a[0],atts:{role:a[1],alignment:a[2],nCols:parseInt(a[3])}};u.context.sequences[0].element=i,e.subType==="start"?(u.context.sequences[0].block.wrappers.unshift(i.subType),this.renderEvent("startWrapper",u)):(this.renderEvent("endWrapper",u),u.context.sequences[0].block.wrappers.shift()),delete u.context.sequences[0].element}else if(a[0]==="milestone"&&e.subType==="start")if(a[1]==="ts"){var l={type:"mark",subType:"usfm:".concat(dr(a[1])),atts:{}};u.context.sequences[0].element=l,this.renderEvent("mark",u),delete u.context.sequences[0].element}else this._container={type:"start_milestone",subType:"usfm:".concat(dr(a[1])),atts:{}}}}maybeRenderText(e){if(this._tokens.length!==0){var u={type:"text",text:this._tokens.join("")};e.context.sequences[0].element=u,this._tokens=[],this.renderEvent("text",e),delete e.context.sequences[0].element}}renderContainer(e){if(this._container.type==="wrapper"){var u=this._container.direction;delete this._container.direction,u==="start"?(e.context.sequences[0].element=this._container,e.context.sequences[0].block.wrappers.unshift(this._container.subType),this.renderEvent("startWrapper",e),delete e.context.sequences[0].element):(e.context.sequences[0].element=this._container,this.renderEvent("endWrapper",e),e.context.sequences[0].block.wrappers.shift(),delete e.context.sequences[0].element)}else this._container.type==="start_milestone"?(e.context.sequences[0].element=this._container,this.renderEvent("startMilestone",e),delete e.context.sequences[0].element):this._container.type==="end_milestone"&&(e.context.sequences[0].element=this._container,this.renderEvent("endMilestone",e),delete e.context.sequences[0].element);this._container=null}};var LT=MT,UT=Gn;let VT=class extends UT{constructor(e){if(super(e),!e.srcJson)throw new Error("Must provide srcJson");this.srcJson=e.srcJson,this.cachedSequences=[]}renderDocument1(e){var{docId:u,config:r,context:n,workspace:a,output:o}=e,s={config:r,context:n,workspace:a,output:o};n.renderer=this,n.document={id:u,schema:this.srcJson.schema,metadata:this.srcJson.metadata},n.sequences=[],this.renderEvent("startDocument",s),this.renderSequence(s,this.srcJson.sequence),this.renderEvent("endDocument",s)}sequenceContext(e){return{type:e.type,nBlocks:e.blocks.length,milestones:new Set([])}}renderSequence(e,u){var r;if(u)r=u;else{if(this.cachedSequences.length===0)throw new Error("No sequence provided and no sequences cached");r=this.cachedSequences[0]}var n=e.context;n.sequences.unshift(r),this.renderEvent("startSequence",e);for(var[a,o]of r.blocks.entries())n.sequences[0].block={type:o.type,subType:o.subtype,blockN:a,wrappers:[]},o.type==="graft"?(n.sequences[0].block.sequence=this.sequenceContext(o.sequence),this.cachedSequences.unshift(o.sequence),this.renderEvent("blockGraft",e),this.cachedSequences.shift()):o.type==="row"?(e.workspace.inTable||(this.renderEvent("startTable",e),e.workspace.inTable=!0),this.renderEvent("startRow",e),this.renderContent(o.content,e),e.workspace.skipEndRow?e.workspace.skipEndRow=!1:this.renderEvent("endRow",e)):(e.workspace.inTable&&n.sequences[0].type.includes("main")&&(this.renderEvent("endTable",e),e.workspace.inTable=!1),this.renderEvent("startParagraph",e),this.renderContent(o.content,e),this.renderEvent("endParagraph",e)),delete n.sequences[0].block;e.workspace.inTable&&n.sequences[0].type.includes("main")&&(this.renderEvent("endTable",e),e.workspace.inTable=!1,e.workspace.tableHasContent=!1,e.workspace.skipEndRow=!1,e.workspace.changingChapter=!1),this.renderEvent("endSequence",e),this.cachedSequence=null,n.sequences.shift()}renderContent(e,u){for(var r of e)this.renderElement(r,u)}renderElement(e,u){var r=o=>{e.meta_content&&(o.metaContent=e.meta_content,this.renderEvent("metaContent",u))},n=u.context,a={type:e.type||"text"};if(e.subtype&&(a.subType=e.subtype),e.atts?a.atts=e.atts:a.type!=="end_milestone"&&a.type!=="meta_content"&&(a.atts={}),e.sequence&&(a.sequence=this.sequenceContext(e.sequence)),a.type==="text"&&(a.text=e),n.sequences[0].element=a,a.type==="text")u.workspace.inTable&&(u.workspace.tableHasContent=!0),this.renderEvent("text",u),r(a);else if(a.type==="mark")this.renderEvent("mark",u),r(a);else if(a.type==="start_milestone")this.renderEvent("startMilestone",u),r(a);else if(a.type==="end_milestone")this.renderEvent("endMilestone",u),r(a);else if(a.type==="graft")this.cachedSequences.unshift(e.sequence),this.renderEvent("inlineGraft",u),this.cachedSequences.shift(),r(a);else if(a.type==="wrapper")a.subType==="chapter"&&(u.workspace.chapterCurent?u.workspace.chapterCurent!=a.atts.number&&(u.workspace.changingChapter=!0):u.workspace.chapterCurent=a.atts.number),u.workspace.changingChapter&&u.workspace.inTable&&u.workspace.tableHasContent&&a.subType==="chapter"&&(this.renderEvent("endRow",u),this.renderEvent("endTable",u),u.workspace.inTable=!1,u.workspace.tableHasContent=!1,u.workspace.skipEndRow=!0,u.workspace.changingChapter=!1),n.sequences[0].block.wrappers.unshift(a.subType),this.renderEvent("startWrapper",u),this.renderContent(e.content,u),n.sequences[0].element=a,r(a),this.renderEvent("endWrapper",u),n.sequences[0].block.wrappers.shift();else throw new Error("Unexpected element type '".concat(a.type));delete n.sequences[0].element}};var WT=VT;function CF(t,e){var u=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),u.push.apply(u,r)}return u}function AF(t){for(var e=1;e<arguments.length;e++){var u=arguments[e]!=null?arguments[e]:{};e%2?CF(Object(u),!0).forEach(function(r){zT(t,r,u[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(u)):CF(Object(u)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(u,r))})}return t}function zT(t,e,u){return e=GT(e),e in t?Object.defineProperty(t,e,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[e]=u,t}function GT(t){var e=HT(t,"string");return typeof e=="symbol"?e:String(e)}function HT(t,e){if(typeof t!="object"||t===null)return t;var u=t[Symbol.toPrimitive];if(u!==void 0){var r=u.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JT=Gn,Xu=t=>{var e=[];for(var u of t.split(""))u.toUpperCase()===u&&u.toLowerCase()!==u?e.push("_".concat(u.toLowerCase())):e.push(u);return e.join("")};let ZT=class extends JT{constructor(e){if(super(e),!e.proskomma)throw new Error("No Proskomma");this.pk=e.proskomma,this._tokens=[],this._container=null,this.cachedSequenceIds=[],this.sequences=null,this.currentCV={chapter:null,verses:null}}renderDocument1(e){var{docId:u,config:r,context:n,workspace:a,output:o}=e,s={config:r,context:n,workspace:a,output:o};n.renderer=this;var i=this.pk.gqlQuerySync(`{
          document(id: "`.concat(u,`") {
            docSetId
            mainSequence { id }
            nSequences
            sequences {
              id
              type
              nBlocks
            }
            headers {
              key
              value
            }
          } 
        }`)),l=i.data.document.docSetId,c=i.data.document.mainSequence.id,d=i.data.document.nSequences;this.sequences={},s.nbBlock||(s.config.nbBlock=1e4);for(var p of i.data.document.sequences)this.sequences[p.id]=p;var h={};for(var F of i.data.document.headers)h[F.key]=F.value;var g=this.pk.gqlQuerySync('{docSet(id: "'.concat(l,'") {selectors {key value}}}')),A={};for(var C of g.data.docSet.selectors)A[C.key]=C.value;if(n.document={id:u,schema:{structure:"nested",structure_version:"0.2.1",constraints:[{name:"sofria",version:"0.2.1"}]},metadata:{translation:{id:l,selectors:A,properties:{},tags:[]},document:AF(AF({},h),{},{properties:{},tags:[]})},mainSequenceId:c,nSequences:d},r.chapters&&(a.chapters?a.chapters.length===0&&(a.chapters=r.chapters):a.chapters=r.chapters),a.chapters&&(n.document.metadata.document.properties.chapters=a.chapters[0]),n.sequences=[{}],r.displayPartOfText!=null&&!["begin","continue"].includes(r.displayPartOfText.state))throw new Error("state must be typeof string and one of ['begin','continue']");s.config.displayPartOfText!=null?s.config.displayPartOfText.state==="begin"&&this.renderEvent("startDocument",s):this.renderEvent("startDocument",s),this.cachedSequenceIds.unshift(c),this.renderSequence(s),this.cachedSequenceIds.shift(),this.renderEvent("endDocument",s)}sequenceContext(e,u){return{id:u,type:Xu(e.type),nBlocks:e.nBlocks,milestones:new Set([])}}renderSequence(e){var u=e.context,r=this.cachedSequenceIds[0],n=this.pk.gqlQuerySync('{document(id: "'.concat(u.document.id,'") {sequence(id:"').concat(r,'") {type} } }')).data.document.sequence.type,a={},o=null,s=null,i=[];n==="main"&&e.workspace.blockId&&(i=e.workspace.blockId);var l=0;if(n==="main"){if(e.workspace.chapters)for(;e.workspace.chapters.length!=0;){if(o=e.workspace.chapters.pop(),o&&(s=this.pk.gqlQuerySync('{document(id: "'.concat(u.document.id,'") {cIndex(chapter: ').concat(o,`) {
                startBlock
                endBlock
              }}}`))),o&&s)for(var c=s.data.document.cIndex.startBlock;c<s.data.document.cIndex.endBlock+1;c++)i.push(c);e.workspace.blockId=i}else for(var d=0;d<this.pk.gqlQuerySync('{document(id: "'.concat(u.document.id,'") {sequence(id:"').concat(r,'") {nBlocks} }}')).data.document.sequence.nBlocks;d++)i.push(d);i.sort((U,K)=>K-U),e.nbBlock||(e.nbBlock=null),e.config.nbBlock||(e.config.nbBlock=i.length)}else for(var p=0;p<this.pk.gqlQuerySync('{document(id: "'.concat(u.document.id,'") {sequence(id:"').concat(r,'") {nBlocks} }}')).data.document.sequence.nBlocks;p++)i.push(p);n==="main"?l=e.config.nbBlock:l=i.length,a=this.pk.gqlQuerySync('{document(id: "'.concat(u.document.id,'") {id sequence(id:"').concat(r,'") {id type nBlocks blocks(positions: [').concat(i,"]){ os {payload} is {payload} } } } }"));var h=a.data.document.sequence;if(!h)throw new Error("Sequence '".concat(r,"' not found in renderSequenceId()"));e.config.displayPartOfText!=null?e.config.displayPartOfText!="continue"&&u.sequences.unshift(this.sequenceContext(h,r)):u.sequences.unshift(this.sequenceContext(h,r)),this.renderEvent("startSequence",e);for(var F=0,g=0;g<l;g++)if(i.length!=0){var A={};n==="main"?A=i.pop():A=i.shift();var C=void 0;if(e.config.excludeScopeTypes)if(e.config.excludeScopeTypes.length>0){var E=e.config.excludeScopeTypes.map(U=>'"'.concat(U,'"'));C=this.pk.gqlQuerySync(`{
                   document(id: "`.concat(u.document.id,`") {
                     sequence(id:"`).concat(r,`") {
                       blocks(positions:`).concat(A,`) {
                         bg {subType payload}
                         bs {payload}
                         items (excludeScopeTypes : [`).concat(E,`] ) {type subType payload}
                       }        
                     }
                   }
                 }`))}else C=this.pk.gqlQuerySync(`{
                   document(id: "`.concat(u.document.id,`") {
                     sequence(id:"`).concat(r,`") {
                       blocks(positions:`).concat(A,`) {
                         bg {subType payload}
                         bs {payload}
                         items{type subType payload}
                       }
                     }
                   }
                 }`));else C=this.pk.gqlQuerySync(`{
                   document(id: "`.concat(u.document.id,`") {
                     sequence(id:"`).concat(r,`") {
                       blocks(positions:`).concat(A,`) {
                         bg {subType payload}
                         bs {payload}
                         items {type subType payload}
                       }
                     }
                   }
                 }`));var v=C.data.document.sequence.blocks[0];for(var S of v.bg)u.sequences[0].block={type:"graft",subType:Xu(S.subType),blockN:F,sequence:this.sequences[S.payload]},this.cachedSequenceIds.unshift(S.payload),this.renderEvent("blockGraft",e),this.cachedSequenceIds.shift(),F++;var q=v.bs.payload.split("/"),_=void 0;if(q[1]&&["tr","zrow"].includes(q[1])?_=q[1]==="tr"?"usfm:tr":"pk":q[1]?_="usfm:".concat(q[1]):_=q[0],u.sequences[0].block={type:["usfm:tr","pk"].includes(_)?"row":"paragraph",subType:_,blockN:F,wrappers:[]},u.sequences[0].block.type==="row"?(e.workspace.inTable||(this.renderEvent("startTable",e),e.workspace.inTable=!0),this.renderEvent("startRow",e)):(e.workspace.inTable&&u.sequences[0].type.includes("main")&&(this.renderEvent("endTable",e),e.workspace.tableHasContent=!1,e.workspace.inTable=!1,e.workspace.skipEndRow=!1),this.renderEvent("startParagraph",e)),this._tokens=[],n==="main"&&this.currentCV.chapter){var T={type:"wrapper",subType:"chapter",atts:{number:this.currentCV.chapter}};e.context.sequences[0].element=T,e.context.sequences[0].block.wrappers.unshift(T.subType),this.renderEvent("startWrapper",e)}if(n==="main"&&this.currentCV.verses){var R={type:"wrapper",subType:"verses",atts:{number:this.currentCV.verses}};e.context.sequences[0].element=R,e.context.sequences[0].block.wrappers.unshift(R.subType),this.renderEvent("startWrapper",e)}if(this.renderContent(v.items,e),this._tokens=[],n==="main"&&this.currentCV.verses){var L={type:"wrapper",subType:"verses",atts:{number:this.currentCV.verses}};e.context.sequences[0].element=L,e.context.sequences[0].block.wrappers.shift(),this.renderEvent("endWrapper",e)}if(n==="main"&&this.currentCV.chapter){var J={type:"wrapper",subType:"chapter",atts:{number:this.currentCV.chapter}};e.context.sequences[0].element=J,e.context.sequences[0].block.wrappers.shift(),this.renderEvent("endWrapper",e)}u.sequences[0].block.type==="row"&&!e.workspace.skipEndRow?this.renderEvent("endRow",e):e.workspace.skipEndRow&&u.sequences[0].block.type==="row"?e.workspace.skipEndRow=!1:this.renderEvent("endParagraph",e),delete u.sequences[0].block,F++}e.workspace.inTable&&u.sequences[0].type.includes("main")&&(this.renderEvent("endTable",e),e.workspace.tableHasContent=!1,e.workspace.inTable=!1,e.workspace.skipEndRow=!1),this.renderEvent("endSequence",e),n==="main"&&(e.workspace.blockId=i),u.sequences.shift()}renderContent(e,u){for(var r=0;r<e.length;r++)this.renderItem(e[r],u);this.maybeRenderText(u)}renderItem(e,u){if(e.type==="scope"&&e.payload.startsWith("attribute")){var r=e.payload.split("/");e.subType==="start"?(this._container||(this._container={direction:"start",subType:"usfm:w",type:"wrapper",atts:{}}),r[3]in this._container.atts?this._container.atts[r[3]].push(r[5]):this._container.atts[r[3]]=[r[5]]):this._container||(this._container={direction:"end",subType:"usfm:".concat(Xu(r[2]))},r[1]==="milestone"?this._container.type="end_milestone":(this._container.type="wrapper",this._container.atts={}))}else{if(this._container&&(this.maybeRenderText(u),this.renderContainer(u),e.payload.includes("spanWith"))){this.maybeRenderText(u);return}if(e.type==="token")this._tokens.push(e.payload.replace(/\s+/g," "));else if(e.type==="graft"){this.maybeRenderText(u);var n={type:"graft",subType:Xu(e.subType),sequence:this.sequences[e.payload]};u.context.sequences[0].element=n,this.cachedSequenceIds.unshift(e.payload),this.renderEvent("inlineGraft",u),this.cachedSequenceIds.shift(),delete u.context.sequences[0].element}else{this.maybeRenderText(u);var a=e.payload.split("/");if(["chapter","verses"].includes(a[0])){var o={type:"wrapper",subType:Xu(a[0]),atts:{number:a[1]}};if(u.context.sequences[0].element=o,e.subType==="start"){u.workspace.tableHasContent&&u.workspace.inTable&&(this.renderEvent("endRow",u),this.renderEvent("endTable",u),u.workspace.tableHasContent=!1,u.workspace.inTable=!1,u.workspace.skipEndRow=!0),this.currentCV[a[0]]=a[1],u.context.sequences[0].block.wrappers.unshift(o.subType),this.renderEvent("start".concat(a[0]==="chapter"?"Chapter":"Verses"),u),this.renderEvent("startWrapper",u);var s={type:"mark",subType:"".concat(a[0],"_label"),atts:{number:a[1]}};u.context.sequences[0].element=s,this.renderEvent("mark",u),u.context.sequences[0].element=o}else this.renderEvent("endWrapper",u),this.renderEvent("end".concat(a[0]==="chapter"?"Chapter":"Verses"),u),u.context.sequences[0].block.wrappers.shift(),delete u.context.sequences[0].element,this.currentCV[a[0]]=null}else if(["pubChapter","pubVerse","altChapter","altVerse"].includes(a[0])){if(e.subType==="start"){var i={type:"mark",subType:Xu(a[0]),atts:{number:a[1]}};u.context.sequences[0].element=i,this.renderEvent("mark",u),delete u.context.sequences[0].element}}else if(a[0]==="span"){var l={type:"wrapper",subType:"usfm:".concat(a[1]),atts:{}};u.context.sequences[0].element=l,e.subType==="start"?(u.context.sequences[0].block.wrappers.unshift(l.subType),this.renderEvent("startWrapper",u)):(this.renderEvent("endWrapper",u),u.context.sequences[0].block.wrappers.shift()),delete u.context.sequences[0].element}else if(a[0]==="spanWithAtts")if(e.subType==="start")this._container={direction:"start",type:"wrapper",subType:"usfm:".concat(a[1]),atts:{}};else{var c={type:"wrapper",subType:"usfm:".concat(a[1]),atts:{}};e.payload.includes("spanWith"),u.context.sequences[0].element=c,this.renderEvent("endWrapper",u),u.context.sequences[0].block.wrappers.shift()}else if(a[0]==="cell"){var d={direction:"start",type:"wrapper",subType:a[0],atts:{role:a[1],alignment:a[2],nCols:parseInt(a[3])}};u.context.sequences[0].element=d,e.subType==="start"?(u.context.sequences[0].block.wrappers.unshift(d.subType),this.renderEvent("startWrapper",u)):(this.renderEvent("endWrapper",u),u.context.sequences[0].block.wrappers.shift()),delete u.context.sequences[0].element}else if(a[0]==="milestone"&&e.subType==="start")if(a[1]==="ts"){var p={type:"mark",subType:"usfm:".concat(Xu(a[1])),atts:{}};u.context.sequences[0].element=p,this.renderEvent("mark",u),delete u.context.sequences[0].element}else this._container={type:"start_milestone",subType:"usfm:".concat(Xu(a[1])),atts:{}}}}}maybeRenderText(e){if(this._tokens.length!==0){var u={type:"text",text:this._tokens.join("")};e.context.sequences[0].element=u,this._tokens=[],this.renderEvent("text",e),e.workspace.inTable&&(e.workspace.tableHasContent=!0),delete e.context.sequences[0].element}}renderContainer(e){if(this._container.type==="wrapper"){var u=this._container.direction;delete this._container.direction,u==="start"?(e.context.sequences[0].element=this._container,e.context.sequences[0].block.wrappers.unshift(this._container.subType),this.renderEvent("startWrapper",e),delete e.context.sequences[0].element):(e.context.sequences[0].element=this._container,this.renderEvent("endWrapper",e),e.context.sequences[0].block.wrappers.shift(),delete e.context.sequences[0].element)}else this._container.type==="start_milestone"?(e.context.sequences[0].element=this._container,this.renderEvent("startMilestone",e),delete e.context.sequences[0].element):this._container.type==="end_milestone"&&(e.context.sequences[0].element=this._container,this.renderEvent("endMilestone",e),delete e.context.sequences[0].element);this._container=null}};var KT=ZT,QT=r7,YT=c7,XT=Gm,eP=OT,tP=Gn,uP=Cu,rP=LT,nP=WT,aP=KT,oP=_r,sP=dC,iP=fC,cP={Validator:QT,usfmHelps:YT,usfmJsHelps:XT,ProskommaRender:tP,PerfRenderFromJson:uP,SofriaRenderFromJson:nP,SofriaRenderFromProskomma:aP,PerfRenderFromProskomma:rP,mergeActions:oP,PipelineHandler:eP,pipelines:sP,render:iP};function lP(t,e,u){let r=t.target;for(;!vF(r)&&!dP(r)&&!pP(r);)r=r.parentNode;if(vF(r)){const n=pC(r.id);r.classList.contains("selected")?e.removeVerse(n):e.length()<u&&e.addVerse(n)}}function DP(t){const e=Array.from(document.getElementsByClassName("selected"));let u="";for(let r=0;r<e.length;r++){const n=pC(e[r].id);n!==u&&(u=n,t.getVerseByVerseNumber(n).verse===""&&yF(n,"selected",!1))}for(let r=0;r<t.length();r++){const n=t.getVerseByIndex(r).verse;yF(n,"selected",!0)}}function fP(t){const e=document.getElementsByTagName("div");for(let u=0;u<e.length;u++)e[u].id!=""&&e[u].classList.remove("selected");t.reset()}function pC(t){t.indexOf("+")>0&&(t=t.substring(0,t.indexOf("+")));const e=t.match(/[0-9]+(-[0-9]+)?/)[0];return e&&(t=t.substring(0,t.indexOf(e)+e.length)),t}function vF(t){return t.classList.contains("seltxt")}function dP(t){return t.tagName==="A"}function pP(t){return t.tagName==="MAIN"}function yF(t,e,u){let r=gF(t,e,u);for(let n=97;n<=122;n++){const a=String.fromCharCode(n);if(r=gF(t+a,e,u),!r)break}}function gF(t,e,u){let r=!1,n=0,a=document.getElementById(t);for(;a;)u?a.classList.contains(e)||a.classList.add(e):a.classList.remove(e),n++,a=document.getElementById(t+"+"+n),r=!0;return r}const hP='"',FP="",mP=")]",EP=(t,e)=>{const u=[],r=t.length;let n=0,a="";for(;n<r;){const o=t.charAt(n);a+=o;let s=BF(o,e);if(s&&(s=!vP(t,n)),s&&(s=!yP(t,n)),s&&(s=!gP(a,n)),s){if(o===" ")a=a.slice(0,-1),n--;else if(o==="")for(;n<r-1&&hC(t.charAt(n+1));)a+=t.charAt(n+1),n++;if(n<r-1){let i=n<r-1?t.charAt(n+1):0,l=n<r-2?t.charAt(n+2):0;for(;(bP(i)||bF(i)||i!==" "&&BF(i,e)||i===" "&&(bF(l)||BP(l)))&&(i===" "?(a+=i,a+=l,n+=2):(a+=i,n++),n<r-1);)i=n<r-1?t.charAt(n+1):0,l=n<r-2?t.charAt(n+2):0}for(r-n<4&&(a+=t.substring(n+1),n=r-1);n<r-1&&t.charAt(n+1)===" ";)a+=" ",n++;u.push(a),a=""}n++}return a.trim()!==""&&u.push(a),u};function CP(t){let e=t;return e=e.replaceAll(" ",""),e=e.replace("\\s"," "),e=AP(e),e}function AP(t){let e=t;const u=new RegExp("\\\\u([0-9a-fA-F]+)","g");let r=u.exec(e),n=[];for(;r;)n.push(r[0]),r=u.exec(e);for(let a=0;a<n.length;a++){const o=n[a].substring(2),s=parseInt(o,16),i=String.fromCharCode(s);e=e.replaceAll(n[a],i)}if(e.includes("U+")){const a=new RegExp("U\\+([0-9a-fA-F]+)","g");for(n=[],r=a.exec(e);r;)n.push(r[0]),r=a.exec(e);for(let o=0;o<n.length;o++){const s=n[o].substring(2),i=parseInt(s,16),l=String.fromCharCode(i);e=e.replaceAll(n[o],l)}}return e}const Vc=t=>/^\d$/.test(t),hC=t=>RegExp(/^\p{L}/,"u").test(t),vP=(t,e)=>{let u=!1;const r=".,:-;";if(e>0&&e<t.length-4){const n=t.charAt(e);if(r.indexOf(n)>=0){const a=t.charAt(e-1);if(Vc(a)){const o=t.charAt(e+1),s=t.charAt(e+2);(Vc(o)||o==" "&&Vc(s))&&(u=!0)}}}return u},yP=(t,e)=>{let u=!1;const r=t.charAt(e);if(e<t.length-2&&(r==="!"||r==="?")){const n=t.charAt(e+1);hC(n)&&(u=!0)}return u},gP=(t,e)=>{let u=!1;if(t.charAt(e)===";"){const n=t.lastIndexOf("&");if(n>=0&&t.length-n<8){const a=t.slice(n);(a==="&nbsp;"||a==="&lt;"||a==="&gt;")&&(u=!0)}}return u},bP=t=>hP.indexOf(t)>=0,bF=t=>FP.indexOf(t)>=0,BP=t=>mP.indexOf(t)>=0,BF=(t,e)=>t.match(e)!=null;function FC(t){let e="none";return t&&t.length>0&&(t.includes("youtube")||t.includes("youtu.be")?e="youtube":t.includes("vimeo")?e="vimeo":t.includes("api.arclight.org")?e="jesus":t.includes("dbt.io")?e="gospel":t.toLowerCase().endsWith(".mp4")?e="mp4":t.toLowerCase().endsWith(".m3u8")&&(e="hls")),e}function _F(t,e,u){const r=FC(e.onlineUrl),n=t.createElement("div");n.classList.add("video-block");const a=t.createElement("div"),o="VIDEO"+u;switch(a.setAttribute("id",o),a.classList.add("video-container"),r){case"mp4":case"youtube":case"vimeo":case"hls":case"gospel":case"other":a.classList.add("video-"+r,"video-16-9");break;case"jesus":a.classList.add("video-"+r);break;case"none":a.classList.add("video-16-9");break}a.style.setProperty("background-image","url('images/"+e.thumbnail+"')");const s=t.createElement("a");s.setAttribute("href","#"),s.setAttribute("onclick","playOnlineVideo('"+o+"', '"+e.onlineUrl+"'); return false;");const i=t.createElement("img");i.setAttribute("src","video_play_01.svg"),s.appendChild(i),a.appendChild(s);const l=t.createElement("div");l.classList.add("video-title");const c=t.createElement("span");c.classList.add("video-title");const d=t.createTextNode(e.title);return c.appendChild(d),l.appendChild(c),n.appendChild(a),n.appendChild(l),n}function _P(t){let e=!1;for(let u=0;u<t.length;++u){const r=t[u],n=FC(r.onlineUrl);(n==="hls"||n==="gospel")&&(e=!0)}return e}function wP(t,e){const u=t.createElement("script");if(u.id="js_video",u.type="text/javascript",u.src="js/app-builder-video.js",t.getElementById(u.id)||t.head.appendChild(u),_P(e)){const r=t.createElement("script");r.id="js_hls",r.type="text/javascript",r.src="https://cdn.jsdelivr.net/npm/hls.js@latest",t.getElementById(r.id)||t.head.appendChild(r)}}function SP(t,e,u,r,n,a,o){switch(o){case"usfm:zaudioc":{const[s,i]=TP(n,r,a);zr(t,e,u,s,!1),zr(t,e,u,i,!0);break}case"usfm:zreflink":{const s=PP(n,r);zr(t,e,u,s,!0);break}case"usfm:zweblink":{const s=$P(n,r);zr(t,e,u,s,!0);break}case"usfm:ztellink":{const s=qP(n,r);zr(t,e,u,s,!0);break}case"usfm:zelink":{const s=kP(n,r);zr(t,e,u,s,!0);break}}}function zr(t,e,u,r,n){t.includes("footnote")?e.appendChild(r):u.appendChild(r),n&&t.pop()}function $P(t,e){const u=document.createElement("a");return u.href=t,u.setAttribute("target","_blank"),u.classList.add("web-link"),u.innerHTML=e,u}function kP(t,e){const u=document.createElement("a");return u.href=t,u.setAttribute("target","_blank"),u.classList.add("email-link"),u.innerHTML=e,u}function qP(t,e){const u=document.createElement("a");return u.href=t,u.setAttribute("target","_blank"),u.classList.add("tel-link"),u.innerHTML=e,u}function TP(t,e,u){const r=document.createElement("audio"),n="audio"+TC(u.toString(),3),a="clips/"+PC(t);r.id=n,r.src=a,r.setAttribute("preload","auto");const o=document.createElement("a");return o.href="#",o.setAttribute("onClick","document.getElementById('"+n+"').play();"),o.innerHTML=e,[r,o]}function PP(t,e){const u=document.createElement("a");return u.classList.add("web-link"),u.classList.add("ref-link"),u.setAttribute("ref",t),u.innerHTML=e,u}function wF(t){let e;return{c(){e=he("span"),this.h()},l(u){e=Fe(u,"SPAN",{class:!0}),Y(e).forEach(O),this.h()},h(){B(e,"class","spin")},m(u,r){de(u,e,r)},d(u){u&&O(e)}}}function IP(t){let e,u,r,n=t[4]&&wF();return{c(){e=he("article"),n&&n.c(),u=We(),r=he("div"),this.h()},l(a){e=Fe(a,"ARTICLE",{class:!0});var o=Y(e);n&&n.l(o),u=ze(o),r=Fe(o,"DIV",{id:!0,class:!0}),Y(r).forEach(O),o.forEach(O),this.h()},h(){B(r,"id","content"),B(r,"class","single"),jt(r,"hidden",t[4]),_e(r,"font-family",t[1]),_e(r,"font-size",t[7]),_e(r,"line-height",t[6]),_e(r,"direction",t[5]),B(e,"class","container")},m(a,o){de(a,e,o),n&&n.m(e,null),ue(e,u),ue(e,r),t[32](r),t[33](e)},p(a,o){a[4]?n||(n=wF(),n.c(),n.m(e,u)):n&&(n.d(1),n=null),o[0]&16&&jt(r,"hidden",a[4]),o[0]&2&&_e(r,"font-family",a[1]),o[0]&128&&_e(r,"font-size",a[7]),o[0]&64&&_e(r,"line-height",a[6]),o[0]&32&&_e(r,"direction",a[5])},i:Ie,o:Ie,d(a){a&&O(e),n&&n.d(),t[32](null),t[33](null)}}}const xa="abcdefghijklmnopqrstuvwxyz";function OP(t){return t.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function RP(t,e,u){if(u.firstVerse===!0&&u.chapterNumText!==""){u.paragraphDiv.className="m";const o=document.createElement("div");o.classList.add("c-drop"),o.innerText=u.chapterNumText,u.paragraphDiv.appendChild(o),u.firstVerse=!1}else if(e===!0){var r=document.createElement("span");r.classList.add("v"),r.innerText=t.atts.number;var n=document.createElement("span");n.classList.add("vsp"),n.innerText="";var a=u.phraseDiv.cloneNode(!0);a.appendChild(r.cloneNode(!0)),a.appendChild(n.cloneNode(!0)),u.phraseDiv=a.cloneNode(!0)}}function xP(t){var r;xa.charAt(t.currentPhraseIndex);const e=document.createElement("span");e.id="notes"+t.currentVerse;let u=(r=t.paragraphDiv)==null?void 0:r.querySelector(`div[data-verse="${t.currentVerse}"][data-phrase=${t.lastPhrase}]`);u===null&&(u=t.root.querySelector(`div[data-verse="${t.currentVerse}"][data-phrase=${t.lastPhrase}]`)),u==null||u.parentNode.insertBefore(e,u.nextSibling)}function jP(t){var r;xa.charAt(t.currentPhraseIndex);const e=document.createElement("span");e.id="bookmarks"+t.currentVerse;let u=(r=t.paragraphDiv)==null?void 0:r.querySelector(`div[data-verse="${t.currentVerse}"][data-phrase=${t.lastPhrase}]`);u===null&&(u=t.root.querySelector(`div[data-verse="${t.currentVerse}"][data-phrase=${t.lastPhrase}]`)),u==null||u.parentNode.insertBefore(e,u.nextSibling)}function SF(t,e,u,r,n){var o;if(r==="after")t.getElementById("bookmarks"+n).insertAdjacentElement("afterend",u);else if(r==="before"){var a=e.querySelector(`div[data-verse="${n}"][data-phrase="a"]`);(o=a.previousElementSibling)!=null&&o.classList.contains("c-drop")&&(a=a.previousElementSibling),a.insertAdjacentElement("beforebegin",u)}else if(r==="top")t.getElementsByClassName("m")[0].insertAdjacentElement("beforebegin",u);else if(r==="bottom"){const s=e.querySelectorAll("span[id^=bookmarks]");s[s.length-1].insertAdjacentElement("afterend",u)}}function $F(t){const e=document.createElement("div");e.classList.add("caption");const u=document.createElement("span");u.classList.add("caption");const r=document.createTextNode(t);return u.append(r),e.append(u),e}function NP(t){let e;return"src"in t.atts?e=t.atts.src[0]:"unknownDefault_fig"in t.atts&&(e=t.atts.unknownDefault_fig[0]),e}async function MP(t,e){try{(await fetch(t,{method:"HEAD"})).ok||(e.style.display="none")}catch(u){console.error("Error checking image existence:",u)}}function Rt(t,e){!e.inRow&&e.inTable&&t!=="startRow"&&(e.inTable=!1,e.root.appendChild(e.tableElement))}function LP(t,e,u){var dn;let r,n,a,o,s,i,l,c,d,p,h,F,g,A,C=Ie,E=()=>(C(),C=rA(oe,V=>u(31,A=V)),oe);Ve(t,IC,V=>u(37,h=V)),Ve(t,Ru,V=>u(38,F=V)),Ve(t,Lu,V=>u(39,g=V)),t.$$.on_destroy.push(()=>C());let{audioPhraseEndChars:v}=e,{bodyFontSize:S}=e,{bodyLineHeight:q}=e,{bookmarks:_}=e,{notes:T}=e,{highlights:R}=e,{maxSelections:L}=e,{redLetters:J}=e,{references:U}=e,{glossary:K}=e,{selectedVerses:oe}=e;E();let{themeColors:Q}=e,{verseLayout:Ce}=e,{viewShowBibleImages:X}=e,{viewShowBibleVideos:Ee}=e,{viewShowIllustrations:ye}=e,{viewShowVerses:we}=e,{viewShowGlossaryWords:ae}=e,{font:N}=e,{proskomma:G}=e,z,y=!1;const I=V=>{let Ae=CP(V),ve="(";for(let ke=0;ke<Ae.length;ke++)ke>0&&(ve+="|"),ve+=OP(Ae[ke]);return ve+=")",new RegExp(ve,"g")},H=V=>V.trim().length===0,me=(V,Ae)=>{let ve=0;for(let $e in V)V[$e]===Ae&&ve++;return ve},De=V=>V.match(r)!=null,ce=V=>V.textType[V.textType.length-1],Se=(V,Ae="advance")=>{var $e;($e=h.scripture)!=null&&$e.phrase&&console.log("Start phrase!!!"),V.phraseDiv!=null&&(V.phraseDiv.innerText.length===0?Ae==="advance"&&(Ae="keep"):dt(V));const ve=document.createElement("div");if(V.introductionGraft)ve.id="+"+parseInt(V.introductionIndex),ve.classList.add("txs"),V.introductionIndex++;else{switch(Ae){case"reset":V.currentPhraseIndex=0;break;case"advance":V.currentPhraseIndex++;break}const ke=xa.charAt(V.currentPhraseIndex);ve.id=V.currentVerse+ke,ve.setAttribute("data-verse",V.currentVerse),ve.setAttribute("data-phrase",ke),ve.classList.add("txs","seltxt","scroll-item")}return ve.cloneNode(!0)},Re=(V,Ae)=>{if(V.inRow)if(V.textType.includes("usfm")&&V.usfmWrapperType==="xt"){const ve=Ae.split("; ");for(let $e=0;$e<ve.length;$e++){const ke=ve[$e].split("|"),ut=ke[0],He=ke.length>1?ke[1]:ke[0],j=document.createElement("span");j.classList.add("reflink");const k=document.createElement("a");k.setAttribute("href",He);const W=document.createTextNode(ut);if(k.appendChild(W),j.appendChild(k),V.tableCellElement.appendChild(j),$e<ve.length-1){const ee=document.createTextNode("; ");V.tableCellElement.appendChild(ee)}}}else{const ve=At(V.tableCellElement,Ae,V);V.tableCellElement=ve.cloneNode(!0)}},ct=(V,Ae,ve,$e)=>{if(V.textType.includes(ve)){if(Kt(V.footnoteDiv))if(V.textType.includes("note_caller"))V.footnoteDiv.setAttribute("nc",Ae);else{const ke=At(V.footnoteDiv,Ae,V);V.footnoteDiv=ke.cloneNode(!0)}}else console.warn("%s ignored: %s",$e,Ae)},Xe=(V,Ae)=>{var ve,$e,ke,ut;if((ve=h.scripture)!=null&&ve.text&&console.log("Adding text:",Ae),!H(Ae)){let He=[];!V.introductionGraft&&U.hasAudio?He=EP(Ae,r):He[0]=Ae;for(let j=0;j<He.length;j++){V.lastPhraseTerminated&&(($e=h.scripture)!=null&&$e.text&&console.log("Add text start phrase (terminated)"),V.phraseDiv=Se(V)),V.phraseDiv===null&&((ke=h.scripture)!=null&&ke.text&&console.log("Add text start phrase (null)"),V.phraseDiv=Se(V,"keep"));let k=V.phraseDiv.cloneNode(!0);const W=He[j];k=At(k,W,V),j<He.length-1?(V.phraseDiv=k.cloneNode(!0),(ut=h.scripture)!=null&&ut.text&&console.log("Add text start phrase"),V.phraseDiv=Se(V)):V.phraseDiv=k.cloneNode(!0)}V.lastPhraseTerminated=He.length>0?De(He[He.length-1]):!1}},rt=(V,Ae,ve,$e="")=>{const ke=document.createElement("span");let ut;switch(ke.classList.add(Ae),Ae){case"xt":{ke.innerHTML=ve;break}case"glossary":{const He=document.createElement("a");let j=ve;Mt($e)&&(j=$e),He.setAttribute("match",j.trim()),He.setAttribute("href"," ");const k=document.createTextNode(ve);He.classList.add("glossary"),He.appendChild(k),ke.appendChild(He);break}default:{ut=document.createTextNode(ve),ke.appendChild(ut);break}}return V.appendChild(ke),V},At=(V,Ae,ve)=>{const $e=ve.usfmWrapperType;if($e)switch($e){case"wj":{if(ve.showWordsOfJesus)V=rt(V,$e,Ae);else{const ke=document.createTextNode(Ae);V.appendChild(ke)}break}case"w":{const ke=ve.lemma;ae?V=rt(V,"glossary",Ae,ke):V=rt(V,$e,Ae);break}default:{V=rt(V,$e,Ae);break}}else{const ke=document.createTextNode(Ae);V.appendChild(ke)}return V},ft=(V,Ae,ve)=>{let $e=!1;return(V==Ae||ve&&Ae)&&($e=!0),$e};function dt(V){V.lastPhrase=V.phraseDiv.getAttribute("data-phrase"),c?V.verseDiv.appendChild(V.phraseDiv.cloneNode(!0)):V.paragraphDiv.appendChild(V.phraseDiv.cloneNode(!0))}function wt(V){if(!U2())return;const Ae=V.target.textContent,$e=document.querySelector('[data-verse="'+Ae+'"]').getAttribute("id");a0($e)}function nt(V){if(g.length===0){V.stopPropagation();const Ae=V.target.parentNode.parentNode,$e=Ae.querySelector(`div#${Ae.getAttribute("data-graft")}`).cloneNode(!0);$e.querySelectorAll("span.xt").forEach(He=>{He.innerHTML=Kl(He.innerHTML,"")});const ut=$e.innerHTML;Lu.push(ut)}}function tt(V){const Ae=V.target.getAttribute("ref"),ve=GF(Ae,"."),$e=ve[0],ke=ve[1],ut=ve[2],He=ve[3];let j=i;const k=Qe.bookCollections.find(W=>W.id===$e);if(k)j=k.languageCode+"_"+k.id;else return;Ut.set({docSet:j,book:ke,chapter:ut,verse:He})}async function kt(V){V.stopPropagation();let Ae=JSON.parse(V.target.getAttribute("data-start-ref")),ve=V.target.getAttribute("data-end-ref")==="undefined"?void 0:JSON.parse(V.target.getAttribute("data-end-ref"));{const $e=await cm(Ae,ve,Q);Lu.push($e)}}function ie(V){V.stopPropagation(),V.preventDefault();const Ae=V.target.getAttribute("match");K.then(ve=>{Kt(ve.data.docSets[0].document)&&ve.data.docSets[0].document.mainBlocks.forEach($e=>{if(Hr($e.key,Ae)&&g.length===0){const ke=document.createElement("div");ke.classList.add("txs");const ut=document.createElement("span");ut.classList.add("k"),document.createTextNode(Ae),ut.append($e.key),ke.append(ut);const He=$e.text.slice(Ae.length),j=document.createTextNode(He);ke.append(j);const k=ke.outerHTML;Lu.push(k)}})})}const Ft=()=>'<svg fill="#000000" style="display:inline" xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 96 96"><path d="M 21.07 74.80 L 8.76 87.35 Q 8.00 88.12 8.00 87.03 Q 8.00 52.12 8.00 18.00 Q 8.00 7.73 18.00 7.80 Q 48.00 8.00 78.00 8.00 Q 88.27 8.00 88.18 18.00 Q 88.00 40.13 88.09 62.25 Q 88.13 72.31 78.00 72.22 C 72.03 72.17 25.23 70.89 23.56 72.37 Q 22.78 73.07 21.07 74.80 Z M 72.00 21.60 A 0.60 0.60 0.0 0 0 71.40 21.00 L 24.60 21.00 A 0.60 0.60 0.0 0 0 24.00 21.60 L 24.00 28.40 A 0.60 0.60 0.0 0 0 24.60 29.00 L 71.40 29.00 A 0.60 0.60 0.0 0 0 72.00 28.40 L 72.00 21.60 Z M 72.00 35.60 A 0.60 0.60 0.0 0 0 71.40 35.00 L 24.60 35.00 A 0.60 0.60 0.0 0 0 24.00 35.60 L 24.00 42.40 A 0.60 0.60 0.0 0 0 24.60 43.00 L 71.40 43.00 A 0.60 0.60 0.0 0 0 72.00 42.40 L 72.00 35.60 Z M 60.00 49.60 A 0.60 0.60 0.0 0 0 59.40 49.00 L 24.60 49.00 A 0.60 0.60 0.0 0 0 24.00 49.60 L 24.00 56.40 A 0.60 0.60 0.0 0 0 24.60 57.00 L 59.40 57.00 A 0.60 0.60 0.0 0 0 60.00 56.40 L 60.00 49.60 Z"</path></svg>';function x(V){V.then(Ae=>{for(var ve=0;ve<Ae.length;ve++){let $e=document.getElementById("bookmarks"+Ae[ve].verse),ke=document.createElement("span");ke.id="note"+ve,ke.innerHTML=Ft(),$e.appendChild(ke)}})}const Z=()=>'<svg fill="#b10000" style="display:inline" xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 24 24"><path d="M5 21V5q0-.825.588-1.413Q6.175 3 7 3h10q.825 0 1.413.587Q19 4.175 19 5v16l-7-3Z"/></svg>';function ne(V){V.then(Ae=>{for(var ve=0;ve<Ae.length;ve++){let $e=document.getElementById("bookmarks"+Ae[ve].verse),ke=document.createElement("span");ke.id="bookmark"+ve,ke.innerHTML=Z(),$e.appendChild(ke)}})}function m(V){V.then(Ae=>{for(let ve=0;ve<Ae.length;ve++){if(ve<Ae.length-1&&Ae[ve].verse===Ae[ve+1].verse)continue;let $e=z==null?void 0:z.querySelectorAll(`div[data-verse="${Ae[ve].verse}"]`);for(const ke of $e){const ut="hlp"+Ae[ve].penColor;ke.classList.add(ut)}}})}function D(V,Ae){var j;let ve=null,$e=`X-${V.footnoteIndex+1}`,ke=document.createElement("div");ke.id=$e,ke.style.display="none",ke.setAttribute("type",Ae.subType),V.phraseDiv.cloneNode(!0),ve=document.createElement("span"),ve.setAttribute("data-graft",$e);const ut=document.createElement("a"),He=document.createElement("sup");return He.classList.add("footnote"),He.innerHTML=xa.charAt(V.footnoteIndex),ut.appendChild(He),ut.classList.add("cursor-pointer"),ve.appendChild(ut),V.footnoteIndex++,(j=h.scripture)!=null&&j.footnote&&console.log("Create Footnote %o %o",ve,ke),[ve,ke]}function f(V){V&&(V.forEach((Ae,ve)=>{let $e=Ae.placement.ref.split(/[:.]/).at(-1);const ke=_F(document,Ae,ve);SF(document,z,ke,Ae.placement.pos,$e)}),wP(document,V))}function b(V){V&&V.forEach((Ae,ve)=>{let $e=Ae.placement.ref.split(/[:.]/).at(-1);const ke=$(Ae.filename,Ae.placement.caption);SF(document,z,ke,Ae.placement.pos,$e)})}function $(V,Ae){const ve=Ba+"/illustrations/"+V,$e=document.createElement("div");$e.classList.add("image-block");const ke=document.createElement("span");ke.classList.add("image");const ut=document.createElement("img");if(ut.setAttribute("src",ve),ut.style.display="inline-block",ke.appendChild(ut),$e.appendChild(ke),Ae!==null&&Ae!==""){const He=$F(Ae);$e.appendChild(He)}return $e}function w(V,Ae,ve){var ut;const $e=ve.split("_")[1],ke=(ut=Qe.bookCollections.find(He=>He.id===$e))==null?void 0:ut.footer;if(ke&&Ae.getElementsByClassName("footer").length==0){const He=V.createElement("div");He.classList.add("footer");const j=V.createElement("div");j.classList.add("footer-line"),He.appendChild(j);const k=V.createElement("span");k.classList.add("footer"),k.innerHTML=ke,j.appendChild(k),Ae.appendChild(He)}}function M(){return l&&X==="normal"&&ye}function fe(){return l&&Ee==="normal"}function be(V,Ae){Ae.phraseDiv!=null&&Ae.phraseDiv.innerText!==""&&dt(Ae),Ae.phraseDiv=null;const ve=$(V,null),$e=Ba+"/illustrations/"+V;Ae.figureDiv=ve,M()&&MP($e,ve)}function qe(V){switch(V.target.getAttribute("class")){case"v":wt(V);break;case"footnote":nt(V);break;case"glossary":ie(V);break;default:if(V.target.classList.contains("ref-link")){tt(V);break}V.target.classList.contains("header-ref")&&kt(V),F.playing||lP(V,oe,L);break}}function Te(V){return Object.keys(d.find(ve=>ve.bookCode===V).versesByChapters).length}let Je=document.createElement("div");(dn=h.scripture)!=null&&dn.root&&console.log("START: %o",Je);let St=!0;const cu={},Nu=async(V,Ae,ve,$e,ke,ut,He,j,k,W,ee,te)=>{var $t,at;if(!G)return;await OC(G,V,fetch);const Me=new cP.SofriaRenderFromProskomma({proskomma:G,actions:{startDocument:[{description:"Set up; Book heading",test:()=>!0,action:({context:pe,workspace:P})=>{var Be;(Be=h.scripture)!=null&&Be.document&&console.log("Start Document: %o, %o",pe,pe.document.metadata.document),Rt("startDocument",P),Je.replaceChildren(),P.root=Je,P.footnoteIndex=0,P.introductionIndex=0,P.firstVerse=!0,P.currentVerse="none",P.currentPhraseIndex=0,P.milestoneLink="",P.milestoneText="",P.lastPhrase="a",P.introductionGraft=!1,P.titleGraft=!1,P.paragraphDiv=document.createElement("div"),P.titleBlockDiv=document.createElement("div"),P.verseDiv=null,P.phraseDiv=null,P.videoDiv=null,P.footnoteDiv=null,P.figureDiv=null,P.subheaders=[],P.textType=[],P.titleText=[],P.headerText=[],P.audioClips=[],P.usfmWrapperType="",P.showWordsOfJesus=ut,P.lastPhraseTerminated=!1,P.currentVideoIndex=0,P.chapterNumText="",P.inTable=!1,P.inRow=!1,P.tableElement=null,P.tableRowElement=null,P.tableCellElement=null,P.rowCellNumber=0,P.lemma="",fP(oe);const re=document.createElement("div");re.setAttribute("data-verse","start"),re.setAttribute("data-phrase","none"),P.root.append(re)}}],endDocument:[{description:"Set up",test:()=>!0,action:({context:pe,workspace:P,output:re})=>{var Oe;if((Oe=h.scripture)!=null&&Oe.document&&console.log("End Document"),Rt("endDocument",P),!y){for(var Be=document.getElementsByTagName("div"),Pe=0;Pe<Be.length;Pe++)(Be[Pe].classList.contains("seltxt")&&Be[Pe].id!=""||Be[Pe].classList.contains("r"))&&Be[Pe].addEventListener("click",qe,!1);x(k),ne(j),m(W),fe()&&f(ee),M()&&b(te)}w(document,P.root,V)}}],startParagraph:[{description:"Start HTML para with appropriate class",test:()=>!0,action:({context:pe,workspace:P})=>{var Pe,Oe,mt;(Pe=h.scripture)!=null&&Pe.paragraph&&console.log("Start Paragraph %o %o",pe.sequences[0].block,pe.sequences[0].type);const re=pe.sequences[0].type;if(Rt("startPara",P),ft(P.introductionGraft,y,P.titleGraft)){var Be=pe.sequences[0].block.subType.split(":")[1]||pe.sequences[0].block.subType;re==="main"&&!y?(P.lastPhraseTerminated=!1,P.currentVerse!="none"&&(P.phraseDiv=Se(P),(Oe=h.scripture)!=null&&Oe.paragraph&&console.log("Paragraph Start phrase: %o",P.phraseDiv)),P.paragraphDiv=document.createElement("div"),P.paragraphDiv.classList.add(Be)):re=="introduction"&&((mt=h.scripture)!=null&&mt.paragraph&&console.log("Introduction start phrase"),P.phraseDiv=Se(P,"keep"),P.paragraphDiv=document.createElement("div"),P.paragraphDiv.classList.add(Be))}}}],endParagraph:[{description:"End HTML para",test:()=>!0,action:({context:pe,workspace:P})=>{var Oe,mt;const re=pe.sequences[0].type;if((Oe=h.scripture)!=null&&Oe.paragraph&&(console.log("End paragraph: Sequence type "+re),console.log("End Paragraph %o %o",pe.sequences[0].block,pe.sequences[0].type)),Rt("endPara",P),ft(P.introductionGraft,y,P.titleGraft))if(re=="main")(mt=h.scripture)!=null&&mt.paragraph&&console.log("End main paragraph"),P.phraseDiv!=null&&P.phraseDiv.innerText!==""&&(dt(P),P.phraseDiv=null),He&&P.verseDiv!==null&&(P.paragraphDiv.appendChild(P.verseDiv.cloneNode(!0)),P.verseDiv=document.createElement("div")),P.root.appendChild(P.paragraphDiv),P.videoDiv&&(P.root.appendChild(P.videoDiv),P.videoDiv=null);else if(re=="title"){const Ct=document.createElement("div");var Be=pe.sequences[0].block.subType.split(":")[1]||pe.sequences[0].block.subType;Ct.classList.add(Be);const qt=document.createElement("span");qt.classList.add(Be),qt.innerText=P.titleText,Ct.appendChild(qt),P.titleBlockDiv.appendChild(Ct),P.titleText=""}else if(re=="heading"){const Ct=document.createElement("div");var Pe=pe.sequences[0].block.subType.split(":")[1]||pe.sequences[0].block.subType;Ct.classList.add(Pe);const qt=Pe.replaceAll(/[0-9]/g,"");P.subheaders.push(qt);const wu=me(P.subheaders,qt),du=document.createElement("div");du.id=qt+wu,Pe=="r"?du.innerHTML=P.headerText:du.innerText=P.headerText,Ct.appendChild(du),P.root.appendChild(Ct),P.headerText=""}else re=="introduction"&&(P.phraseDiv!=null&&P.phraseDiv.innerText!==""&&(dt(P),P.phraseDiv=null),P.root.appendChild(P.paragraphDiv))}}],startVerses:[{description:"Start Verses",test:()=>!0,action:({context:pe,workspace:P})=>{var Be,Pe,Oe;const re=pe.sequences[0].element;(Be=h.scripture)!=null&&Be.verses&&console.log("Start Verses %o %o",re.atts.number,re),Rt("startVerses",P),P.textType.push("verses"),y||(P.lastPhraseTerminated=!1,P.currentVerse=re.atts.number,(Pe=h.scripture)!=null&&Pe.verses&&console.log("verses %o start phrase",re.atts.number),P.phraseDiv=Se(P,"reset"),He&&(P.verseDiv=document.createElement("div"),P.verseDiv.classList.add("verse-block")),(Oe=h.scripture)!=null&&Oe.verses&&console.log("IN: %o",P.phraseDiv))}}],endVerses:[{description:"End Verses",test:()=>!0,action:({context:pe,workspace:P})=>{var Be;const re=pe.sequences[0].element;(Be=h.scripture)!=null&&Be.verses&&console.log("End Verses %o %o",re.atts.number,re),Rt("endVerses",P),P.textType.pop(),y||(P.phraseDiv!=null&&P.phraseDiv.innerText!==""&&dt(P),He&&(P.paragraphDiv.appendChild(P.verseDiv.cloneNode(!0)),P.verseDiv=null),P.phraseDiv=null,jP(P),xP(P),P.currentVerse="none")}}],startChapter:[{description:"Start Chapter",test:()=>!0,action:({context:pe,workspace:P})=>{var re;if((re=h.scripture)!=null&&re.chapter){const Be=pe.sequences[0].element;console.log("Start Chapter %o %o",Be.atts.number,Be)}Rt("startChapter",P)}}],endChapter:[{description:"End Chapter",test:()=>!0,action:({context:pe,workspace:P})=>{var re;if((re=h.scripture)!=null&&re.chapter){const Be=pe.sequences[0].element;console.log("End Chapter %o %o",Be.atts.number,Be)}Rt("endChapter",P)}}],text:[{description:"Output text",test:()=>!0,action:({context:pe,workspace:P})=>{var re,Be;if((re=h.scripture)!=null&&re.text&&(console.log("Text element: %o %o %o",pe.sequences[0].element.type,pe.sequences[0].element.text,pe.sequences[0].block),console.log("Text Type: %o",ce(P))),Rt("text",P),ft(P.introductionGraft,y,P.titleGraft)){const Pe=pe.sequences[0].element.text;switch(ce(P)){case"title":{P.titleText+=Pe;break}case"heading":{if(pe.sequences[0].block.subType.includes("usfm:r")){const mt=Kl(Pe,"header-ref");P.headerText+=mt}else P.headerText+=Pe;break}case"fig":{const Oe=$F(Pe);P.figureDiv.append(Oe);break}case"audioc":case"reflink":case"tellink":case"elink":case"weblink":{P.milestoneText=Pe;break}default:{const Oe=pe.sequences[0].block.subType;Oe.includes("usfm:x")?ct(P,Pe,"xref","usfm:x"):Oe.includes("usfm:f")?ct(P,Pe,"footnote","usfm:f"):Oe==="usfm:ip"?Xe(P,Pe):Oe==="usfm:tr"?Re(P,Pe):Xe(P,Pe);break}}}(Be=h.scripture)!=null&&Be.text&&console.log("End text")}}],metaContent:[{description:"Meta Content",test:()=>!0,action:({context:pe,workspace:P})=>{var re;(re=h.scripture)!=null&&re.meta&&console.log("Meta Content %o",pe.sequences[0].element),Rt("metaContent",P)}}],mark:[{description:"Mark",test:()=>!0,action:({context:pe,workspace:P})=>{var Be;const re=pe.sequences[0].element;(Be=h.scripture)!=null&&Be.mark&&console.log("Mark: SubType %o, Atts: %o",re.subType,re.atts),Rt("mark",P),ft(P.introductionGraft,y,P.titleGraft)&&(re.subType==="chapter_label"?P.chapterNumText=re.atts.number:re.subType==="verses_label"&&RP(re,$e,P))}}],startSequence:[{description:"Start Sequence",test:()=>!0,action:({context:pe,workspace:P})=>{var Be,Pe;const re=pe.sequences[0].type;if((Be=h.scripture)!=null&&Be.sequence&&console.log("start sequence %o",re),Rt("startSequence",P),ft(P.introductionGraft,y,P.titleGraft)){switch(re){case"title":{P.textType.push("title");const Oe=document.createElement("div");Oe.setAttribute("data-verse","title"),Oe.setAttribute("data-phrase","none"),Oe.classList.add("scroll-item"),P.titleBlockDiv=Oe;break}case"heading":{P.textType.push("heading");break}case"main":{P.textType.push("main");break}case"introduction":{P.textType.push("introduction");break}case"fig":{P.textType.push("fig");break}case"footnote":{P.textType.push("footnote");break}case"xref":{P.textType.push("xref");break}}(Pe=h.scripture)!=null&&Pe.sequence&&console.log("Processed: %o",P.textType)}}}],endSequence:[{description:"End Sequence",test:()=>!0,action:({context:pe,workspace:P})=>{var Be,Pe;const re=pe.sequences[0].type;if((Be=h.scripture)!=null&&Be.sequence&&console.log("End sequence |%o|",re),Rt("endSequence",P),ft(P.introductionGraft,y,P.titleGraft))switch(re){case"title":{P.textType.pop();const Oe=P.titleBlockDiv;Oe.innerHTML+='<div class="b"></div><div class="b"></div>',(Pe=h.scripture)!=null&&Pe.sequence&&console.log("TITLE DIV %o",Oe),P.root.append(Oe);break}case"heading":{P.textType.pop();break}case"main":{P.textType.pop();break}case"introduction":P.textType.pop();break;case"fig":{P.textType.pop();break}case"footnote":{P.textType.pop();break}case"xref":{P.textType.pop();break}}}}],blockGraft:[{description:"Block Graft",test:()=>!0,action:pe=>{var Be,Pe,Oe,mt;(Be=h.scripture)!=null&&Be.blockGraft&&console.log("Block Graft %o",pe.context.sequences[0].block),Rt("blockGraft",pe.workspace);const P=pe.context.sequences[0].block,re={type:P.type,sequence:{}};if(P.subType==="introduction"?((Pe=h.scripture)!=null&&Pe.blockGraft&&console.log("*** START INTRODUCTION ***"),pe.workspace.introductionGraft=!0,pe.workspace.introductionIndex=1):P.subType==="title"&&(pe.workspace.titleGraft=!0),P.sequence){re.sequence={};const Ct=pe.workspace.currentSequence;pe.workspace.currentSequence=re.sequence,pe.context.renderer.renderSequence(pe),pe.workspace.currentSequence=Ct}P.subType==="introduction"?((Oe=h.scripture)!=null&&Oe.blockGraft&&console.log("*** END INTRODUCTION"),pe.workspace.introductionGraft=!1):P.subType==="title"&&(pe.workspace.titleGraft=!1),(mt=h.scripture)!=null&&mt.blockGraft&&console.log("Block Graft End %o %o",re,P)}}],inlineGraft:[{description:"Inline graft",test:()=>!0,action:pe=>{var mt,Ct;const P=pe.context.sequences[0].element,re=pe.workspace;(mt=h.scripture)!=null&&mt.inlineGraft&&console.log("Inline Graft Type: %o, Subtype: %o, id: %o %o",P.type,P.subType,P.sequence.id,pe.context.sequences[0].element),Rt("inlineGraft",re);let Be=null;const Pe={type:P.type,subtype:P.subType,sequence:{}};if(P.subType==="xref"||P.subType==="footnote"){re.textType.push("footnote");const[qt,wu]=D(re,P);re.footnoteDiv=wu.cloneNode(!0),Be=qt}else P.subType==="note_caller"&&re.textType.push(P.subType);const Oe=re.currentSequence;if(re.currentSequence=Pe.sequence,pe.context.renderer.renderSequence(pe),re.currentSequence=Oe,P.subType==="xref"||P.subType==="footnote"){const qt=re.phraseDiv.cloneNode(!0);Be.appendChild(re.footnoteDiv),qt.appendChild(Be),re.phraseDiv=qt.cloneNode(!0),re.lastPhraseTerminated&&(re.phraseDiv=Se(re),re.lastPhraseTerminated=!1),re.textType.pop()}else P.subType==="note_caller"&&re.textType.pop();(Ct=h.scripture)!=null&&Ct.inlineGraft&&console.log("Inline Graft End")}}],startWrapper:[{description:"Start Wrapper",test:()=>!0,action:({context:pe,workspace:P})=>{var Pe,Oe;(Pe=h.scripture)!=null&&Pe.wrapper&&console.log("Start Wrapper %o",pe.sequences[0].element),Rt("startWrapper",P);let re=pe.sequences[0].element,Be=re.subType;switch(re.subType.startsWith("usfm:")&&(Be="usfm"),Be){case"verses":break;case"usfm":{let mt=re.subType.split(":")[1];if((Oe=h.scripture)!=null&&Oe.wrapper&&console.log("start wrapper usfmType: %o ",mt),mt==="fig"){let Ct=NP(re);Ct&&be(Ct,P)}else{if(P.textType.push("usfm"),mt==="w"){let Ct="";Kt(re.atts.lemma)&&(Ct=re.atts.lemma[0]),P.lemma=Ct}P.textType.includes("footnote")||P.lastPhraseTerminated===!0&&(P.phraseDiv=Se(P),P.lastPhraseTerminated=!1),P.usfmWrapperType=mt}break}case"cell":{P.textType.push("cell"),P.rowCellNumber++;const mt="tc"+P.rowCellNumber;P.tableCellElement=document.createElement("td"),P.tableCellElement.classList.add(mt);break}}}}],endWrapper:[{description:"End Wrapper",test:()=>!0,action:({context:pe,workspace:P})=>{var Pe;(Pe=h.scripture)!=null&&Pe.wrapper&&console.log("End Wrapper %o",pe.sequences[0].element),Rt("endWrapper",P);let re=pe.sequences[0].element,Be=re.subType;switch(re.subType.startsWith("usfm:")&&(Be="usfm"),Be){case"verses":break;case"usfm":{P.textType.pop(),re.subType.split(":")[1]==="fig"&&M()&&P.paragraphDiv.appendChild(P.figureDiv),P.usfmWrapperType="";break}case"cell":{P.textType.pop(),P.tableRowElement!=null&&P.tableRowElement.appendChild(P.tableCellElement);break}}}}],startMilestone:[{description:"Start Milestone",test:()=>!0,action:({context:pe,workspace:P})=>{var Be;(Be=h.scripture)!=null&&Be.milestone&&console.log("Start Milestone %o",pe.sequences[0].element),Rt("startMilestone",P);const re=pe.sequences[0].element;switch(re.subType){case"usfm:zvideo":{const Pe=re.atts.id[0],Oe=Qe.videos.find(mt=>mt.id===Pe);P.videoDiv=_F(document,Oe,P.currentVideoIndex++);break}case"usfm:zaudioc":{P.textType.push("audioc"),P.milestoneLink=decodeURIComponent(re.atts.link[0]),P.audioClips.push(P.milestoneLink);break}case"usfm:zreflink":{P.textType.push("reflink"),P.milestoneLink=decodeURIComponent(re.atts.link[0]);break}case"usfm:zweblink":{P.textType.push("weblink"),P.milestoneLink=decodeURIComponent(re.atts.link[0]);break}case"usfm:ztellink":{P.textType.push("tellink"),P.milestoneLink=decodeURIComponent(re.atts.link[0]);break}case"usfm:zelink":{P.textType.push("elink"),P.milestoneLink=decodeURIComponent(re.atts.link[0]);break}}}}],endMilestone:[{description:"End Milestone",test:()=>!0,action:({context:pe,workspace:P})=>{var Be;(Be=h.scripture)!=null&&Be.milestone&&console.log("End Milestone %o",pe.sequences[0].element),Rt("endMilestone",P);const re=pe.sequences[0].element;SP(P.textType,P.footnoteDiv,P.phraseDiv,P.milestoneText,P.milestoneLink,P.audioClips.length,re.subType),P.milestoneLink="",P.milestoneText=""}}],startRow:[{description:"Start Row",test:()=>!0,action:({context:pe,workspace:P})=>{var re;(re=h.scripture)!=null&&re.row&&console.log("Start Row %o",pe.sequences[0].element),Rt("startRow",P),P.inTable||(P.tableElement=document.createElement("table"),P.tableElement.setAttribute("cellpadding","5"),P.inTable=!0),P.inRow=!0,P.tableRowElement=document.createElement("tr")}}],endRow:[{description:"End Row",test:()=>!0,action:({context:pe,workspace:P})=>{var re;(re=h.scripture)!=null&&re.row&&console.log("End Row %o",pe.sequences[0].element),Rt("endRow",P),P.tableElement.appendChild(P.tableRowElement),P.rowCellNumber=0,P.inRow=!1}}]},debugLevel:0});performance.mark("pk-query-books-start");const Ue=G.gqlQuerySync('{documents { docSetId id bookCode: header(id: "bookCode")} }');performance.mark("pk-query-books-end"),performance.measure("pk-query-books-duration","pk-query-books-start","pk-query-books-end"),($t=h.scripture)!=null&&$t.docResult&&console.log("docsResult %o",Ue);const pt={};for(const pe of Ue.data.documents)pe.docSetId===V&&(pt[pe.bookCode]=pe.id);const vt=pt[Ae];performance.mark("cl-render-start"),Te(s)===0?Me.renderDocument({docId:vt,config:{},output:cu}):Me.renderDocument({docId:vt,config:{chapters:[ve]},output:cu}),performance.mark("cl-render-end"),performance.measure("cl-render-duration","cl-render-start","cl-render-end"),u(4,St=!1),(at=h.scripture)!=null&&at.root&&console.log("DONE %o",Je)};function Sr(V,Ae,ve){var ut;let $e=V.split("_")[1];return(ut=Qe.videos)==null?void 0:ut.filter(He=>He.placement&&He.placement.collection===$e&&(He.placement.ref.startsWith(Ae+" "+ve+":")||He.placement.ref.startsWith(Ae+"."+ve+".")))}function $r(V,Ae,ve){var ut;let $e=V.split("_")[1];return(ut=Qe.illustrations)==null?void 0:ut.filter(He=>He.placement&&He.placement.collection===$e&&(He.placement.ref.startsWith(Ae+" "+ve+":")||He.placement.ref.startsWith(Ae+"."+ve+".")))}function Zu(V){Cr[V?"unshift":"push"](()=>{Je=V,u(3,Je)})}function no(V){Cr[V?"unshift":"push"](()=>{z=V,u(2,z)})}return t.$$set=V=>{"audioPhraseEndChars"in V&&u(8,v=V.audioPhraseEndChars),"bodyFontSize"in V&&u(9,S=V.bodyFontSize),"bodyLineHeight"in V&&u(10,q=V.bodyLineHeight),"bookmarks"in V&&u(11,_=V.bookmarks),"notes"in V&&u(12,T=V.notes),"highlights"in V&&u(13,R=V.highlights),"maxSelections"in V&&u(14,L=V.maxSelections),"redLetters"in V&&u(15,J=V.redLetters),"references"in V&&u(16,U=V.references),"glossary"in V&&u(17,K=V.glossary),"selectedVerses"in V&&E(u(0,oe=V.selectedVerses)),"themeColors"in V&&u(18,Q=V.themeColors),"verseLayout"in V&&u(19,Ce=V.verseLayout),"viewShowBibleImages"in V&&u(20,X=V.viewShowBibleImages),"viewShowBibleVideos"in V&&u(21,Ee=V.viewShowBibleVideos),"viewShowIllustrations"in V&&u(22,ye=V.viewShowIllustrations),"viewShowVerses"in V&&u(23,we=V.viewShowVerses),"viewShowGlossaryWords"in V&&u(24,ae=V.viewShowGlossaryWords),"font"in V&&u(1,N=V.font),"proskomma"in V&&u(25,G=V.proskomma)},t.$$.update=()=>{t.$$.dirty[0]&256&&(r=I(v)),t.$$.dirty[0]&1|t.$$.dirty[1]&1&&DP(oe),t.$$.dirty[0]&512&&u(7,n=S+"px"),t.$$.dirty[0]&1024&&u(6,a=q+"%"),t.$$.dirty[0]&65536&&u(29,o=U.chapter),t.$$.dirty[0]&65536&&u(28,s=U.book),t.$$.dirty[0]&65536&&u(27,i=U.docSet),t.$$.dirty[0]&65536&&(l=bv(U)),t.$$.dirty[0]&524288&&u(26,c=Ce==="one-per-line"),t.$$.dirty[0]&134217728&&u(30,d=Jr.find(V=>V.id===i).documents),t.$$.dirty[0]&65536&&u(5,p=Qe.bookCollections.find(V=>V.id===U.collection).style.textDirection),t.$$.dirty[0]&2105587712&&(()=>{performance.mark("query-start");const V=d.find(j=>j.bookCode===s).hasIntroduction;let Ae=o;V&&Ae=="i"?(Ae="1",y=!0):y=!1;const ve=s,$e=Ae,ke=i,ut=Sr(ke,ve,$e),He=$r(ke,ve,$e);Nu(ke,ve,$e,we,ae,J,c,_,T,R,ut,He),performance.mark("query-end"),performance.measure("query-duration","query-start","query-end")})()},[oe,N,z,Je,St,p,a,n,v,S,q,_,T,R,L,J,U,K,Q,Ce,X,Ee,ye,we,ae,G,c,i,s,o,d,A,Zu,no]}class UP extends st{constructor(e){super(),it(this,e,LP,IP,ot,{audioPhraseEndChars:8,bodyFontSize:9,bodyLineHeight:10,bookmarks:11,notes:12,highlights:13,maxSelections:14,redLetters:15,references:16,glossary:17,selectedVerses:0,themeColors:18,verseLayout:19,viewShowBibleImages:20,viewShowBibleVideos:21,viewShowIllustrations:22,viewShowVerses:23,viewShowGlossaryWords:24,font:1,proskomma:25},null,[-1,-1,-1])}}function VP(t,e,u){var o,s;let r=!1;Qe.mainFeatures[t]!=null&&(r=Qe.mainFeatures[t]);const n=(o=Qe.bookCollections.find(i=>i.id===e))==null?void 0:o.features;n!=null&&n[t]!=null&&(r=n[t]);const a=(s=Qe.bookCollections.find(i=>i.id===e).books.find(i=>i.id===u))==null?void 0:s.features;return a!=null&&a[t]!=null&&(r=a[t]),r}function WP(t,e,u){var o,s;let r="";Qe.mainFeatures[t]!=null&&(r=Qe.mainFeatures[t]);const n=(o=Qe.bookCollections.find(i=>i.id===e))==null?void 0:o.features;n!=null&&n[t]!=null&&(r=n[t]);const a=(s=Qe.bookCollections.find(i=>i.id===e).books.find(i=>i.id===u))==null?void 0:s.features;return a!=null&&a[t]!=null&&(r=a[t]),r}const zP=300,GP=60,cl="none";function En(t,e,u){return t.addEventListener(e,u),()=>t.removeEventListener(e,u)}function HP(t,e){const u=t.getBoundingClientRect(),r=Math.abs(e[0].clientX-e[1].clientX),n=Math.abs(e[0].clientY-e[1].clientY),a=Math.min(e[0].clientX,e[1].clientX),o=Math.min(e[0].clientY,e[1].clientY),s=a+r/2,i=o+n/2,l=Math.round(s-u.left),c=Math.round(i-u.top);return{x:l,y:c}}function JP(t,e){return e.filter(u=>t.pointerId!==u.pointerId)}function Fa(t,e,u,r,n){t.dispatchEvent(new CustomEvent(`${e}${n}`,{detail:{event:u,pointersCount:r.length,target:u.target}}))}function mC(t,e,u,r,n,a=cl){e.style.touchAction=a;let o=[];function s(l){o.push(l),Fa(e,t,l,o,"down"),r==null||r(o,l);const c=l.pointerId;function d(C){c===C.pointerId&&(o=JP(C,o),o.length||p(),Fa(e,t,C,o,"up"),n==null||n(o,C))}function p(){h(),F(),g(),A()}const h=En(e,"pointermove",C=>{o=o.map(E=>C.pointerId===E.pointerId?C:E),Fa(e,t,C,o,"move"),u==null||u(o,C)}),F=En(e,"lostpointercapture",C=>{d(C)}),g=En(e,"pointerup",C=>{d(C)}),A=En(e,"pointerleave",C=>{o=[],p(),Fa(e,t,C,o,"up"),n==null||n(o,C)})}const i=En(e,"pointerdown",s);return{destroy:()=>{i()}}}function kF(t){return Math.hypot(t[0].clientX-t[1].clientX,t[0].clientY-t[1].clientY)}function ZP(t,e){const u={touchAction:cl,composed:!1,...e},r="pinch";let n,a=0,o;function s(c,d){c.length===1&&(n=void 0)}function i(c,d){c.length===2&&(a=kF(c),o=HP(t,c))}function l(c,d){if(c.length===2){const p=kF(c);if(n!==void 0&&p!==n){const h=p/a;t.dispatchEvent(new CustomEvent(r,{detail:{scale:h,center:o}}))}n=p}return!1}return u.composed?{onMove:l,onDown:i,onUp:null}:mC(r,t,l,i,s,u.touchAction)}function KP(t,e){const u={timeframe:zP,minSwipeDistance:GP,touchAction:cl,composed:!1,...e},r="swipe";let n,a,o,s;function i(c,d){a=d.clientX,o=d.clientY,n=Date.now(),c.length===1&&(s=d.target)}function l(c,d){if(d.type==="pointerup"&&c.length===0&&Date.now()-n<u.timeframe){const p=d.clientX-a,h=d.clientY-o,F=Math.abs(p),g=Math.abs(h);let A=null;F>=2*g&&F>u.minSwipeDistance?A=p>0?"right":"left":g>=2*F&&g>u.minSwipeDistance&&(A=h>0?"bottom":"top"),A&&t.dispatchEvent(new CustomEvent(r,{detail:{direction:A,target:s}}))}}return u.composed?{onMove:null,onDown:i,onUp:l}:mC(r,t,null,i,l,u.touchAction)}function QP(t,e,u,r){var n,a,o=!1,s=u.length>=2,i=(F,g,A)=>{if(n=g,s&&(a=F),!o){let C=e(F,g,A);if(e.length<2)g(C);else return C}o=!1},l=fA(t,i,r),c=!Array.isArray(t);function d(F){var g=u(F,a);c?(o=!0,t.set(g)):g.forEach((A,C)=>{o=!0,t[C].set(A)}),o=!1}var p=!1;function h(F){var g,A,C,E;if(p){E=F(ba(l)),n(E);return}var v=l.subscribe(S=>{p?g?A=!0:g=!0:C=S});E=F(C),p=!0,n(E),v(),p=!1,A&&(E=ba(l)),g&&d(E)}return{subscribe:l.subscribe,set(F){h(()=>F)},update:h}}const YP=20,wr=rm([]),ll=rm(null),ga=new Map,qF=t=>{if(ga.has(t))return;const e=setTimeout(()=>{ga.delete(t),CC(t)},1e3);ga.set(t,e)},XP=t=>{const e=ga.get(t);e&&clearTimeout(e)};function EC(t){t.id&&XP(t.id),wr.update(e=>e.map(u=>u.id===t.id?{...u,...t}:u))}function eI(t){wr.update(e=>[t,...e].slice(0,YP))}function tI(t){ba(wr).find(e=>e.id===t.id)?EC(t):eI(t)}function uI(t){wr.update(e=>(t?qF(t):e.forEach(u=>{qF(u.id)}),e.map(u=>u.id===t||t===void 0?{...u,visible:!1}:u)))}function CC(t){wr.update(e=>t===void 0?[]:e.filter(u=>u.id!==t))}function rI(t){ll.set(t)}function nI(t){let e;ll.update(u=>(e=t-(u||0),null)),wr.update(u=>u.map(r=>({...r,pauseDuration:r.pauseDuration+e})))}const aI={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3};function oI(t={}){return{toasts:QP(wr,u=>u.map(r=>{var n,a;return{...t,...t[r.type],...r,duration:r.duration||((n=t[r.type])==null?void 0:n.duration)||(t==null?void 0:t.duration)||aI[r.type],style:[t.style,(a=t[r.type])==null?void 0:a.style,r.style].join(";")}}),u=>u),pausedAt:ll}}const sI=t=>typeof t=="function",TF=(t,e)=>sI(t)?t(e):t,iI=(()=>{let t=0;return()=>(t+=1,t.toString())})(),AC=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){const e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),cI=(t,e="blank",u)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...u,id:(u==null?void 0:u.id)||iI()}),Jn=t=>(e,u)=>{const r=cI(e,t,u);return tI(r),r.id},fu=(t,e)=>Jn("blank")(t,e);fu.error=Jn("error");fu.success=Jn("success");fu.loading=Jn("loading");fu.custom=Jn("custom");fu.dismiss=t=>{uI(t)};fu.remove=t=>CC(t);fu.promise=(t,e,u)=>{const r=fu.loading(e.loading,{...u,...u==null?void 0:u.loading});return t.then(n=>(fu.success(TF(e.success,n),{id:r,...u,...u==null?void 0:u.success}),n)).catch(n=>{fu.error(TF(e.error,n),{id:r,...u,...u==null?void 0:u.error})}),t};function lI(t,e,u){const{reverseOrder:r,gutter:n=8,defaultPosition:a}=u||{},o=e.filter(c=>(c.position||a)===(t.position||a)&&c.height),s=o.findIndex(c=>c.id===t.id),i=o.filter((c,d)=>d<s&&c.visible).length;return o.filter(c=>c.visible).slice(...r?[i+1]:[0,i]).reduce((c,d)=>c+(d.height||0)+n,0)}const DI={startPause(){rI(Date.now())},endPause(){nI(Date.now())},updateHeight:(t,e)=>{EC({id:t,height:e})},calculateOffset:lI};function fI(t){const{toasts:e,pausedAt:u}=oI(t),r=new Map;let n;const a=[u.subscribe(o=>{if(o){for(const[,s]of r)clearTimeout(s);r.clear()}n=o}),e.subscribe(o=>{if(n)return;const s=Date.now();for(const i of o){if(r.has(i.id)||i.duration===1/0)continue;const l=(i.duration||0)+i.pauseDuration-(s-i.createdAt);if(l<0)return i.visible&&fu.dismiss(i.id),null;r.set(i.id,setTimeout(()=>fu.dismiss(i.id),l))}})];return JF(()=>{for(const o of a)o()}),{toasts:e,handlers:DI}}function dI(t){let e;return{c(){e=he("div"),this.h()},l(u){e=Fe(u,"DIV",{class:!0}),Y(e).forEach(O),this.h()},h(){B(e,"class","svelte-lzwg39"),_e(e,"--primary",t[0]),_e(e,"--secondary",t[1])},m(u,r){de(u,e,r)},p(u,[r]){r&1&&_e(e,"--primary",u[0]),r&2&&_e(e,"--secondary",u[1])},i:Ie,o:Ie,d(u){u&&O(e)}}}function pI(t,e,u){let{primary:r="#61d345"}=e,{secondary:n="#fff"}=e;return t.$$set=a=>{"primary"in a&&u(0,r=a.primary),"secondary"in a&&u(1,n=a.secondary)},[r,n]}class hI extends st{constructor(e){super(),it(this,e,pI,dI,ot,{primary:0,secondary:1})}}function FI(t){let e;return{c(){e=he("div"),this.h()},l(u){e=Fe(u,"DIV",{class:!0}),Y(e).forEach(O),this.h()},h(){B(e,"class","svelte-10jnndo"),_e(e,"--primary",t[0]),_e(e,"--secondary",t[1])},m(u,r){de(u,e,r)},p(u,[r]){r&1&&_e(e,"--primary",u[0]),r&2&&_e(e,"--secondary",u[1])},i:Ie,o:Ie,d(u){u&&O(e)}}}function mI(t,e,u){let{primary:r="#ff4b4b"}=e,{secondary:n="#fff"}=e;return t.$$set=a=>{"primary"in a&&u(0,r=a.primary),"secondary"in a&&u(1,n=a.secondary)},[r,n]}class EI extends st{constructor(e){super(),it(this,e,mI,FI,ot,{primary:0,secondary:1})}}function CI(t){let e;return{c(){e=he("div"),this.h()},l(u){e=Fe(u,"DIV",{class:!0}),Y(e).forEach(O),this.h()},h(){B(e,"class","svelte-bj4lu8"),_e(e,"--primary",t[0]),_e(e,"--secondary",t[1])},m(u,r){de(u,e,r)},p(u,[r]){r&1&&_e(e,"--primary",u[0]),r&2&&_e(e,"--secondary",u[1])},i:Ie,o:Ie,d(u){u&&O(e)}}}function AI(t,e,u){let{primary:r="#616161"}=e,{secondary:n="#e0e0e0"}=e;return t.$$set=a=>{"primary"in a&&u(0,r=a.primary),"secondary"in a&&u(1,n=a.secondary)},[r,n]}class vI extends st{constructor(e){super(),it(this,e,AI,CI,ot,{primary:0,secondary:1})}}function yI(t){let e,u,r,n;const a=[t[0]];let o={};for(let i=0;i<a.length;i+=1)o=Yr(o,a[i]);u=new vI({props:o});let s=t[2]!=="loading"&&PF(t);return{c(){e=he("div"),xe(u.$$.fragment),r=We(),s&&s.c(),this.h()},l(i){e=Fe(i,"DIV",{class:!0});var l=Y(e);Ge(u.$$.fragment,l),r=ze(l),s&&s.l(l),l.forEach(O),this.h()},h(){B(e,"class","indicator svelte-1c92bpz")},m(i,l){de(i,e,l),je(u,e,null),ue(e,r),s&&s.m(e,null),n=!0},p(i,l){const c=l&1?Xr(a,[kn(i[0])]):{};u.$set(c),i[2]!=="loading"?s?(s.p(i,l),l&4&&se(s,1)):(s=PF(i),s.c(),se(s,1),s.m(e,null)):s&&(bt(),le(s,1,1,()=>{s=null}),Bt())},i(i){n||(se(u.$$.fragment,i),se(s),n=!0)},o(i){le(u.$$.fragment,i),le(s),n=!1},d(i){i&&O(e),Ne(u),s&&s.d()}}}function gI(t){let e,u,r;var n=t[1];function a(o,s){return{}}return n&&(e=Ou(n,a())),{c(){e&&xe(e.$$.fragment),u=gt()},l(o){e&&Ge(e.$$.fragment,o),u=gt()},m(o,s){e&&je(e,o,s),de(o,u,s),r=!0},p(o,s){if(s&2&&n!==(n=o[1])){if(e){bt();const i=e;le(i.$$.fragment,1,0,()=>{Ne(i,1)}),Bt()}n?(e=Ou(n,a()),xe(e.$$.fragment),se(e.$$.fragment,1),je(e,u.parentNode,u)):e=null}},i(o){r||(e&&se(e.$$.fragment,o),r=!0)},o(o){e&&le(e.$$.fragment,o),r=!1},d(o){o&&O(u),e&&Ne(e,o)}}}function bI(t){let e,u;return{c(){e=he("div"),u=Pt(t[1]),this.h()},l(r){e=Fe(r,"DIV",{class:!0});var n=Y(e);u=It(n,t[1]),n.forEach(O),this.h()},h(){B(e,"class","animated svelte-1c92bpz")},m(r,n){de(r,e,n),ue(e,u)},p(r,n){n&2&&nu(u,r[1])},i:Ie,o:Ie,d(r){r&&O(e)}}}function PF(t){let e,u,r,n;const a=[_I,BI],o=[];function s(i,l){return i[2]==="error"?0:1}return u=s(t),r=o[u]=a[u](t),{c(){e=he("div"),r.c(),this.h()},l(i){e=Fe(i,"DIV",{class:!0});var l=Y(e);r.l(l),l.forEach(O),this.h()},h(){B(e,"class","status svelte-1c92bpz")},m(i,l){de(i,e,l),o[u].m(e,null),n=!0},p(i,l){let c=u;u=s(i),u===c?o[u].p(i,l):(bt(),le(o[c],1,1,()=>{o[c]=null}),Bt(),r=o[u],r?r.p(i,l):(r=o[u]=a[u](i),r.c()),se(r,1),r.m(e,null))},i(i){n||(se(r),n=!0)},o(i){le(r),n=!1},d(i){i&&O(e),o[u].d()}}}function BI(t){let e,u;const r=[t[0]];let n={};for(let a=0;a<r.length;a+=1)n=Yr(n,r[a]);return e=new hI({props:n}),{c(){xe(e.$$.fragment)},l(a){Ge(e.$$.fragment,a)},m(a,o){je(e,a,o),u=!0},p(a,o){const s=o&1?Xr(r,[kn(a[0])]):{};e.$set(s)},i(a){u||(se(e.$$.fragment,a),u=!0)},o(a){le(e.$$.fragment,a),u=!1},d(a){Ne(e,a)}}}function _I(t){let e,u;const r=[t[0]];let n={};for(let a=0;a<r.length;a+=1)n=Yr(n,r[a]);return e=new EI({props:n}),{c(){xe(e.$$.fragment)},l(a){Ge(e.$$.fragment,a)},m(a,o){je(e,a,o),u=!0},p(a,o){const s=o&1?Xr(r,[kn(a[0])]):{};e.$set(s)},i(a){u||(se(e.$$.fragment,a),u=!0)},o(a){le(e.$$.fragment,a),u=!1},d(a){Ne(e,a)}}}function wI(t){let e,u,r,n;const a=[bI,gI,yI],o=[];function s(i,l){return typeof i[1]=="string"?0:typeof i[1]<"u"?1:i[2]!=="blank"?2:-1}return~(e=s(t))&&(u=o[e]=a[e](t)),{c(){u&&u.c(),r=gt()},l(i){u&&u.l(i),r=gt()},m(i,l){~e&&o[e].m(i,l),de(i,r,l),n=!0},p(i,[l]){let c=e;e=s(i),e===c?~e&&o[e].p(i,l):(u&&(bt(),le(o[c],1,1,()=>{o[c]=null}),Bt()),~e?(u=o[e],u?u.p(i,l):(u=o[e]=a[e](i),u.c()),se(u,1),u.m(r.parentNode,r)):u=null)},i(i){n||(se(u),n=!0)},o(i){le(u),n=!1},d(i){i&&O(r),~e&&o[e].d(i)}}}function SI(t,e,u){let r,n,a,{toast:o}=e;return t.$$set=s=>{"toast"in s&&u(3,o=s.toast)},t.$$.update=()=>{t.$$.dirty&8&&u(2,{type:r,icon:n,iconTheme:a}=o,r,(u(1,n),u(3,o)),(u(0,a),u(3,o)))},[a,n,r,o]}class Dl extends st{constructor(e){super(),it(this,e,SI,wI,ot,{toast:3})}}function $I(t){let e,u,r;var n=t[0].message;function a(o,s){return{props:{toast:o[0]}}}return n&&(e=Ou(n,a(t))),{c(){e&&xe(e.$$.fragment),u=gt()},l(o){e&&Ge(e.$$.fragment,o),u=gt()},m(o,s){e&&je(e,o,s),de(o,u,s),r=!0},p(o,s){if(s&1&&n!==(n=o[0].message)){if(e){bt();const i=e;le(i.$$.fragment,1,0,()=>{Ne(i,1)}),Bt()}n?(e=Ou(n,a(o)),xe(e.$$.fragment),se(e.$$.fragment,1),je(e,u.parentNode,u)):e=null}else if(n){const i={};s&1&&(i.toast=o[0]),e.$set(i)}},i(o){r||(e&&se(e.$$.fragment,o),r=!0)},o(o){e&&le(e.$$.fragment,o),r=!1},d(o){o&&O(u),e&&Ne(e,o)}}}function kI(t){let e=t[0].message+"",u;return{c(){u=Pt(e)},l(r){u=It(r,e)},m(r,n){de(r,u,n)},p(r,n){n&1&&e!==(e=r[0].message+"")&&nu(u,e)},i:Ie,o:Ie,d(r){r&&O(u)}}}function qI(t){let e,u,r,n;const a=[kI,$I],o=[];function s(c,d){return typeof c[0].message=="string"?0:1}u=s(t),r=o[u]=a[u](t);let i=[{class:"message"},t[0].ariaProps],l={};for(let c=0;c<i.length;c+=1)l=Yr(l,i[c]);return{c(){e=he("div"),r.c(),this.h()},l(c){e=Fe(c,"DIV",{class:!0});var d=Y(e);r.l(d),d.forEach(O),this.h()},h(){yl(e,l),jt(e,"svelte-o805t1",!0)},m(c,d){de(c,e,d),o[u].m(e,null),n=!0},p(c,[d]){let p=u;u=s(c),u===p?o[u].p(c,d):(bt(),le(o[p],1,1,()=>{o[p]=null}),Bt(),r=o[u],r?r.p(c,d):(r=o[u]=a[u](c),r.c()),se(r,1),r.m(e,null)),yl(e,l=Xr(i,[{class:"message"},d&1&&c[0].ariaProps])),jt(e,"svelte-o805t1",!0)},i(c){n||(se(r),n=!0)},o(c){le(r),n=!1},d(c){c&&O(e),o[u].d()}}}function TI(t,e,u){let{toast:r}=e;return t.$$set=n=>{"toast"in n&&u(0,r=n.toast)},[r]}class ro extends st{constructor(e){super(),it(this,e,TI,qI,ot,{toast:0})}}const PI=t=>({toast:t&1}),IF=t=>({ToastIcon:Dl,ToastMessage:ro,toast:t[0]});function II(t){let e;const u=t[6].default,r=ZF(u,t,t[7],IF),n=r||RI(t);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,o){n&&n.m(a,o),e=!0},p(a,o){r?r.p&&(!e||o&129)&&KF(r,u,a,a[7],e?YF(u,a[7],o,PI):QF(a[7]),IF):n&&n.p&&(!e||o&1)&&n.p(a,e?o:-1)},i(a){e||(se(n,a),e=!0)},o(a){le(n,a),e=!1},d(a){n&&n.d(a)}}}function OI(t){let e,u,r;var n=t[2];function a(o,s){return{props:{$$slots:{message:[jI],icon:[xI]},$$scope:{ctx:o}}}}return n&&(e=Ou(n,a(t))),{c(){e&&xe(e.$$.fragment),u=gt()},l(o){e&&Ge(e.$$.fragment,o),u=gt()},m(o,s){e&&je(e,o,s),de(o,u,s),r=!0},p(o,s){if(s&4&&n!==(n=o[2])){if(e){bt();const i=e;le(i.$$.fragment,1,0,()=>{Ne(i,1)}),Bt()}n?(e=Ou(n,a(o)),xe(e.$$.fragment),se(e.$$.fragment,1),je(e,u.parentNode,u)):e=null}else if(n){const i={};s&129&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)}},i(o){r||(e&&se(e.$$.fragment,o),r=!0)},o(o){e&&le(e.$$.fragment,o),r=!1},d(o){o&&O(u),e&&Ne(e,o)}}}function RI(t){let e,u,r,n;return e=new Dl({props:{toast:t[0]}}),r=new ro({props:{toast:t[0]}}),{c(){xe(e.$$.fragment),u=We(),xe(r.$$.fragment)},l(a){Ge(e.$$.fragment,a),u=ze(a),Ge(r.$$.fragment,a)},m(a,o){je(e,a,o),de(a,u,o),je(r,a,o),n=!0},p(a,o){const s={};o&1&&(s.toast=a[0]),e.$set(s);const i={};o&1&&(i.toast=a[0]),r.$set(i)},i(a){n||(se(e.$$.fragment,a),se(r.$$.fragment,a),n=!0)},o(a){le(e.$$.fragment,a),le(r.$$.fragment,a),n=!1},d(a){a&&O(u),Ne(e,a),Ne(r,a)}}}function xI(t){let e,u;return e=new Dl({props:{toast:t[0],slot:"icon"}}),{c(){xe(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){je(e,r,n),u=!0},p(r,n){const a={};n&1&&(a.toast=r[0]),e.$set(a)},i(r){u||(se(e.$$.fragment,r),u=!0)},o(r){le(e.$$.fragment,r),u=!1},d(r){Ne(e,r)}}}function jI(t){let e,u;return e=new ro({props:{toast:t[0],slot:"message"}}),{c(){xe(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){je(e,r,n),u=!0},p(r,n){const a={};n&1&&(a.toast=r[0]),e.$set(a)},i(r){u||(se(e.$$.fragment,r),u=!0)},o(r){le(e.$$.fragment,r),u=!1},d(r){Ne(e,r)}}}function NI(t){let e,u,r,n,a,o;const s=[OI,II],i=[];function l(c,d){return c[2]?0:1}return u=l(t),r=i[u]=s[u](t),{c(){e=he("div"),r.c(),this.h()},l(c){e=Fe(c,"DIV",{class:!0,style:!0});var d=Y(e);r.l(d),d.forEach(O),this.h()},h(){B(e,"class",n="base "+(t[0].height?t[4]:"transparent")+" "+(t[0].className||"")+" svelte-15lyehg"),B(e,"style",a=t[1]+"; "+t[0].style),_e(e,"--factor",t[3])},m(c,d){de(c,e,d),i[u].m(e,null),o=!0},p(c,[d]){let p=u;u=l(c),u===p?i[u].p(c,d):(bt(),le(i[p],1,1,()=>{i[p]=null}),Bt(),r=i[u],r?r.p(c,d):(r=i[u]=s[u](c),r.c()),se(r,1),r.m(e,null)),(!o||d&17&&n!==(n="base "+(c[0].height?c[4]:"transparent")+" "+(c[0].className||"")+" svelte-15lyehg"))&&B(e,"class",n),(!o||d&3&&a!==(a=c[1]+"; "+c[0].style))&&B(e,"style",a);const h=d&3;(d&11||h)&&_e(e,"--factor",c[3])},i(c){o||(se(r),o=!0)},o(c){le(r),o=!1},d(c){c&&O(e),i[u].d()}}}function MI(t,e,u){let{$$slots:r={},$$scope:n}=e,{toast:a}=e,{position:o=void 0}=e,{style:s=""}=e,{Component:i=void 0}=e,l,c;return t.$$set=d=>{"toast"in d&&u(0,a=d.toast),"position"in d&&u(5,o=d.position),"style"in d&&u(1,s=d.style),"Component"in d&&u(2,i=d.Component),"$$scope"in d&&u(7,n=d.$$scope)},t.$$.update=()=>{if(t.$$.dirty&33){const d=(a.position||o||"top-center").includes("top");u(3,l=d?1:-1);const[p,h]=AC()?["fadeIn","fadeOut"]:["enter","exit"];u(4,c=a.visible?p:h)}},[a,s,i,l,c,o,r,n]}class LI extends st{constructor(e){super(),it(this,e,MI,NI,ot,{toast:0,position:5,style:1,Component:2})}}const UI=t=>({toast:t&1}),OF=t=>({toast:t[0]});function VI(t){let e;const u=t[8].default,r=ZF(u,t,t[7],OF),n=r||zI(t);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,o){n&&n.m(a,o),e=!0},p(a,o){r?r.p&&(!e||o&129)&&KF(r,u,a,a[7],e?YF(u,a[7],o,UI):QF(a[7]),OF):n&&n.p&&(!e||o&1)&&n.p(a,e?o:-1)},i(a){e||(se(n,a),e=!0)},o(a){le(n,a),e=!1},d(a){n&&n.d(a)}}}function WI(t){let e,u;return e=new ro({props:{toast:t[0]}}),{c(){xe(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){je(e,r,n),u=!0},p(r,n){const a={};n&1&&(a.toast=r[0]),e.$set(a)},i(r){u||(se(e.$$.fragment,r),u=!0)},o(r){le(e.$$.fragment,r),u=!1},d(r){Ne(e,r)}}}function zI(t){let e,u;return e=new LI({props:{toast:t[0],position:t[0].position}}),{c(){xe(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){je(e,r,n),u=!0},p(r,n){const a={};n&1&&(a.toast=r[0]),n&1&&(a.position=r[0].position),e.$set(a)},i(r){u||(se(e.$$.fragment,r),u=!0)},o(r){le(e.$$.fragment,r),u=!1},d(r){Ne(e,r)}}}function GI(t){let e,u,r,n;const a=[WI,VI],o=[];function s(i,l){return i[0].type==="custom"?0:1}return u=s(t),r=o[u]=a[u](t),{c(){e=he("div"),r.c(),this.h()},l(i){e=Fe(i,"DIV",{class:!0});var l=Y(e);r.l(l),l.forEach(O),this.h()},h(){B(e,"class","wrapper svelte-1pakgpd"),jt(e,"active",t[0].visible),jt(e,"transition",!AC()),_e(e,"--factor",t[3]),_e(e,"--offset",t[0].offset),_e(e,"top",t[5]),_e(e,"bottom",t[4]),_e(e,"justify-content",t[2])},m(i,l){de(i,e,l),o[u].m(e,null),t[9](e),n=!0},p(i,[l]){let c=u;u=s(i),u===c?o[u].p(i,l):(bt(),le(o[c],1,1,()=>{o[c]=null}),Bt(),r=o[u],r?r.p(i,l):(r=o[u]=a[u](i),r.c()),se(r,1),r.m(e,null)),(!n||l&1)&&jt(e,"active",i[0].visible),l&8&&_e(e,"--factor",i[3]),l&1&&_e(e,"--offset",i[0].offset),l&32&&_e(e,"top",i[5]),l&16&&_e(e,"bottom",i[4]),l&4&&_e(e,"justify-content",i[2])},i(i){n||(se(r),n=!0)},o(i){le(r),n=!1},d(i){i&&O(e),o[u].d(),t[9](null)}}}function HI(t,e,u){let r,n,a,o,{$$slots:s={},$$scope:i}=e,{toast:l}=e,{setHeight:c}=e,d;XF(()=>{c(d.getBoundingClientRect().height)});function p(h){Cr[h?"unshift":"push"](()=>{d=h,u(1,d)})}return t.$$set=h=>{"toast"in h&&u(0,l=h.toast),"setHeight"in h&&u(6,c=h.setHeight),"$$scope"in h&&u(7,i=h.$$scope)},t.$$.update=()=>{var h,F,g,A,C,E;t.$$.dirty&1&&u(5,r=(h=l.position)!=null&&h.includes("top")?0:null),t.$$.dirty&1&&u(4,n=(F=l.position)!=null&&F.includes("bottom")?0:null),t.$$.dirty&1&&u(3,a=(g=l.position)!=null&&g.includes("top")?1:-1),t.$$.dirty&1&&u(2,o=((A=l.position)==null?void 0:A.includes("center"))&&"center"||(((C=l.position)==null?void 0:C.includes("right"))||((E=l.position)==null?void 0:E.includes("end")))&&"flex-end"||null)},[l,d,o,a,n,r,c,i,s,p]}class JI extends st{constructor(e){super(),it(this,e,HI,GI,ot,{toast:0,setHeight:6})}}function RF(t,e,u){const r=t.slice();return r[11]=e[u],r}function xF(t,e){let u,r,n;function a(...o){return e[10](e[11],...o)}return r=new JI({props:{toast:e[11],setHeight:a}}),{key:t,first:null,c(){u=gt(),xe(r.$$.fragment),this.h()},l(o){u=gt(),Ge(r.$$.fragment,o),this.h()},h(){this.first=u},m(o,s){de(o,u,s),je(r,o,s),n=!0},p(o,s){e=o;const i={};s&4&&(i.toast=e[11]),s&4&&(i.setHeight=a),r.$set(i)},i(o){n||(se(r.$$.fragment,o),n=!0)},o(o){le(r.$$.fragment,o),n=!1},d(o){o&&O(u),Ne(r,o)}}}function ZI(t){let e,u=[],r=new Map,n,a,o,s,i=eu(t[2]);const l=c=>c[11].id;for(let c=0;c<i.length;c+=1){let d=RF(t,i,c),p=l(d);r.set(p,u[c]=xF(p,d))}return{c(){e=he("div");for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){e=Fe(c,"DIV",{class:!0,style:!0,role:!0});var d=Y(e);for(let p=0;p<u.length;p+=1)u[p].l(d);d.forEach(O),this.h()},h(){B(e,"class",n="toaster "+(t[1]||"")+" svelte-jyff3d"),B(e,"style",t[0]),B(e,"role","alert")},m(c,d){de(c,e,d);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(e,null);a=!0,o||(s=[Ye(e,"mouseenter",t[4].startPause),Ye(e,"mouseleave",t[4].endPause)],o=!0)},p(c,[d]){d&20&&(i=eu(c[2]),bt(),u=dA(u,d,l,1,c,i,r,e,pA,xF,null,RF),Bt()),(!a||d&2&&n!==(n="toaster "+(c[1]||"")+" svelte-jyff3d"))&&B(e,"class",n),(!a||d&1)&&B(e,"style",c[0])},i(c){if(!a){for(let d=0;d<i.length;d+=1)se(u[d]);a=!0}},o(c){for(let d=0;d<u.length;d+=1)le(u[d]);a=!1},d(c){c&&O(e);for(let d=0;d<u.length;d+=1)u[d].d();o=!1,gr(s)}}}function KI(t,e,u){let r,{reverseOrder:n=!1}=e,{position:a="top-center"}=e,{toastOptions:o=void 0}=e,{gutter:s=8}=e,{containerStyle:i=void 0}=e,{containerClassName:l=void 0}=e;const{toasts:c,handlers:d}=fI(o);Ve(t,c,F=>u(9,r=F));let p;const h=(F,g)=>d.updateHeight(F.id,g);return t.$$set=F=>{"reverseOrder"in F&&u(5,n=F.reverseOrder),"position"in F&&u(6,a=F.position),"toastOptions"in F&&u(7,o=F.toastOptions),"gutter"in F&&u(8,s=F.gutter),"containerStyle"in F&&u(0,i=F.containerStyle),"containerClassName"in F&&u(1,l=F.containerClassName)},t.$$.update=()=>{t.$$.dirty&864&&u(2,p=r.map(F=>({...F,position:F.position||a,offset:d.calculateOffset(F,r,{reverseOrder:n,gutter:s,defaultPosition:a})})))},[i,l,p,c,d,n,a,o,s,r,h]}class QI extends st{constructor(e){super(),it(this,e,KI,ZI,ot,{reverseOrder:5,position:6,toastOptions:7,gutter:8,containerStyle:0,containerClassName:1})}}function YI(t){let e,u,r,n,a,o,s,i,l,c=t[9]&&t[0].hasAudio&&t[0].hasAudio.timingFile&&jF(t),d=t[10]&&t[0].hasAudio&&t[0].hasAudio.timingFile&&NF(t),p=t[11]&&eO(t),h=t[13]&&tO(t),F=t[14]&&uO(t),g=t[12]&&rO(t),A=t[7]&&MF(t),C=t[6]&&LF(t);return{c(){c&&c.c(),e=We(),d&&d.c(),u=We(),p&&p.c(),r=We(),h&&h.c(),n=We(),F&&F.c(),a=We(),g&&g.c(),o=We(),A&&A.c(),s=We(),C&&C.c(),i=gt()},l(E){c&&c.l(E),e=ze(E),d&&d.l(E),u=ze(E),p&&p.l(E),r=ze(E),h&&h.l(E),n=ze(E),F&&F.l(E),a=ze(E),g&&g.l(E),o=ze(E),A&&A.l(E),s=ze(E),C&&C.l(E),i=gt()},m(E,v){c&&c.m(E,v),de(E,e,v),d&&d.m(E,v),de(E,u,v),p&&p.m(E,v),de(E,r,v),h&&h.m(E,v),de(E,n,v),F&&F.m(E,v),de(E,a,v),g&&g.m(E,v),de(E,o,v),A&&A.m(E,v),de(E,s,v),C&&C.m(E,v),de(E,i,v),l=!0},p(E,v){E[9]&&E[0].hasAudio&&E[0].hasAudio.timingFile?c?(c.p(E,v),v[0]&1&&se(c,1)):(c=jF(E),c.c(),se(c,1),c.m(e.parentNode,e)):c&&(bt(),le(c,1,1,()=>{c=null}),Bt()),E[10]&&E[0].hasAudio&&E[0].hasAudio.timingFile?d?(d.p(E,v),v[0]&1&&se(d,1)):(d=NF(E),d.c(),se(d,1),d.m(u.parentNode,u)):d&&(bt(),le(d,1,1,()=>{d=null}),Bt()),E[11]&&p.p(E,v),E[13]&&h.p(E,v),E[14]&&F.p(E,v),E[12]&&g.p(E,v),E[7]?A?(A.p(E,v),v[0]&128&&se(A,1)):(A=MF(E),A.c(),se(A,1),A.m(s.parentNode,s)):A&&(bt(),le(A,1,1,()=>{A=null}),Bt()),E[6]?C?(C.p(E,v),v[0]&64&&se(C,1)):(C=LF(E),C.c(),se(C,1),C.m(i.parentNode,i)):C&&(bt(),le(C,1,1,()=>{C=null}),Bt())},i(E){l||(se(c),se(d),se(p),se(h),se(F),se(g),se(A),se(C),l=!0)},o(E){le(c),le(d),le(p),le(h),le(F),le(g),le(A),le(C),l=!1},d(E){E&&(O(e),O(u),O(r),O(n),O(a),O(o),O(s),O(i)),c&&c.d(E),d&&d.d(E),p&&p.d(E),h&&h.d(E),F&&F.d(E),g&&g.d(E),A&&A.d(E),C&&C.d(E)}}}function XI(t){let e,u,r,n,a,o,s,i,l,c,d,p,h,F;return{c(){e=he("div"),u=he("div"),r=We(),n=he("div"),a=We(),o=he("div"),s=We(),i=he("div"),l=We(),c=he("div"),d=We(),p=he("div"),this.h()},l(g){e=Fe(g,"DIV",{class:!0});var A=Y(e);u=Fe(A,"DIV",{class:!0,role:!0}),Y(u).forEach(O),r=ze(A),n=Fe(A,"DIV",{class:!0,role:!0}),Y(n).forEach(O),a=ze(A),o=Fe(A,"DIV",{class:!0,role:!0}),Y(o).forEach(O),s=ze(A),i=Fe(A,"DIV",{class:!0,role:!0}),Y(i).forEach(O),l=ze(A),c=Fe(A,"DIV",{class:!0,role:!0}),Y(c).forEach(O),d=ze(A),p=Fe(A,"DIV",{class:!0,role:!0}),Y(p).forEach(O),A.forEach(O),this.h()},h(){B(u,"class","dy-btn-sm"),B(u,"role","button"),_e(u,"background-color",t[8].HighlighterPenYellow),_e(u,"border",t[5]),B(n,"class","dy-btn-sm"),B(n,"role","button"),_e(n,"background-color",t[8].HighlighterPenGreen),_e(n,"border",t[5]),B(o,"class","dy-btn-sm"),B(o,"role","button"),_e(o,"background-color",t[8].HighlighterPenBlue),_e(o,"border",t[5]),B(i,"class","dy-btn-sm"),B(i,"role","button"),_e(i,"background-color",t[8].HighlighterPenOrange),_e(i,"border",t[5]),B(c,"class","dy-btn-sm"),B(c,"role","button"),_e(c,"background-color",t[8].HighlighterPenPink),_e(c,"border",t[5]),B(p,"class","dy-btn-sm"),B(p,"role","button"),_e(p,"background-color","white"),_e(p,"border",t[5]),B(e,"class","pen-grid grid grid-rows-1 gap-2 my-2 svelte-nvcpa")},m(g,A){de(g,e,A),ue(e,u),ue(e,r),ue(e,n),ue(e,a),ue(e,o),ue(e,s),ue(e,i),ue(e,l),ue(e,c),ue(e,d),ue(e,p),h||(F=[Ye(u,"click",t[23]),Ye(n,"click",t[24]),Ye(o,"click",t[25]),Ye(i,"click",t[26]),Ye(c,"click",t[27]),Ye(p,"click",t[28])],h=!0)},p(g,A){A[0]&256&&_e(u,"background-color",g[8].HighlighterPenYellow),A[0]&32&&_e(u,"border",g[5]),A[0]&256&&_e(n,"background-color",g[8].HighlighterPenGreen),A[0]&32&&_e(n,"border",g[5]),A[0]&256&&_e(o,"background-color",g[8].HighlighterPenBlue),A[0]&32&&_e(o,"border",g[5]),A[0]&256&&_e(i,"background-color",g[8].HighlighterPenOrange),A[0]&32&&_e(i,"border",g[5]),A[0]&256&&_e(c,"background-color",g[8].HighlighterPenPink),A[0]&32&&_e(c,"border",g[5]),A[0]&32&&_e(p,"border",g[5])},i:Ie,o:Ie,d(g){g&&O(e),h=!1,gr(F)}}}function jF(t){let e,u,r,n,a;return u=new Zt.Play({props:{color:t[3]}}),{c(){e=he("button"),xe(u.$$.fragment),this.h()},l(o){e=Fe(o,"BUTTON",{class:!0});var s=Y(e);Ge(u.$$.fragment,s),s.forEach(O),this.h()},h(){B(e,"class","dy-btn-sm dy-btn-ghost")},m(o,s){de(o,e,s),je(u,e,null),r=!0,n||(a=Ye(e,"click",t[29]),n=!0)},p(o,s){const i={};s[0]&8&&(i.color=o[3]),u.$set(i)},i(o){r||(se(u.$$.fragment,o),r=!0)},o(o){le(u.$$.fragment,o),r=!1},d(o){o&&O(e),Ne(u),n=!1,a()}}}function NF(t){let e,u,r;return u=new Zt.PlayRepeat({props:{color:t[3]}}),{c(){e=he("button"),xe(u.$$.fragment),this.h()},l(n){e=Fe(n,"BUTTON",{class:!0});var a=Y(e);Ge(u.$$.fragment,a),a.forEach(O),this.h()},h(){B(e,"class","dy-btn-sm dy-btn-ghost")},m(n,a){de(n,e,a),je(u,e,null),r=!0},p(n,a){const o={};a[0]&8&&(o.color=n[3]),u.$set(o)},i(n){r||(se(u.$$.fragment,n),r=!0)},o(n){le(u.$$.fragment,n),r=!1},d(n){n&&O(e),Ne(u)}}}function eO(t){let e,u,r;return u=new iA.Image({props:{color:t[3]}}),{c(){e=he("button"),xe(u.$$.fragment),this.h()},l(n){e=Fe(n,"BUTTON",{class:!0});var a=Y(e);Ge(u.$$.fragment,a),a.forEach(O),this.h()},h(){B(e,"class","dy-btn-sm dy-btn-ghost")},m(n,a){de(n,e,a),je(u,e,null),r=!0},p(n,a){const o={};a[0]&8&&(o.color=n[3]),u.$set(o)},i(n){r||(se(u.$$.fragment,n),r=!0)},o(n){le(u.$$.fragment,n),r=!1},d(n){n&&O(e),Ne(u)}}}function tO(t){let e,u,r,n,a;return u=new cA({props:{color:t[3]}}),{c(){e=he("button"),xe(u.$$.fragment),this.h()},l(o){e=Fe(o,"BUTTON",{class:!0});var s=Y(e);Ge(u.$$.fragment,s),s.forEach(O),this.h()},h(){B(e,"class","dy-btn-sm dy-btn-ghost")},m(o,s){de(o,e,s),je(u,e,null),r=!0,n||(a=Ye(e,"click",t[30]),n=!0)},p(o,s){const i={};s[0]&8&&(i.color=o[3]),u.$set(i)},i(o){r||(se(u.$$.fragment,o),r=!0)},o(o){le(u.$$.fragment,o),r=!1},d(o){o&&O(e),Ne(u),n=!1,a()}}}function uO(t){let e,u,r,n,a;return u=new EA({props:{color:t[3]}}),{c(){e=he("button"),xe(u.$$.fragment),this.h()},l(o){e=Fe(o,"BUTTON",{class:!0});var s=Y(e);Ge(u.$$.fragment,s),s.forEach(O),this.h()},h(){B(e,"class","dy-btn-sm dy-btn-ghost")},m(o,s){de(o,e,s),je(u,e,null),r=!0,n||(a=Ye(e,"click",t[31]),n=!0)},p(o,s){const i={};s[0]&8&&(i.color=o[3]),u.$set(i)},i(o){r||(se(u.$$.fragment,o),r=!0)},o(o){le(u.$$.fragment,o),r=!1},d(o){o&&O(e),Ne(u),n=!1,a()}}}function rO(t){let e,u,r,n,a,o;const s=[aO,nO],i=[];function l(c,d){return c[1]>=0?0:1}return u=l(t),r=i[u]=s[u](t),{c(){e=he("button"),r.c(),this.h()},l(c){e=Fe(c,"BUTTON",{class:!0});var d=Y(e);r.l(d),d.forEach(O),this.h()},h(){B(e,"class","dy-btn-sm dy-btn-ghost")},m(c,d){de(c,e,d),i[u].m(e,null),n=!0,a||(o=Ye(e,"click",t[32]),a=!0)},p(c,d){let p=u;u=l(c),u===p?i[u].p(c,d):(bt(),le(i[p],1,1,()=>{i[p]=null}),Bt(),r=i[u],r?r.p(c,d):(r=i[u]=s[u](c),r.c()),se(r,1),r.m(e,null))},i(c){n||(se(r),n=!0)},o(c){le(r),n=!1},d(c){c&&O(e),i[u].d(),a=!1,o()}}}function nO(t){let e,u;return e=new gA({props:{color:t[3]}}),{c(){xe(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){je(e,r,n),u=!0},p(r,n){const a={};n[0]&8&&(a.color=r[3]),e.$set(a)},i(r){u||(se(e.$$.fragment,r),u=!0)},o(r){le(e.$$.fragment,r),u=!1},d(r){Ne(e,r)}}}function aO(t){let e,u;return e=new mA({props:{color:"#b10000"}}),{c(){xe(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){je(e,r,n),u=!0},p:Ie,i(r){u||(se(e.$$.fragment,r),u=!0)},o(r){le(e.$$.fragment,r),u=!1},d(r){Ne(e,r)}}}function MF(t){let e,u,r,n,a;return u=new SA({props:{color:t[3]}}),{c(){e=he("button"),xe(u.$$.fragment),this.h()},l(o){e=Fe(o,"BUTTON",{class:!0});var s=Y(e);Ge(u.$$.fragment,s),s.forEach(O),this.h()},h(){B(e,"class","dy-btn-sm dy-btn-ghost")},m(o,s){de(o,e,s),je(u,e,null),r=!0,n||(a=Ye(e,"click",t[18]),n=!0)},p(o,s){const i={};s[0]&8&&(i.color=o[3]),u.$set(i)},i(o){r||(se(u.$$.fragment,o),r=!0)},o(o){le(u.$$.fragment,o),r=!1},d(o){o&&O(e),Ne(u),n=!1,a()}}}function LF(t){let e,u,r,n,a;return u=new oA({props:{color:t[3]}}),{c(){e=he("button"),xe(u.$$.fragment),this.h()},l(o){e=Fe(o,"BUTTON",{class:!0});var s=Y(e);Ge(u.$$.fragment,s),s.forEach(O),this.h()},h(){B(e,"class","dy-btn-sm dy-btn-ghost")},m(o,s){de(o,e,s),je(u,e,null),r=!0,n||(a=Ye(e,"click",t[19]),n=!0)},p(o,s){const i={};s[0]&8&&(i.color=o[3]),u.$set(i)},i(o){r||(se(u.$$.fragment,o),r=!0)},o(o){le(u.$$.fragment,o),r=!1},d(o){o&&O(e),Ne(u),n=!1,a()}}}function oO(t){let e,u,r,n,a,o,s,i;e=new QI({});const l=[XI,YI],c=[];function d(p,h){return p[2]?0:1}return o=d(t),s=c[o]=l[o](t),{c(){xe(e.$$.fragment),u=We(),r=he("div"),n=he("div"),a=he("div"),s.c(),this.h()},l(p){Ge(e.$$.fragment,p),u=ze(p),r=Fe(p,"DIV",{class:!0});var h=Y(r);n=Fe(h,"DIV",{class:!0});var F=Y(n);a=Fe(F,"DIV",{class:!0});var g=Y(a);s.l(g),g.forEach(O),F.forEach(O),h.forEach(O),this.h()},h(){B(a,"class","dy-btn-group place-self-center"),B(n,"class","flex flex-col justify-center w-11/12 flex-grow"),B(r,"class","h-12 bg-base-100 mx-auto flex items-center flex-col"),_e(r,"background-color",t[4])},m(p,h){je(e,p,h),de(p,u,h),de(p,r,h),ue(r,n),ue(n,a),c[o].m(a,null),i=!0},p(p,h){let F=o;o=d(p),o===F?c[o].p(p,h):(bt(),le(c[F],1,1,()=>{c[F]=null}),Bt(),s=c[o],s?s.p(p,h):(s=c[o]=l[o](p),s.c()),se(s,1),s.m(a,null)),h[0]&16&&_e(r,"background-color",p[4])},i(p){i||(se(e.$$.fragment,p),se(s),i=!0)},o(p){le(e.$$.fragment,p),le(s),i=!1},d(p){p&&(O(u),O(r)),Ne(e,p),c[o].d()}}}function sO(t,e,u){var z,y,I,H,me,De;let r,n,a,o,s,i,l,c,d,p,h,F;Ve(t,rr,ce=>u(20,i=ce)),Ve(t,lu,ce=>u(21,l=ce)),Ve(t,ja,ce=>u(33,c=ce)),Ve(t,An,ce=>u(34,d=ce)),Ve(t,RC,ce=>u(22,p=ce)),Ve(t,Ut,ce=>u(0,h=ce)),Ve(t,Sn,ce=>u(8,F=ce));const g=(z=Qe)==null?void 0:z.mainFeatures["text-select-play-audio"],A=(y=Qe)==null?void 0:y.mainFeatures["audio-repeat-selection-button"],C=(I=Qe)==null?void 0:I.mainFeatures["text-on-image"],E=(H=Qe)==null?void 0:H.mainFeatures["annotation-bookmarks"],v=(me=Qe)==null?void 0:me.mainFeatures["annotation-highlights"],S=(De=Qe)==null?void 0:De.mainFeatures["annotation-notes"];let q=-1,_=!1;async function T(ce){u(1,q=await xC({collection:ce[0].collection,book:ce[0].book,chapter:ce[0].chapter,verse:ce[0].verse}))}async function R(){if(q===-1){const ce=await lu.getVerseTextByIndex(0);await jC({docSet:l[0].docSet,collection:l[0].collection,book:l[0].book,chapter:l[0].chapter,verse:l[0].verse,text:ce,reference:l[0].reference})}else await NC(q);lu.reset()}async function L(ce){ce==6?await MC(l):await LC(ce,l,lu.getVerseTextByIndex),lu.reset()}function J(){const Se=l[0].verse+"a";a0(Se),en(),zt(An,d=!0,d),lu.reset()}async function U(){var ce=await lu.getCompositeText()+`
`+lu.getCompositeReference();navigator.clipboard.writeText(ce),fu(c.Text_Copied,{position:"bottom-right"}),lu.reset()}async function K(){const ce=l[0].book,Se=lu.getCompositeReference(),Re=await lu.getCompositeText();CA(Qe.name,Qe.name+`

`+Re+`
`+Se,ce+".txt")}const oe=()=>L(1),Q=()=>L(2),Ce=()=>L(3),X=()=>L(4),Ee=()=>L(5),ye=()=>L(6),we=()=>J(),ae=()=>u(2,_=!0),N=()=>ma.open(UC),G=async function(){await R()};return t.$$.update=()=>{t.$$.dirty[0]&1&&u(7,r=Qe.bookCollections.find(ce=>ce.id===h.collection).features["bc-allow-copy-text"]),t.$$.dirty[0]&1&&u(6,n=Qe.bookCollections.find(ce=>ce.id===h.collection).features["bc-allow-share-text"]),t.$$.dirty[0]&2097152&&T(l),t.$$.dirty[0]&4194304&&u(5,a="1px solid "+(p==="Dark"?"#FFFFFF":"#888888")),t.$$.dirty[0]&1048576&&u(4,o=i["ui.bar.text-select"]["background-color"]),t.$$.dirty[0]&1048576&&u(3,s=i["ui.bar.text-select.icon"].color)},[h,q,_,s,o,a,n,r,F,g,A,C,E,v,S,R,L,J,U,K,i,l,p,oe,Q,Ce,X,Ee,ye,we,ae,N,G]}class iO extends st{constructor(e){super(),it(this,e,sO,oO,ot,{},null,[-1,-1])}}function cO(t){let e,u,r,n,a,o;return u=new Dv({}),n=new Ev({}),{c(){e=he("div"),xe(u.$$.fragment),r=We(),xe(n.$$.fragment),this.h()},l(s){e=Fe(s,"DIV",{slot:!0,class:!0});var i=Y(e);Ge(u.$$.fragment,i),r=ze(i),Ge(n.$$.fragment,i),i.forEach(O),this.h()},h(){B(e,"slot","left-buttons"),B(e,"class",a=t[2]?"hidden md:flex flex-nowrap":"flex flex-nowrap")},m(s,i){de(s,e,i),je(u,e,null),ue(e,r),je(n,e,null),o=!0},p(s,i){(!o||i[0]&4&&a!==(a=s[2]?"hidden md:flex flex-nowrap":"flex flex-nowrap"))&&B(e,"class",a)},i(s){o||(se(u.$$.fragment,s),se(n.$$.fragment,s),o=!0)},o(s){le(u.$$.fragment,s),le(n.$$.fragment,s),o=!1},d(s){s&&O(e),Ne(u),Ne(n)}}}function UF(t){let e,u,r,n,a,o;const s=[DO,lO],i=[];function l(c,d){return c[9]?0:1}return u=l(t),r=i[u]=s[u](t),{c(){e=he("button"),r.c(),this.h()},l(c){e=Fe(c,"BUTTON",{class:!0});var d=Y(e);r.l(d),d.forEach(O),this.h()},h(){B(e,"class","dy-btn dy-btn-ghost dy-btn-circle")},m(c,d){de(c,e,d),i[u].m(e,null),n=!0,a||(o=Ye(e,"click",t[42]),a=!0)},p(c,d){let p=u;u=l(c),u!==p&&(bt(),le(i[p],1,1,()=>{i[p]=null}),Bt(),r=i[u],r||(r=i[u]=s[u](c),r.c()),se(r,1),r.m(e,null))},i(c){n||(se(r),n=!0)},o(c){le(r),n=!1},d(c){c&&O(e),i[u].d(),a=!1,o()}}}function lO(t){let e,u;return e=new Zt.Mute({props:{color:"white"}}),{c(){xe(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){je(e,r,n),u=!0},i(r){u||(se(e.$$.fragment,r),u=!0)},o(r){le(e.$$.fragment,r),u=!1},d(r){Ne(e,r)}}}function DO(t){let e,u;return e=new Zt.Volume({props:{color:"white"}}),{c(){xe(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){je(e,r,n),u=!0},i(r){u||(se(e.$$.fragment,r),u=!0)},o(r){le(e.$$.fragment,r),u=!1},d(r){Ne(e,r)}}}function fO(t){let e,u,r;return u=new hA({props:{color:"white"}}),{c(){e=he("a"),xe(u.$$.fragment),this.h()},l(n){e=Fe(n,"A",{href:!0,class:!0});var a=Y(e);Ge(u.$$.fragment,a),a.forEach(O),this.h()},h(){B(e,"href",Ba+"/search"),B(e,"class","dy-btn dy-btn-ghost dy-btn-circle")},m(n,a){de(n,e,a),je(u,e,null),r=!0},i(n){r||(se(u.$$.fragment,n),r=!0)},o(n){le(u.$$.fragment,n),r=!1},d(n){n&&O(e),Ne(u)}}}function dO(t){let e,u,r,n,a;return u=new DA({props:{color:"white"}}),{c(){e=he("label"),xe(u.$$.fragment),this.h()},l(o){e=Fe(o,"LABEL",{for:!0,class:!0});var s=Y(e);Ge(u.$$.fragment,s),s.forEach(O),this.h()},h(){B(e,"for","collectionSelector"),B(e,"class","dy-btn dy-btn-ghost p-0.5 dy-no-animation")},m(o,s){de(o,e,s),je(u,e,null),r=!0,n||(a=Ye(e,"click",t[44]),n=!0)},i(o){r||(se(u.$$.fragment,o),r=!0)},o(o){le(u.$$.fragment,o),r=!1},d(o){o&&O(e),Ne(u),n=!1,a()}}}function VF(t){let e,u,r,n,a,o;const s=[hO,pO],i=[];function l(c,d){return c[2]===(c[10]==="ltr")?0:1}return u=l(t),r=i[u]=s[u](t),{c(){e=he("button"),r.c(),this.h()},l(c){e=Fe(c,"BUTTON",{class:!0});var d=Y(e);r.l(d),d.forEach(O),this.h()},h(){B(e,"class","md:hidden dy-btn dy-btn-ghost dy-btn-circle")},m(c,d){de(c,e,d),i[u].m(e,null),n=!0,a||(o=Ye(e,"click",t[45]),a=!0)},p(c,d){let p=u;u=l(c),u!==p&&(bt(),le(i[p],1,1,()=>{i[p]=null}),Bt(),r=i[u],r||(r=i[u]=s[u](c),r.c()),se(r,1),r.m(e,null))},i(c){n||(se(r),n=!0)},o(c){le(r),n=!1},d(c){c&&O(e),i[u].d(),a=!1,o()}}}function pO(t){let e,u;return e=new qA({props:{color:"white",scale:1.25}}),{c(){xe(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){je(e,r,n),u=!0},i(r){u||(se(e.$$.fragment,r),u=!0)},o(r){le(e.$$.fragment,r),u=!1},d(r){Ne(e,r)}}}function hO(t){let e,u;return e=new IA({props:{color:"white",scale:1.25}}),{c(){xe(e.$$.fragment)},l(r){Ge(e.$$.fragment,r)},m(r,n){je(e,r,n),u=!0},i(r){u||(se(e.$$.fragment,r),u=!0)},o(r){le(e.$$.fragment,r),u=!1},d(r){Ne(e,r)}}}function FO(t){let e,u,r,n,a,o,s,i,l,c,d,p,h,F=t[0].hasAudio&&t[24]&&UF(t);o=new lA({props:{color:"white"}});let g=t[20]&&fO(),A=t[22]&&t[21]&&dO(t),C=t[3]&&VF(t);return{c(){e=he("div"),u=he("div"),F&&F.c(),r=We(),n=he("div"),a=he("label"),xe(o.$$.fragment),s=We(),g&&g.c(),i=We(),A&&A.c(),c=We(),C&&C.c(),this.h()},l(E){e=Fe(E,"DIV",{slot:!0,class:!0});var v=Y(e);u=Fe(v,"DIV",{class:!0});var S=Y(u);F&&F.l(S),S.forEach(O),r=ze(v),n=Fe(v,"DIV",{id:!0,class:!0});var q=Y(n);a=Fe(q,"LABEL",{for:!0,class:!0});var _=Y(a);Ge(o.$$.fragment,_),_.forEach(O),s=ze(q),g&&g.l(q),i=ze(q),A&&A.l(q),q.forEach(O),c=ze(v),C&&C.l(v),v.forEach(O),this.h()},h(){B(u,"class","flex"),B(a,"for","textAppearanceSelector"),B(a,"class","dy-btn dy-btn-ghost p-0.5 dy-no-animation"),B(n,"id","extraButtons"),B(n,"class",l=t[2]?"flex":"hidden md:flex"),B(e,"slot","right-buttons"),B(e,"class","flex flex-nowrap")},m(E,v){de(E,e,v),ue(e,u),F&&F.m(u,null),ue(e,r),ue(e,n),ue(n,a),je(o,a,null),ue(n,s),g&&g.m(n,null),ue(n,i),A&&A.m(n,null),ue(e,c),C&&C.m(e,null),d=!0,p||(h=[Ye(a,"click",t[43]),Ye(e,"click",function(){aA(t[2]?t[25]:WF)&&(t[2]?t[25]:WF).apply(this,arguments)})],p=!0)},p(E,v){t=E,t[0].hasAudio&&t[24]?F?(F.p(t,v),v[0]&1&&se(F,1)):(F=UF(t),F.c(),se(F,1),F.m(u,null)):F&&(bt(),le(F,1,1,()=>{F=null}),Bt()),(!d||v[0]&4&&l!==(l=t[2]?"flex":"hidden md:flex"))&&B(n,"class",l),t[3]?C?(C.p(t,v),v[0]&8&&se(C,1)):(C=VF(t),C.c(),se(C,1),C.m(e,null)):C&&(bt(),le(C,1,1,()=>{C=null}),Bt())},i(E){d||(se(F),se(o.$$.fragment,E),se(g),se(A),se(C),d=!0)},o(E){le(F),le(o.$$.fragment,E),le(g),le(A),le(C),d=!1},d(E){E&&O(e),F&&F.d(),Ne(o),g&&g.d(),A&&A.d(),C&&C.d(),p=!1,gr(h)}}}function mO(t){var s;let e,u=((s=Qe.bookCollections.find(t[46]))==null?void 0:s.collectionAbbreviation)+"",r,n,a,o;return{c(){e=he("div"),r=Pt(u),this.h()},l(i){e=Fe(i,"DIV",{class:!0,style:!0});var l=Y(e);r=It(l,u),l.forEach(O),this.h()},h(){B(e,"class","absolute dy-badge dy-badge-outline dy-badge-md rounded-sm p-1 end-3 m-1 cursor-pointer"),B(e,"style",n=Du(t[11]["ui.pane1.name"])),_e(e,"top",t[26]),_e(e,"background-color",Du(t[11]["ui.pane1"]))},m(i,l){de(i,e,l),ue(e,r),a||(o=Ye(e,"click",t[47]),a=!0)},p(i,l){var d;l[0]&1&&u!==(u=((d=Qe.bookCollections.find(i[46]))==null?void 0:d.collectionAbbreviation)+"")&&nu(r,u),l[0]&2048&&n!==(n=Du(i[11]["ui.pane1.name"]))&&B(e,"style",n);const c=l[0]&2048;(l[0]&2048||c)&&_e(e,"top",i[26]),(l[0]&2048||c)&&_e(e,"background-color",Du(i[11]["ui.pane1"]))},d(i){i&&O(e),a=!1,o()}}}function EO(t){let e,u,r,n;return r=new uv({}),{c(){e=he("div"),u=he("div"),xe(r.$$.fragment),this.h()},l(a){e=Fe(a,"DIV",{class:!0});var o=Y(e);u=Fe(o,"DIV",{});var s=Y(u);Ge(r.$$.fragment,s),s.forEach(O),o.forEach(O),this.h()},h(){B(e,"class","audio-bar p-0 svelte-1s9r6o0"),jt(e,"audio-bar-desktop",t[14])},m(a,o){de(a,e,o),ue(e,u),je(r,u,null),n=!0},p(a,o){(!n||o[0]&16384)&&jt(e,"audio-bar-desktop",a[14])},i(a){n||(se(r.$$.fragment,a),n=!0)},o(a){le(r.$$.fragment,a),n=!1},d(a){a&&O(e),Ne(r)}}}function CO(t){let e,u,r;return u=new iO({}),{c(){e=he("div"),xe(u.$$.fragment),this.h()},l(n){e=Fe(n,"DIV",{class:!0});var a=Y(e);Ge(u.$$.fragment,a),a.forEach(O),this.h()},h(){B(e,"class","text-selection")},m(n,a){de(n,e,a),je(u,e,null),r=!0},p:Ie,i(n){r||(se(u.$$.fragment,n),r=!0)},o(n){le(u.$$.fragment,n),r=!1},d(n){n&&O(e),Ne(u)}}}function AO(t){let e,u,r,n,a,o,s,i,l,c,d,p,h,F,g,A,C,E,v,S,q,_,T,R,L,J,U,K,oe,Q,Ce;r=new FA({props:{$$slots:{"right-buttons":[FO],"left-buttons":[cO]},$$scope:{ctx:t}}});let X=t[23]&&t[21]&&mO(t);c=new bl({props:{size:36,color:"gray",deg:t[10]==="ltr"?180:0}});const Ee=[t[5]];let ye={};for(let y=0;y<Ee.length;y+=1)ye=Yr(ye,Ee[y]);C=new UP({props:ye}),q=new bl({props:{size:36,color:"gray",deg:t[10]==="ltr"?0:180}});const we=[t[4]];let ae={};for(let y=0;y<we.length;y+=1)ae=Yr(ae,we[y]);L=new Mv({props:ae});const N=[CO,EO],G=[];function z(y,I){return y[12].length>0&&!y[13].playing?0:y[0].hasAudio&&y[9]?1:-1}return~(U=z(t))&&(K=G[U]=N[U](t)),{c(){e=he("div"),u=he("div"),xe(r.$$.fragment),n=We(),X&&X.c(),a=We(),o=he("div"),s=he("div"),i=he("div"),l=he("button"),xe(c.$$.fragment),p=We(),h=he("div"),F=he("div"),g=he("main"),A=he("div"),xe(C.$$.fragment),E=We(),v=he("div"),S=he("button"),xe(q.$$.fragment),T=We(),R=he("div"),xe(L.$$.fragment),J=We(),K&&K.c(),this.h()},l(y){e=Fe(y,"DIV",{class:!0,style:!0});var I=Y(e);u=Fe(I,"DIV",{class:!0});var H=Y(u);Ge(r.$$.fragment,H),H.forEach(O),n=ze(I),X&&X.l(I),a=ze(I),o=Fe(I,"DIV",{class:!0});var me=Y(o);s=Fe(me,"DIV",{class:!0});var De=Y(s);i=Fe(De,"DIV",{class:!0});var ce=Y(i);l=Fe(ce,"BUTTON",{class:!0});var Se=Y(l);Ge(c.$$.fragment,Se),Se.forEach(O),ce.forEach(O),p=ze(De),h=Fe(De,"DIV",{class:!0});var Re=Y(h);F=Fe(Re,"DIV",{class:!0});var ct=Y(F);g=Fe(ct,"MAIN",{});var Xe=Y(g);A=Fe(Xe,"DIV",{class:!0});var rt=Y(A);Ge(C.$$.fragment,rt),rt.forEach(O),Xe.forEach(O),ct.forEach(O),Re.forEach(O),E=ze(De),v=Fe(De,"DIV",{class:!0});var At=Y(v);S=Fe(At,"BUTTON",{class:!0});var ft=Y(S);Ge(q.$$.fragment,ft),ft.forEach(O),At.forEach(O),De.forEach(O),me.forEach(O),T=ze(I),R=Fe(I,"DIV",{class:!0});var dt=Y(R);Ge(L.$$.fragment,dt),dt.forEach(O),J=ze(I),K&&K.l(I),I.forEach(O),this.h()},h(){B(u,"class","navbar"),B(l,"class",d="fixed top-1/2 dy-btn dy-btn-circle dy-btn-ghost "+(t[8]?"visible":"invisible")),B(i,"class","hidden md:flex basis-1/12 justify-center"),B(A,"class","max-w-screen-md mx-auto"),B(F,"class","p-2 w-full"),B(h,"class","basis-5/6 max-w-screen-md"),B(S,"class",_="fixed mx-auto top-1/2 dy-btn dy-btn-circle dy-btn-ghost "+(t[7]?"visible":"invisible")),B(v,"class","hidden basis-1/12 md:flex justify-center"),B(s,"class","flex flex-row mx-auto justify-center"),_e(s,"direction",t[10]),B(o,"class","overflow-y-auto svelte-1s9r6o0"),jt(o,"borderimg",t[6]),B(R,"class","flex justify-center"),B(e,"class","grid grid-rows-[auto,1fr,auto]"),_e(e,"height","100vh"),_e(e,"height","100dvh")},m(y,I){de(y,e,I),ue(e,u),je(r,u,null),ue(e,n),X&&X.m(e,null),ue(e,a),ue(e,o),ue(o,s),ue(s,i),ue(i,l),je(c,l,null),ue(s,p),ue(s,h),ue(h,F),ue(F,g),ue(g,A),je(C,A,null),ue(s,E),ue(s,v),ue(v,S),je(q,S,null),t[48](o),ue(e,T),ue(e,R),je(L,R,null),ue(e,J),~U&&G[U].m(e,null),oe=!0,Q||(Ce=[Ye(l,"click",t[17]),gl(ZP.call(null,A)),Ye(A,"pinch",t[19]),gl(KP.call(null,A,{timeframe:300,minSwipeDistance:60,touchAction:"pan-y"})),Ye(A,"swipe",t[16]),Ye(S,"click",t[18]),Ye(o,"scroll",t[15])],Q=!0)},p(y,I){const H={};I[0]&1549|I[2]&4&&(H.$$scope={dirty:I,ctx:y}),r.$set(H),y[23]&&y[21]&&X.p(y,I);const me={};I[0]&1024&&(me.deg=y[10]==="ltr"?180:0),c.$set(me),(!oe||I[0]&256&&d!==(d="fixed top-1/2 dy-btn dy-btn-circle dy-btn-ghost "+(y[8]?"visible":"invisible")))&&B(l,"class",d);const De=I[0]&32?Xr(Ee,[kn(y[5])]):{};C.$set(De);const ce={};I[0]&1024&&(ce.deg=y[10]==="ltr"?0:180),q.$set(ce),(!oe||I[0]&128&&_!==(_="fixed mx-auto top-1/2 dy-btn dy-btn-circle dy-btn-ghost "+(y[7]?"visible":"invisible")))&&B(S,"class",_),I[0]&1024&&_e(s,"direction",y[10]),(!oe||I[0]&64)&&jt(o,"borderimg",y[6]);const Se=I[0]&16?Xr(we,[kn(y[4])]):{};L.$set(Se);let Re=U;U=z(y),U===Re?~U&&G[U].p(y,I):(K&&(bt(),le(G[Re],1,1,()=>{G[Re]=null}),Bt()),~U?(K=G[U],K?K.p(y,I):(K=G[U]=N[U](y),K.c()),se(K,1),K.m(e,null)):K=null)},i(y){oe||(se(r.$$.fragment,y),se(c.$$.fragment,y),se(C.$$.fragment,y),se(q.$$.fragment,y),se(L.$$.fragment,y),se(K),oe=!0)},o(y){le(r.$$.fragment,y),le(c.$$.fragment,y),le(C.$$.fragment,y),le(q.$$.fragment,y),le(L.$$.fragment,y),le(K),oe=!1},d(y){y&&O(e),Ne(r),X&&X.d(),Ne(c),Ne(C),Ne(q),t[48](null),Ne(L),~U&&G[U].d(),Q=!1,gr(Ce)}}}let vO="default";const WF=()=>({});function yO(t,e,u){var b,$;let r,n,a,o,s,i,l,c,d,p,h,F,g,A,C,E,v,S,q,_,T,R,L,J,U,K,oe,Q;Ve(t,El,w=>u(53,p=w)),Ve(t,Ut,w=>u(0,h=w)),Ve(t,zF,w=>u(31,F=w)),Ve(t,Sn,w=>u(32,g=w)),Ve(t,AA,w=>u(33,A=w)),Ve(t,An,w=>u(9,C=w)),Ve(t,VC,w=>u(34,E=w)),Ve(t,WC,w=>u(35,v=w)),Ve(t,Cl,w=>u(36,S=w)),Ve(t,Qr,w=>u(37,q=w)),Ve(t,zC,w=>u(38,_=w)),Ve(t,GC,w=>u(39,T=w)),Ve(t,HC,w=>u(40,R=w)),Ve(t,JC,w=>u(41,L=w)),Ve(t,ZC,w=>u(10,J=w)),Ve(t,rr,w=>u(11,U=w)),Ve(t,lu,w=>u(12,K=w)),Ve(t,Ru,w=>u(13,oe=w)),Ve(t,KC,w=>u(14,Q=w));let Ce=0;function X(){ce&&(Ce=ce.scrollTop)}nA(()=>{ce&&u(1,ce.scrollTop=Ce,ce)}),Ut.subscribe(w=>{Ce=0});function Ee(w){console.log("SWIPE",w.detail.direction);const M=h;Ut.skip(w.detail.direction==="right"?-1:1),M!==h&&vn({collection:h.collection,book:h.book,chapter:h.chapter})}function ye(){Ut.skip(-1),vn({collection:h.collection,book:h.book,chapter:h.chapter})}function we(){Ut.skip(1),vn({collection:h.collection,book:h.book,chapter:h.chapter})}const ae=Qe.mainFeatures["text-size-min"],N=Qe.mainFeatures["text-size-max"];let G=1;function z(){const w=event.detail.scale;Cl.update(M=>{if(Math.abs(w-G)>.1){const fe=w>G?M+1:M-1;return G=w,Math.max(ae,Math.min(N,fe))}else return M})}const y=Qe.mainFeatures.search,I=Qe.bookCollections.length>1,H=Qe.mainFeatures["layout-config-change-toolbar-button"],me=Qe.mainFeatures["layout-config-change-viewer-button"],De=Qe.mainFeatures["audio-allow-turn-on-off"];let ce,Se=!1;function Re(w){u(2,Se=!1)}(b=A.data)!=null&&b.ref&&Ut.set(QC(A.data.ref)),($=A.data)!=null&&$.audio&&zt(An,C=A.data.audio==="1",C);const ct={};let Xe,rt;const At=so.subscribe((w,M)=>{u(27,Xe=w),rt=M},vO);JF(At);const ft=w=>{if(rt===ct||!w)return;let M=document.querySelector(`div[data-verse="${w.split("-")[0]}"][data-phrase="${w.split("-")[1]}"]`);nt(M)};function dt(w){let M;clearTimeout(M),M=setTimeout(()=>{a0(w)},1e3)}const wt=(()=>{let w;return()=>{clearTimeout(w),w=setTimeout(()=>{let M=h.verse;if(M===""||M==="1")so.set("start-none");else{let fe=M+"-a",be=M+"a";so.set(fe),_l(h),dt(be)}},50)}})();function nt(w){var M;if(w&&w.classList.contains("scroll-item")){const fe=w.getBoundingClientRect(),be=(M=document.getElementsByClassName("container")[0])==null?void 0:M.getBoundingClientRect(),qe=ce.scrollTop,Te=ce.clientHeight;if(!(fe.top-be.top-30>=qe&&fe.bottom-be.top+30<=Te+qe)){let St=fe.top-be.top-30;ce.scrollTo({top:St,behavior:"smooth"}),St>0&&(Ce=St)}}}let tt="";const kt=(w,M)=>{let fe=document.getElementsByClassName("container")[0];const be=fe==null?void 0:fe.getElementsByClassName("highlighting");for(let qe=0;qe<(be==null?void 0:be.length);qe++){const Te=be[qe],Je=Te.getAttributeNode("style");Te.removeAttributeNode(Je),Te.classList.remove("highlighting")}for(const qe of w){const Je=/[a-z]/.test(qe)?qe:qe+"a",St=document.getElementById(Je);if(St===null)break;St.setAttribute("style","background-color: "+M+";"),St.classList.add("highlighting");const cu=`${St==null?void 0:St.getAttribute("data-verse")}-${St==null?void 0:St.getAttribute("data-phrase")}`;cu!==tt&&(tt=cu,nt(St))}},ie=YC;XF(()=>{p&&zt(El,p=!1,p)});const Ft=()=>{zt(An,C=!C,C)},x=()=>ma.open(XC),Z=()=>ma.open(Al),ne=()=>{u(2,Se=!Se),event.stopPropagation()},m=w=>w.id===h.collection,D=()=>ma.open(Al);function f(w){Cr[w?"unshift":"push"](()=>{ce=w,u(1,ce)})}return t.$$.update=()=>{var w;t.$$.dirty[0]&1&&u(8,r=h.prev.chapter!==null),t.$$.dirty[0]&1&&u(7,n=h.next.chapter!==null),t.$$.dirty[0]&1|t.$$.dirty[1]&64&&u(29,a=q["verse-numbers"]&&VP("show-verse-numbers",h.collection,h.book)),t.$$.dirty[0]&1&&u(30,o=WP("audio-phrase-end-chars",h.collection,h.book)),t.$$.dirty[1]&64&&u(6,s=Qe.traits["has-borders"]),t.$$.dirty[0]&1610612737|t.$$.dirty[1]&2046&&u(5,i={audioPhraseEndChars:o,bodyFontSize:S,bodyLineHeight:v,bookmarks:L,notes:R,highlights:T,maxSelections:Qe.mainFeatures["annotation-max-select"],redLetters:q["red-letters"],references:h,glossary:_,selectedVerses:lu,themeColors:g,verseLayout:q["verse-layout"],viewShowBibleImages:q["display-images-in-bible-text"],viewShowBibleVideos:q["display-videos-in-bible-text"],viewShowIllustrations:Qe.mainFeatures["show-illustrations"],viewShowVerses:a,viewShowGlossaryWords:q["glossary-words"],font:E,proskomma:(w=A.data)==null?void 0:w.proskomma}),t.$$.dirty[1]&56&&u(4,l={bodyFontSize:S,bodyLineHeight:v,font:E}),t.$$.dirty[0]&134217728&&ft(Xe),t.$$.dirty[1]&2&&u(28,d=g.TextHighlightColor),t.$$.dirty[0]&268435456|t.$$.dirty[1]&1&&kt(F,d),t.$$.dirty[0]&1&&_l(h),t.$$.dirty[0]&1&&wt(h)},u(3,c=H),[h,ce,Se,c,l,i,s,n,r,C,J,U,K,oe,Q,X,Ee,ye,we,z,y,I,H,me,De,Re,ie,Xe,d,a,o,F,g,A,E,v,S,q,_,T,R,L,Ft,x,Z,ne,m,D,f]}class HO extends st{constructor(e){super(),it(this,e,yO,AO,ot,{},null,[-1,-1,-1])}}export{HO as component,jO as universal};
